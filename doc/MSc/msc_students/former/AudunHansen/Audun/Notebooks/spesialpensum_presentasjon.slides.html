
<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<title>spesialpensum_presentasjon slides</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<!-- General and theme style sheets -->
<link rel="stylesheet" href="reveal.js/css/reveal.css">
<link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">

<!-- For syntax highlighting -->
<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">

<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
}

</script>

<!--[if lt IE 9]>
<script src="reveal.js/lib/js/html5shiv.js"></script>
<![endif]-->

<!-- Get Font-awesome from cdn -->
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">

<style type="text/css">
    .clearfix{*zoom:1}.clearfix:before,.clearfix:after{display:table;content:"";line-height:0}
.clearfix:after{clear:both}
.hide-text{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}
.input-block-level{display:block;width:100%;min-height:30px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}
article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}
audio,canvas,video{display:inline-block;*display:inline;*zoom:1}
audio:not([controls]){display:none}
html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}
a:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}
a:hover,a:active{outline:0}
sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}
sup{top:-0.5em}
sub{bottom:-0.25em}
img{max-width:100%;width:auto\9;height:auto;vertical-align:middle;border:0;-ms-interpolation-mode:bicubic}
#map_canvas img,.google-maps img{max-width:none}
button,input,select,textarea{margin:0;font-size:100%;vertical-align:middle}
button,input{*overflow:visible;line-height:normal}
button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
label,select,button,input[type="button"],input[type="reset"],input[type="submit"],input[type="radio"],input[type="checkbox"]{cursor:pointer}
input[type="search"]{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-appearance:textfield}
input[type="search"]::-webkit-search-decoration,input[type="search"]::-webkit-search-cancel-button{-webkit-appearance:none}
textarea{overflow:auto;vertical-align:top}
@media print{*{text-shadow:none !important;color:#000 !important;background:transparent !important;box-shadow:none !important} a,a:visited{text-decoration:underline} a[href]:after{content:" (" attr(href) ")"} abbr[title]:after{content:" (" attr(title) ")"} .ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""} pre,blockquote{border:1px solid #999;page-break-inside:avoid} thead{display:table-header-group} tr,img{page-break-inside:avoid} img{max-width:100% !important} @page {margin:.5cm}p,h2,h3{orphans:3;widows:3} h2,h3{page-break-after:avoid}}body{margin:0;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;line-height:20px;color:#000;background-color:#fff}
a{color:#08c;text-decoration:none}
a:hover,a:focus{color:#005580;text-decoration:underline}
.img-rounded{border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}
.img-polaroid{padding:4px;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,0.2);-webkit-box-shadow:0 1px 3px rgba(0,0,0,0.1);-moz-box-shadow:0 1px 3px rgba(0,0,0,0.1);box-shadow:0 1px 3px rgba(0,0,0,0.1)}
.img-circle{border-radius:500px;-webkit-border-radius:500px;-moz-border-radius:500px;border-radius:500px}
.row{margin-left:-20px;*zoom:1}.row:before,.row:after{display:table;content:"";line-height:0}
.row:after{clear:both}
[class*="span"]{float:left;min-height:1px;margin-left:20px}
.container,.navbar-static-top .container,.navbar-fixed-top .container,.navbar-fixed-bottom .container{width:940px}
.span12{width:940px}
.span11{width:860px}
.span10{width:780px}
.span9{width:700px}
.span8{width:620px}
.span7{width:540px}
.span6{width:460px}
.span5{width:380px}
.span4{width:300px}
.span3{width:220px}
.span2{width:140px}
.span1{width:60px}
.offset12{margin-left:980px}
.offset11{margin-left:900px}
.offset10{margin-left:820px}
.offset9{margin-left:740px}
.offset8{margin-left:660px}
.offset7{margin-left:580px}
.offset6{margin-left:500px}
.offset5{margin-left:420px}
.offset4{margin-left:340px}
.offset3{margin-left:260px}
.offset2{margin-left:180px}
.offset1{margin-left:100px}
.row-fluid{width:100%;*zoom:1}.row-fluid:before,.row-fluid:after{display:table;content:"";line-height:0}
.row-fluid:after{clear:both}
.row-fluid [class*="span"]{display:block;width:100%;min-height:30px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;float:left;margin-left:2.127659574468085%;*margin-left:2.074468085106383%}
.row-fluid [class*="span"]:first-child{margin-left:0}
.row-fluid .controls-row [class*="span"]+[class*="span"]{margin-left:2.127659574468085%}
.row-fluid .span12{width:100%;*width:99.94680851063829%}
.row-fluid .span11{width:91.48936170212765%;*width:91.43617021276594%}
.row-fluid .span10{width:82.97872340425532%;*width:82.92553191489361%}
.row-fluid .span9{width:74.46808510638297%;*width:74.41489361702126%}
.row-fluid .span8{width:65.95744680851064%;*width:65.90425531914893%}
.row-fluid .span7{width:57.44680851063829%;*width:57.39361702127659%}
.row-fluid .span6{width:48.93617021276595%;*width:48.88297872340425%}
.row-fluid .span5{width:40.42553191489362%;*width:40.37234042553192%}
.row-fluid .span4{width:31.914893617021278%;*width:31.861702127659576%}
.row-fluid .span3{width:23.404255319148934%;*width:23.351063829787233%}
.row-fluid .span2{width:14.893617021276595%;*width:14.840425531914894%}
.row-fluid .span1{width:6.382978723404255%;*width:6.329787234042553%}
.row-fluid .offset12{margin-left:104.25531914893617%;*margin-left:104.14893617021275%}
.row-fluid .offset12:first-child{margin-left:102.12765957446808%;*margin-left:102.02127659574467%}
.row-fluid .offset11{margin-left:95.74468085106382%;*margin-left:95.6382978723404%}
.row-fluid .offset11:first-child{margin-left:93.61702127659574%;*margin-left:93.51063829787232%}
.row-fluid .offset10{margin-left:87.23404255319149%;*margin-left:87.12765957446807%}
.row-fluid .offset10:first-child{margin-left:85.1063829787234%;*margin-left:84.99999999999999%}
.row-fluid .offset9{margin-left:78.72340425531914%;*margin-left:78.61702127659572%}
.row-fluid .offset9:first-child{margin-left:76.59574468085106%;*margin-left:76.48936170212764%}
.row-fluid .offset8{margin-left:70.2127659574468%;*margin-left:70.10638297872339%}
.row-fluid .offset8:first-child{margin-left:68.08510638297872%;*margin-left:67.9787234042553%}
.row-fluid .offset7{margin-left:61.70212765957446%;*margin-left:61.59574468085106%}
.row-fluid .offset7:first-child{margin-left:59.574468085106375%;*margin-left:59.46808510638297%}
.row-fluid .offset6{margin-left:53.191489361702125%;*margin-left:53.085106382978715%}
.row-fluid .offset6:first-child{margin-left:51.063829787234035%;*margin-left:50.95744680851063%}
.row-fluid .offset5{margin-left:44.68085106382979%;*margin-left:44.57446808510638%}
.row-fluid .offset5:first-child{margin-left:42.5531914893617%;*margin-left:42.4468085106383%}
.row-fluid .offset4{margin-left:36.170212765957444%;*margin-left:36.06382978723405%}
.row-fluid .offset4:first-child{margin-left:34.04255319148936%;*margin-left:33.93617021276596%}
.row-fluid .offset3{margin-left:27.659574468085104%;*margin-left:27.5531914893617%}
.row-fluid .offset3:first-child{margin-left:25.53191489361702%;*margin-left:25.425531914893618%}
.row-fluid .offset2{margin-left:19.148936170212764%;*margin-left:19.04255319148936%}
.row-fluid .offset2:first-child{margin-left:17.02127659574468%;*margin-left:16.914893617021278%}
.row-fluid .offset1{margin-left:10.638297872340425%;*margin-left:10.53191489361702%}
.row-fluid .offset1:first-child{margin-left:8.51063829787234%;*margin-left:8.404255319148938%}
[class*="span"].hide,.row-fluid [class*="span"].hide{display:none}
[class*="span"].pull-right,.row-fluid [class*="span"].pull-right{float:right}
.container{margin-right:auto;margin-left:auto;*zoom:1}.container:before,.container:after{display:table;content:"";line-height:0}
.container:after{clear:both}
.container-fluid{padding-right:20px;padding-left:20px;*zoom:1}.container-fluid:before,.container-fluid:after{display:table;content:"";line-height:0}
.container-fluid:after{clear:both}
p{margin:0 0 10px}
.lead{margin-bottom:20px;font-size:19.5px;font-weight:200;line-height:30px}
small{font-size:85%}
strong{font-weight:bold}
em{font-style:italic}
cite{font-style:normal}
.muted{color:#999}
a.muted:hover,a.muted:focus{color:#808080}
.text-warning{color:#c09853}
a.text-warning:hover,a.text-warning:focus{color:#a47e3c}
.text-error{color:#b94a48}
a.text-error:hover,a.text-error:focus{color:#953b39}
.text-info{color:#3a87ad}
a.text-info:hover,a.text-info:focus{color:#2d6987}
.text-success{color:#468847}
a.text-success:hover,a.text-success:focus{color:#356635}
.text-left{text-align:left}
.text-right{text-align:right}
.text-center{text-align:center}
h1,h2,h3,h4,h5,h6{margin:10px 0;font-family:inherit;font-weight:bold;line-height:20px;color:inherit;text-rendering:optimizelegibility}h1 small,h2 small,h3 small,h4 small,h5 small,h6 small{font-weight:normal;line-height:1;color:#999}
h1,h2,h3{line-height:40px}
h1{font-size:35.75px}
h2{font-size:29.25px}
h3{font-size:22.75px}
h4{font-size:16.25px}
h5{font-size:13px}
h6{font-size:11.049999999999999px}
h1 small{font-size:22.75px}
h2 small{font-size:16.25px}
h3 small{font-size:13px}
h4 small{font-size:13px}
.page-header{padding-bottom:9px;margin:20px 0 30px;border-bottom:1px solid #eee}
ul,ol{padding:0;margin:0 0 10px 25px}
ul ul,ul ol,ol ol,ol ul{margin-bottom:0}
li{line-height:20px}
ul.unstyled,ol.unstyled{margin-left:0;list-style:none}
ul.inline,ol.inline{margin-left:0;list-style:none}ul.inline>li,ol.inline>li{display:inline-block;*display:inline;*zoom:1;padding-left:5px;padding-right:5px}
dl{margin-bottom:20px}
dt,dd{line-height:20px}
dt{font-weight:bold}
dd{margin-left:10px}
.dl-horizontal{*zoom:1}.dl-horizontal:before,.dl-horizontal:after{display:table;content:"";line-height:0}
.dl-horizontal:after{clear:both}
.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.dl-horizontal dd{margin-left:180px}
hr{margin:20px 0;border:0;border-top:1px solid #eee;border-bottom:1px solid #fff}
abbr[title],abbr[data-original-title]{cursor:help;border-bottom:1px dotted #999}
abbr.initialism{font-size:90%;text-transform:uppercase}
blockquote{padding:0 0 0 15px;margin:0 0 20px;border-left:5px solid #eee}blockquote p{margin-bottom:0;font-size:16.25px;font-weight:300;line-height:1.25}
blockquote small{display:block;line-height:20px;color:#999}blockquote small:before{content:'\2014 \00A0'}
blockquote.pull-right{float:right;padding-right:15px;padding-left:0;border-right:5px solid #eee;border-left:0}blockquote.pull-right p,blockquote.pull-right small{text-align:right}
blockquote.pull-right small:before{content:''}
blockquote.pull-right small:after{content:'\00A0 \2014'}
q:before,q:after,blockquote:before,blockquote:after{content:""}
address{display:block;margin-bottom:20px;font-style:normal;line-height:20px}
code,pre{padding:0 3px 2px;font-family:monospace;font-size:11px;color:#333;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}
code{padding:2px 4px;color:#d14;background-color:#f7f7f9;border:1px solid #e1e1e8;white-space:nowrap}
pre{display:block;padding:9.5px;margin:0 0 10px;font-size:12px;line-height:20px;word-break:break-all;word-wrap:break-word;white-space:pre;white-space:pre-wrap;background-color:#f5f5f5;border:1px solid #ccc;border:1px solid rgba(0,0,0,0.15);border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}pre.prettyprint{margin-bottom:20px}
pre code{padding:0;color:inherit;white-space:pre;white-space:pre-wrap;background-color:transparent;border:0}
.pre-scrollable{max-height:340px;overflow-y:scroll}
form{margin:0 0 20px}
fieldset{padding:0;margin:0;border:0}
legend{display:block;width:100%;padding:0;margin-bottom:20px;font-size:19.5px;line-height:40px;color:#333;border:0;border-bottom:1px solid #e5e5e5}legend small{font-size:15px;color:#999}
label,input,button,select,textarea{font-size:13px;font-weight:normal;line-height:20px}
input,button,select,textarea{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}
label{display:block;margin-bottom:5px}
select,textarea,input[type="text"],input[type="password"],input[type="datetime"],input[type="datetime-local"],input[type="date"],input[type="month"],input[type="time"],input[type="week"],input[type="number"],input[type="email"],input[type="url"],input[type="search"],input[type="tel"],input[type="color"],.uneditable-input{display:inline-block;height:20px;padding:4px 6px;margin-bottom:10px;font-size:13px;line-height:20px;color:#555;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;vertical-align:middle}
input,textarea,.uneditable-input{width:206px}
textarea{height:auto}
textarea,input[type="text"],input[type="password"],input[type="datetime"],input[type="datetime-local"],input[type="date"],input[type="month"],input[type="time"],input[type="week"],input[type="number"],input[type="email"],input[type="url"],input[type="search"],input[type="tel"],input[type="color"],.uneditable-input{background-color:#fff;border:1px solid #ccc;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-webkit-transition:border linear .2s, box-shadow linear .2s;-moz-transition:border linear .2s, box-shadow linear .2s;-o-transition:border linear .2s, box-shadow linear .2s;transition:border linear .2s, box-shadow linear .2s}textarea:focus,input[type="text"]:focus,input[type="password"]:focus,input[type="datetime"]:focus,input[type="datetime-local"]:focus,input[type="date"]:focus,input[type="month"]:focus,input[type="time"]:focus,input[type="week"]:focus,input[type="number"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="color"]:focus,.uneditable-input:focus{border-color:rgba(82,168,236,0.8);outline:0;outline:thin dotted \9;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(82,168,236,.6);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(82,168,236,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(82,168,236,.6)}
input[type="radio"],input[type="checkbox"]{margin:4px 0 0;*margin-top:0;margin-top:1px \9;line-height:normal}
input[type="file"],input[type="image"],input[type="submit"],input[type="reset"],input[type="button"],input[type="radio"],input[type="checkbox"]{width:auto}
select,input[type="file"]{height:30px;*margin-top:4px;line-height:30px}
select{width:220px;border:1px solid #ccc;background-color:#fff}
select[multiple],select[size]{height:auto}
select:focus,input[type="file"]:focus,input[type="radio"]:focus,input[type="checkbox"]:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}
.uneditable-input,.uneditable-textarea{color:#999;background-color:#fcfcfc;border-color:#ccc;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,0.025);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,0.025);box-shadow:inset 0 1px 2px rgba(0,0,0,0.025);cursor:not-allowed}
.uneditable-input{overflow:hidden;white-space:nowrap}
.uneditable-textarea{width:auto;height:auto}
input:-moz-placeholder,textarea:-moz-placeholder{color:#999}
input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#999}
input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#999}
.radio,.checkbox{min-height:20px;padding-left:20px}
.radio input[type="radio"],.checkbox input[type="checkbox"]{float:left;margin-left:-20px}
.controls>.radio:first-child,.controls>.checkbox:first-child{padding-top:5px}
.radio.inline,.checkbox.inline{display:inline-block;padding-top:5px;margin-bottom:0;vertical-align:middle}
.radio.inline+.radio.inline,.checkbox.inline+.checkbox.inline{margin-left:10px}
.input-mini{width:60px}
.input-small{width:90px}
.input-medium{width:150px}
.input-large{width:210px}
.input-xlarge{width:270px}
.input-xxlarge{width:530px}
input[class*="span"],select[class*="span"],textarea[class*="span"],.uneditable-input[class*="span"],.row-fluid input[class*="span"],.row-fluid select[class*="span"],.row-fluid textarea[class*="span"],.row-fluid .uneditable-input[class*="span"]{float:none;margin-left:0}
.input-append input[class*="span"],.input-append .uneditable-input[class*="span"],.input-prepend input[class*="span"],.input-prepend .uneditable-input[class*="span"],.row-fluid input[class*="span"],.row-fluid select[class*="span"],.row-fluid textarea[class*="span"],.row-fluid .uneditable-input[class*="span"],.row-fluid .input-prepend [class*="span"],.row-fluid .input-append [class*="span"]{display:inline-block}
input,textarea,.uneditable-input{margin-left:0}
.controls-row [class*="span"]+[class*="span"]{margin-left:20px}
input.span12,textarea.span12,.uneditable-input.span12{width:926px}
input.span11,textarea.span11,.uneditable-input.span11{width:846px}
input.span10,textarea.span10,.uneditable-input.span10{width:766px}
input.span9,textarea.span9,.uneditable-input.span9{width:686px}
input.span8,textarea.span8,.uneditable-input.span8{width:606px}
input.span7,textarea.span7,.uneditable-input.span7{width:526px}
input.span6,textarea.span6,.uneditable-input.span6{width:446px}
input.span5,textarea.span5,.uneditable-input.span5{width:366px}
input.span4,textarea.span4,.uneditable-input.span4{width:286px}
input.span3,textarea.span3,.uneditable-input.span3{width:206px}
input.span2,textarea.span2,.uneditable-input.span2{width:126px}
input.span1,textarea.span1,.uneditable-input.span1{width:46px}
.controls-row{*zoom:1}.controls-row:before,.controls-row:after{display:table;content:"";line-height:0}
.controls-row:after{clear:both}
.controls-row [class*="span"],.row-fluid .controls-row [class*="span"]{float:left}
.controls-row .checkbox[class*="span"],.controls-row .radio[class*="span"]{padding-top:5px}
input[disabled],select[disabled],textarea[disabled],input[readonly],select[readonly],textarea[readonly]{cursor:not-allowed;background-color:#eee}
input[type="radio"][disabled],input[type="checkbox"][disabled],input[type="radio"][readonly],input[type="checkbox"][readonly]{background-color:transparent}
.control-group.warning .control-label,.control-group.warning .help-block,.control-group.warning .help-inline{color:#c09853}
.control-group.warning .checkbox,.control-group.warning .radio,.control-group.warning input,.control-group.warning select,.control-group.warning textarea{color:#c09853}
.control-group.warning input,.control-group.warning select,.control-group.warning textarea{border-color:#c09853;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.control-group.warning input:focus,.control-group.warning select:focus,.control-group.warning textarea:focus{border-color:#a47e3c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #dbc59e;-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #dbc59e;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #dbc59e}
.control-group.warning .input-prepend .add-on,.control-group.warning .input-append .add-on{color:#c09853;background-color:#fcf8e3;border-color:#c09853}
.control-group.error .control-label,.control-group.error .help-block,.control-group.error .help-inline{color:#b94a48}
.control-group.error .checkbox,.control-group.error .radio,.control-group.error input,.control-group.error select,.control-group.error textarea{color:#b94a48}
.control-group.error input,.control-group.error select,.control-group.error textarea{border-color:#b94a48;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.control-group.error input:focus,.control-group.error select:focus,.control-group.error textarea:focus{border-color:#953b39;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #d59392;-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #d59392;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #d59392}
.control-group.error .input-prepend .add-on,.control-group.error .input-append .add-on{color:#b94a48;background-color:#f2dede;border-color:#b94a48}
.control-group.success .control-label,.control-group.success .help-block,.control-group.success .help-inline{color:#468847}
.control-group.success .checkbox,.control-group.success .radio,.control-group.success input,.control-group.success select,.control-group.success textarea{color:#468847}
.control-group.success input,.control-group.success select,.control-group.success textarea{border-color:#468847;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.control-group.success input:focus,.control-group.success select:focus,.control-group.success textarea:focus{border-color:#356635;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #7aba7b;-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #7aba7b;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #7aba7b}
.control-group.success .input-prepend .add-on,.control-group.success .input-append .add-on{color:#468847;background-color:#dff0d8;border-color:#468847}
.control-group.info .control-label,.control-group.info .help-block,.control-group.info .help-inline{color:#3a87ad}
.control-group.info .checkbox,.control-group.info .radio,.control-group.info input,.control-group.info select,.control-group.info textarea{color:#3a87ad}
.control-group.info input,.control-group.info select,.control-group.info textarea{border-color:#3a87ad;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)}.control-group.info input:focus,.control-group.info select:focus,.control-group.info textarea:focus{border-color:#2d6987;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #7ab5d3;-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #7ab5d3;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #7ab5d3}
.control-group.info .input-prepend .add-on,.control-group.info .input-append .add-on{color:#3a87ad;background-color:#d9edf7;border-color:#3a87ad}
input:focus:invalid,textarea:focus:invalid,select:focus:invalid{color:#b94a48;border-color:#ee5f5b}input:focus:invalid:focus,textarea:focus:invalid:focus,select:focus:invalid:focus{border-color:#e9322d;-webkit-box-shadow:0 0 6px #f8b9b7;-moz-box-shadow:0 0 6px #f8b9b7;box-shadow:0 0 6px #f8b9b7}
.form-actions{padding:19px 20px 20px;margin-top:20px;margin-bottom:20px;background-color:#f5f5f5;border-top:1px solid #e5e5e5;*zoom:1}.form-actions:before,.form-actions:after{display:table;content:"";line-height:0}
.form-actions:after{clear:both}
.help-block,.help-inline{color:#262626}
.help-block{display:block;margin-bottom:10px}
.help-inline{display:inline-block;*display:inline;*zoom:1;vertical-align:middle;padding-left:5px}
.input-append,.input-prepend{display:inline-block;margin-bottom:10px;vertical-align:middle;font-size:0;white-space:nowrap}.input-append input,.input-prepend input,.input-append select,.input-prepend select,.input-append .uneditable-input,.input-prepend .uneditable-input,.input-append .dropdown-menu,.input-prepend .dropdown-menu,.input-append .popover,.input-prepend .popover{font-size:13px}
.input-append input,.input-prepend input,.input-append select,.input-prepend select,.input-append .uneditable-input,.input-prepend .uneditable-input{position:relative;margin-bottom:0;*margin-left:0;vertical-align:top;border-radius:0 4px 4px 0;-webkit-border-radius:0 4px 4px 0;-moz-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}.input-append input:focus,.input-prepend input:focus,.input-append select:focus,.input-prepend select:focus,.input-append .uneditable-input:focus,.input-prepend .uneditable-input:focus{z-index:2}
.input-append .add-on,.input-prepend .add-on{display:inline-block;width:auto;height:20px;min-width:16px;padding:4px 5px;font-size:13px;font-weight:normal;line-height:20px;text-align:center;text-shadow:0 1px 0 #fff;background-color:#eee;border:1px solid #ccc}
.input-append .add-on,.input-prepend .add-on,.input-append .btn,.input-prepend .btn,.input-append .btn-group>.dropdown-toggle,.input-prepend .btn-group>.dropdown-toggle{vertical-align:top;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
.input-append .active,.input-prepend .active{background-color:#a9dba9;border-color:#46a546}
.input-prepend .add-on,.input-prepend .btn{margin-right:-1px}
.input-prepend .add-on:first-child,.input-prepend .btn:first-child{border-radius:4px 0 0 4px;-webkit-border-radius:4px 0 0 4px;-moz-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px}
.input-append input,.input-append select,.input-append .uneditable-input{border-radius:4px 0 0 4px;-webkit-border-radius:4px 0 0 4px;-moz-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px}.input-append input+.btn-group .btn:last-child,.input-append select+.btn-group .btn:last-child,.input-append .uneditable-input+.btn-group .btn:last-child{border-radius:0 4px 4px 0;-webkit-border-radius:0 4px 4px 0;-moz-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}
.input-append .add-on,.input-append .btn,.input-append .btn-group{margin-left:-1px}
.input-append .add-on:last-child,.input-append .btn:last-child,.input-append .btn-group:last-child>.dropdown-toggle{border-radius:0 4px 4px 0;-webkit-border-radius:0 4px 4px 0;-moz-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}
.input-prepend.input-append input,.input-prepend.input-append select,.input-prepend.input-append .uneditable-input{border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.input-prepend.input-append input+.btn-group .btn,.input-prepend.input-append select+.btn-group .btn,.input-prepend.input-append .uneditable-input+.btn-group .btn{border-radius:0 4px 4px 0;-webkit-border-radius:0 4px 4px 0;-moz-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}
.input-prepend.input-append .add-on:first-child,.input-prepend.input-append .btn:first-child{margin-right:-1px;border-radius:4px 0 0 4px;-webkit-border-radius:4px 0 0 4px;-moz-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px}
.input-prepend.input-append .add-on:last-child,.input-prepend.input-append .btn:last-child{margin-left:-1px;border-radius:0 4px 4px 0;-webkit-border-radius:0 4px 4px 0;-moz-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}
.input-prepend.input-append .btn-group:first-child{margin-left:0}
input.search-query{padding-right:14px;padding-right:4px \9;padding-left:14px;padding-left:4px \9;margin-bottom:0;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px}
.form-search .input-append .search-query,.form-search .input-prepend .search-query{border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
.form-search .input-append .search-query{border-radius:14px 0 0 14px;-webkit-border-radius:14px 0 0 14px;-moz-border-radius:14px 0 0 14px;border-radius:14px 0 0 14px}
.form-search .input-append .btn{border-radius:0 14px 14px 0;-webkit-border-radius:0 14px 14px 0;-moz-border-radius:0 14px 14px 0;border-radius:0 14px 14px 0}
.form-search .input-prepend .search-query{border-radius:0 14px 14px 0;-webkit-border-radius:0 14px 14px 0;-moz-border-radius:0 14px 14px 0;border-radius:0 14px 14px 0}
.form-search .input-prepend .btn{border-radius:14px 0 0 14px;-webkit-border-radius:14px 0 0 14px;-moz-border-radius:14px 0 0 14px;border-radius:14px 0 0 14px}
.form-search input,.form-inline input,.form-horizontal input,.form-search textarea,.form-inline textarea,.form-horizontal textarea,.form-search select,.form-inline select,.form-horizontal select,.form-search .help-inline,.form-inline .help-inline,.form-horizontal .help-inline,.form-search .uneditable-input,.form-inline .uneditable-input,.form-horizontal .uneditable-input,.form-search .input-prepend,.form-inline .input-prepend,.form-horizontal .input-prepend,.form-search .input-append,.form-inline .input-append,.form-horizontal .input-append{display:inline-block;*display:inline;*zoom:1;margin-bottom:0;vertical-align:middle}
.form-search .hide,.form-inline .hide,.form-horizontal .hide{display:none}
.form-search label,.form-inline label,.form-search .btn-group,.form-inline .btn-group{display:inline-block}
.form-search .input-append,.form-inline .input-append,.form-search .input-prepend,.form-inline .input-prepend{margin-bottom:0}
.form-search .radio,.form-search .checkbox,.form-inline .radio,.form-inline .checkbox{padding-left:0;margin-bottom:0;vertical-align:middle}
.form-search .radio input[type="radio"],.form-search .checkbox input[type="checkbox"],.form-inline .radio input[type="radio"],.form-inline .checkbox input[type="checkbox"]{float:left;margin-right:3px;margin-left:0}
.control-group{margin-bottom:10px}
legend+.control-group{margin-top:20px;-webkit-margin-top-collapse:separate}
.form-horizontal .control-group{margin-bottom:20px;*zoom:1}.form-horizontal .control-group:before,.form-horizontal .control-group:after{display:table;content:"";line-height:0}
.form-horizontal .control-group:after{clear:both}
.form-horizontal .control-label{float:left;width:160px;padding-top:5px;text-align:right}
.form-horizontal .controls{*display:inline-block;*padding-left:20px;margin-left:180px;*margin-left:0}.form-horizontal .controls:first-child{*padding-left:180px}
.form-horizontal .help-block{margin-bottom:0}
.form-horizontal input+.help-block,.form-horizontal select+.help-block,.form-horizontal textarea+.help-block,.form-horizontal .uneditable-input+.help-block,.form-horizontal .input-prepend+.help-block,.form-horizontal .input-append+.help-block{margin-top:10px}
.form-horizontal .form-actions{padding-left:180px}
table{max-width:100%;background-color:transparent;border-collapse:collapse;border-spacing:0}
.table{width:100%;margin-bottom:20px}.table th,.table td{padding:8px;line-height:20px;text-align:left;vertical-align:top;border-top:1px solid #ddd}
.table th{font-weight:bold}
.table thead th{vertical-align:bottom}
.table caption+thead tr:first-child th,.table caption+thead tr:first-child td,.table colgroup+thead tr:first-child th,.table colgroup+thead tr:first-child td,.table thead:first-child tr:first-child th,.table thead:first-child tr:first-child td{border-top:0}
.table tbody+tbody{border-top:2px solid #ddd}
.table .table{background-color:#fff}
.table-condensed th,.table-condensed td{padding:4px 5px}
.table-bordered{border:1px solid #ddd;border-collapse:separate;*border-collapse:collapse;border-left:0;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.table-bordered th,.table-bordered td{border-left:1px solid #ddd}
.table-bordered caption+thead tr:first-child th,.table-bordered caption+tbody tr:first-child th,.table-bordered caption+tbody tr:first-child td,.table-bordered colgroup+thead tr:first-child th,.table-bordered colgroup+tbody tr:first-child th,.table-bordered colgroup+tbody tr:first-child td,.table-bordered thead:first-child tr:first-child th,.table-bordered tbody:first-child tr:first-child th,.table-bordered tbody:first-child tr:first-child td{border-top:0}
.table-bordered thead:first-child tr:first-child>th:first-child,.table-bordered tbody:first-child tr:first-child>td:first-child,.table-bordered tbody:first-child tr:first-child>th:first-child{-webkit-border-top-left-radius:4px;-moz-border-radius-topleft:4px;border-top-left-radius:4px}
.table-bordered thead:first-child tr:first-child>th:last-child,.table-bordered tbody:first-child tr:first-child>td:last-child,.table-bordered tbody:first-child tr:first-child>th:last-child{-webkit-border-top-right-radius:4px;-moz-border-radius-topright:4px;border-top-right-radius:4px}
.table-bordered thead:last-child tr:last-child>th:first-child,.table-bordered tbody:last-child tr:last-child>td:first-child,.table-bordered tbody:last-child tr:last-child>th:first-child,.table-bordered tfoot:last-child tr:last-child>td:first-child,.table-bordered tfoot:last-child tr:last-child>th:first-child{-webkit-border-bottom-left-radius:4px;-moz-border-radius-bottomleft:4px;border-bottom-left-radius:4px}
.table-bordered thead:last-child tr:last-child>th:last-child,.table-bordered tbody:last-child tr:last-child>td:last-child,.table-bordered tbody:last-child tr:last-child>th:last-child,.table-bordered tfoot:last-child tr:last-child>td:last-child,.table-bordered tfoot:last-child tr:last-child>th:last-child{-webkit-border-bottom-right-radius:4px;-moz-border-radius-bottomright:4px;border-bottom-right-radius:4px}
.table-bordered tfoot+tbody:last-child tr:last-child td:first-child{-webkit-border-bottom-left-radius:0;-moz-border-radius-bottomleft:0;border-bottom-left-radius:0}
.table-bordered tfoot+tbody:last-child tr:last-child td:last-child{-webkit-border-bottom-right-radius:0;-moz-border-radius-bottomright:0;border-bottom-right-radius:0}
.table-bordered caption+thead tr:first-child th:first-child,.table-bordered caption+tbody tr:first-child td:first-child,.table-bordered colgroup+thead tr:first-child th:first-child,.table-bordered colgroup+tbody tr:first-child td:first-child{-webkit-border-top-left-radius:4px;-moz-border-radius-topleft:4px;border-top-left-radius:4px}
.table-bordered caption+thead tr:first-child th:last-child,.table-bordered caption+tbody tr:first-child td:last-child,.table-bordered colgroup+thead tr:first-child th:last-child,.table-bordered colgroup+tbody tr:first-child td:last-child{-webkit-border-top-right-radius:4px;-moz-border-radius-topright:4px;border-top-right-radius:4px}
.table-striped tbody>tr:nth-child(odd)>td,.table-striped tbody>tr:nth-child(odd)>th{background-color:#f9f9f9}
.table-hover tbody tr:hover>td,.table-hover tbody tr:hover>th{background-color:#f5f5f5}
table td[class*="span"],table th[class*="span"],.row-fluid table td[class*="span"],.row-fluid table th[class*="span"]{display:table-cell;float:none;margin-left:0}
.table td.span1,.table th.span1{float:none;width:44px;margin-left:0}
.table td.span2,.table th.span2{float:none;width:124px;margin-left:0}
.table td.span3,.table th.span3{float:none;width:204px;margin-left:0}
.table td.span4,.table th.span4{float:none;width:284px;margin-left:0}
.table td.span5,.table th.span5{float:none;width:364px;margin-left:0}
.table td.span6,.table th.span6{float:none;width:444px;margin-left:0}
.table td.span7,.table th.span7{float:none;width:524px;margin-left:0}
.table td.span8,.table th.span8{float:none;width:604px;margin-left:0}
.table td.span9,.table th.span9{float:none;width:684px;margin-left:0}
.table td.span10,.table th.span10{float:none;width:764px;margin-left:0}
.table td.span11,.table th.span11{float:none;width:844px;margin-left:0}
.table td.span12,.table th.span12{float:none;width:924px;margin-left:0}
.table tbody tr.success>td{background-color:#dff0d8}
.table tbody tr.error>td{background-color:#f2dede}
.table tbody tr.warning>td{background-color:#fcf8e3}
.table tbody tr.info>td{background-color:#d9edf7}
.table-hover tbody tr.success:hover>td{background-color:#d0e9c6}
.table-hover tbody tr.error:hover>td{background-color:#ebcccc}
.table-hover tbody tr.warning:hover>td{background-color:#faf2cc}
.table-hover tbody tr.info:hover>td{background-color:#c4e3f3}
[class^="icon-"],[class*=" icon-"]{display:inline-block;width:14px;height:14px;*margin-right:.3em;line-height:14px;vertical-align:text-top;background-image:url("../img/glyphicons-halflings.png");background-position:14px 14px;background-repeat:no-repeat;margin-top:1px}
.icon-white,.nav-pills>.active>a>[class^="icon-"],.nav-pills>.active>a>[class*=" icon-"],.nav-list>.active>a>[class^="icon-"],.nav-list>.active>a>[class*=" icon-"],.navbar-inverse .nav>.active>a>[class^="icon-"],.navbar-inverse .nav>.active>a>[class*=" icon-"],.dropdown-menu>li>a:hover>[class^="icon-"],.dropdown-menu>li>a:focus>[class^="icon-"],.dropdown-menu>li>a:hover>[class*=" icon-"],.dropdown-menu>li>a:focus>[class*=" icon-"],.dropdown-menu>.active>a>[class^="icon-"],.dropdown-menu>.active>a>[class*=" icon-"],.dropdown-submenu:hover>a>[class^="icon-"],.dropdown-submenu:focus>a>[class^="icon-"],.dropdown-submenu:hover>a>[class*=" icon-"],.dropdown-submenu:focus>a>[class*=" icon-"]{background-image:url("../img/glyphicons-halflings-white.png")}
.icon-glass{background-position:0 0}
.icon-music{background-position:-24px 0}
.icon-search{background-position:-48px 0}
.icon-envelope{background-position:-72px 0}
.icon-heart{background-position:-96px 0}
.icon-star{background-position:-120px 0}
.icon-star-empty{background-position:-144px 0}
.icon-user{background-position:-168px 0}
.icon-film{background-position:-192px 0}
.icon-th-large{background-position:-216px 0}
.icon-th{background-position:-240px 0}
.icon-th-list{background-position:-264px 0}
.icon-ok{background-position:-288px 0}
.icon-remove{background-position:-312px 0}
.icon-zoom-in{background-position:-336px 0}
.icon-zoom-out{background-position:-360px 0}
.icon-off{background-position:-384px 0}
.icon-signal{background-position:-408px 0}
.icon-cog{background-position:-432px 0}
.icon-trash{background-position:-456px 0}
.icon-home{background-position:0 -24px}
.icon-file{background-position:-24px -24px}
.icon-time{background-position:-48px -24px}
.icon-road{background-position:-72px -24px}
.icon-download-alt{background-position:-96px -24px}
.icon-download{background-position:-120px -24px}
.icon-upload{background-position:-144px -24px}
.icon-inbox{background-position:-168px -24px}
.icon-play-circle{background-position:-192px -24px}
.icon-repeat{background-position:-216px -24px}
.icon-refresh{background-position:-240px -24px}
.icon-list-alt{background-position:-264px -24px}
.icon-lock{background-position:-287px -24px}
.icon-flag{background-position:-312px -24px}
.icon-headphones{background-position:-336px -24px}
.icon-volume-off{background-position:-360px -24px}
.icon-volume-down{background-position:-384px -24px}
.icon-volume-up{background-position:-408px -24px}
.icon-qrcode{background-position:-432px -24px}
.icon-barcode{background-position:-456px -24px}
.icon-tag{background-position:0 -48px}
.icon-tags{background-position:-25px -48px}
.icon-book{background-position:-48px -48px}
.icon-bookmark{background-position:-72px -48px}
.icon-print{background-position:-96px -48px}
.icon-camera{background-position:-120px -48px}
.icon-font{background-position:-144px -48px}
.icon-bold{background-position:-167px -48px}
.icon-italic{background-position:-192px -48px}
.icon-text-height{background-position:-216px -48px}
.icon-text-width{background-position:-240px -48px}
.icon-align-left{background-position:-264px -48px}
.icon-align-center{background-position:-288px -48px}
.icon-align-right{background-position:-312px -48px}
.icon-align-justify{background-position:-336px -48px}
.icon-list{background-position:-360px -48px}
.icon-indent-left{background-position:-384px -48px}
.icon-indent-right{background-position:-408px -48px}
.icon-facetime-video{background-position:-432px -48px}
.icon-picture{background-position:-456px -48px}
.icon-pencil{background-position:0 -72px}
.icon-map-marker{background-position:-24px -72px}
.icon-adjust{background-position:-48px -72px}
.icon-tint{background-position:-72px -72px}
.icon-edit{background-position:-96px -72px}
.icon-share{background-position:-120px -72px}
.icon-check{background-position:-144px -72px}
.icon-move{background-position:-168px -72px}
.icon-step-backward{background-position:-192px -72px}
.icon-fast-backward{background-position:-216px -72px}
.icon-backward{background-position:-240px -72px}
.icon-play{background-position:-264px -72px}
.icon-pause{background-position:-288px -72px}
.icon-stop{background-position:-312px -72px}
.icon-forward{background-position:-336px -72px}
.icon-fast-forward{background-position:-360px -72px}
.icon-step-forward{background-position:-384px -72px}
.icon-eject{background-position:-408px -72px}
.icon-chevron-left{background-position:-432px -72px}
.icon-chevron-right{background-position:-456px -72px}
.icon-plus-sign{background-position:0 -96px}
.icon-minus-sign{background-position:-24px -96px}
.icon-remove-sign{background-position:-48px -96px}
.icon-ok-sign{background-position:-72px -96px}
.icon-question-sign{background-position:-96px -96px}
.icon-info-sign{background-position:-120px -96px}
.icon-screenshot{background-position:-144px -96px}
.icon-remove-circle{background-position:-168px -96px}
.icon-ok-circle{background-position:-192px -96px}
.icon-ban-circle{background-position:-216px -96px}
.icon-arrow-left{background-position:-240px -96px}
.icon-arrow-right{background-position:-264px -96px}
.icon-arrow-up{background-position:-289px -96px}
.icon-arrow-down{background-position:-312px -96px}
.icon-share-alt{background-position:-336px -96px}
.icon-resize-full{background-position:-360px -96px}
.icon-resize-small{background-position:-384px -96px}
.icon-plus{background-position:-408px -96px}
.icon-minus{background-position:-433px -96px}
.icon-asterisk{background-position:-456px -96px}
.icon-exclamation-sign{background-position:0 -120px}
.icon-gift{background-position:-24px -120px}
.icon-leaf{background-position:-48px -120px}
.icon-fire{background-position:-72px -120px}
.icon-eye-open{background-position:-96px -120px}
.icon-eye-close{background-position:-120px -120px}
.icon-warning-sign{background-position:-144px -120px}
.icon-plane{background-position:-168px -120px}
.icon-calendar{background-position:-192px -120px}
.icon-random{background-position:-216px -120px;width:16px}
.icon-comment{background-position:-240px -120px}
.icon-magnet{background-position:-264px -120px}
.icon-chevron-up{background-position:-288px -120px}
.icon-chevron-down{background-position:-313px -119px}
.icon-retweet{background-position:-336px -120px}
.icon-shopping-cart{background-position:-360px -120px}
.icon-folder-close{background-position:-384px -120px;width:16px}
.icon-folder-open{background-position:-408px -120px;width:16px}
.icon-resize-vertical{background-position:-432px -119px}
.icon-resize-horizontal{background-position:-456px -118px}
.icon-hdd{background-position:0 -144px}
.icon-bullhorn{background-position:-24px -144px}
.icon-bell{background-position:-48px -144px}
.icon-certificate{background-position:-72px -144px}
.icon-thumbs-up{background-position:-96px -144px}
.icon-thumbs-down{background-position:-120px -144px}
.icon-hand-right{background-position:-144px -144px}
.icon-hand-left{background-position:-168px -144px}
.icon-hand-up{background-position:-192px -144px}
.icon-hand-down{background-position:-216px -144px}
.icon-circle-arrow-right{background-position:-240px -144px}
.icon-circle-arrow-left{background-position:-264px -144px}
.icon-circle-arrow-up{background-position:-288px -144px}
.icon-circle-arrow-down{background-position:-312px -144px}
.icon-globe{background-position:-336px -144px}
.icon-wrench{background-position:-360px -144px}
.icon-tasks{background-position:-384px -144px}
.icon-filter{background-position:-408px -144px}
.icon-briefcase{background-position:-432px -144px}
.icon-fullscreen{background-position:-456px -144px}
.dropup,.dropdown{position:relative}
.dropdown-toggle{*margin-bottom:-3px}
.dropdown-toggle:active,.open .dropdown-toggle{outline:0}
.caret{display:inline-block;width:0;height:0;vertical-align:top;border-top:4px solid #000;border-right:4px solid transparent;border-left:4px solid transparent;content:""}
.dropdown .caret{margin-top:8px;margin-left:2px}
.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,0.2);*border-right-width:2px;*border-bottom-width:2px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);-moz-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box}.dropdown-menu.pull-right{right:0;left:auto}
.dropdown-menu .divider{*width:100%;height:1px;margin:9px 1px;*margin:-5px 0 5px;overflow:hidden;background-color:#e5e5e5;border-bottom:1px solid #fff}
.dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:normal;line-height:20px;color:#333;white-space:nowrap}
.dropdown-menu>li>a:hover,.dropdown-menu>li>a:focus,.dropdown-submenu:hover>a,.dropdown-submenu:focus>a{text-decoration:none;color:#fff;background-color:#0081c2;background-image:-moz-linear-gradient(top, #08c, #0077b3);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#08c), to(#0077b3));background-image:-webkit-linear-gradient(top, #08c, #0077b3);background-image:-o-linear-gradient(top, #08c, #0077b3);background-image:linear-gradient(to bottom, #08c, #0077b3);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0077b3', GradientType=0)}
.dropdown-menu>.active>a,.dropdown-menu>.active>a:hover,.dropdown-menu>.active>a:focus{color:#fff;text-decoration:none;outline:0;background-color:#0081c2;background-image:-moz-linear-gradient(top, #08c, #0077b3);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#08c), to(#0077b3));background-image:-webkit-linear-gradient(top, #08c, #0077b3);background-image:-o-linear-gradient(top, #08c, #0077b3);background-image:linear-gradient(to bottom, #08c, #0077b3);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0077b3', GradientType=0)}
.dropdown-menu>.disabled>a,.dropdown-menu>.disabled>a:hover,.dropdown-menu>.disabled>a:focus{color:#999}
.dropdown-menu>.disabled>a:hover,.dropdown-menu>.disabled>a:focus{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);cursor:default}
.open{*z-index:1000}.open>.dropdown-menu{display:block}
.dropdown-backdrop{position:fixed;left:0;right:0;bottom:0;top:0;z-index:990}
.pull-right>.dropdown-menu{right:0;left:auto}
.dropup .caret,.navbar-fixed-bottom .dropdown .caret{border-top:0;border-bottom:4px solid #000;content:""}
.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:1px}
.dropdown-submenu{position:relative}
.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px;margin-left:-1px;border-radius:0 6px 6px 6px;-webkit-border-radius:0 6px 6px 6px;-moz-border-radius:0 6px 6px 6px;border-radius:0 6px 6px 6px}
.dropdown-submenu:hover>.dropdown-menu{display:block}
.dropup .dropdown-submenu>.dropdown-menu{top:auto;bottom:0;margin-top:0;margin-bottom:-2px;border-radius:5px 5px 5px 0;-webkit-border-radius:5px 5px 5px 0;-moz-border-radius:5px 5px 5px 0;border-radius:5px 5px 5px 0}
.dropdown-submenu>a:after{display:block;content:" ";float:right;width:0;height:0;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;border-left-color:#ccc;margin-top:5px;margin-right:-10px}
.dropdown-submenu:hover>a:after{border-left-color:#fff}
.dropdown-submenu.pull-left{float:none}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px;border-radius:6px 0 6px 6px;-webkit-border-radius:6px 0 6px 6px;-moz-border-radius:6px 0 6px 6px;border-radius:6px 0 6px 6px}
.dropdown .dropdown-menu .nav-header{padding-left:20px;padding-right:20px}
.typeahead{z-index:1051;margin-top:2px;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}
.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.05);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,0.05);box-shadow:inset 0 1px 1px rgba(0,0,0,0.05)}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,0.15)}
.well-large{padding:24px;border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}
.well-small{padding:9px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}
.fade{opacity:0;-webkit-transition:opacity .15s linear;-moz-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.fade.in{opacity:1}
.collapse{position:relative;height:0;overflow:hidden;-webkit-transition:height .35s ease;-moz-transition:height .35s ease;-o-transition:height .35s ease;transition:height .35s ease}.collapse.in{height:auto}
.close{float:right;font-size:20px;font-weight:bold;line-height:20px;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer;opacity:.4;filter:alpha(opacity=40)}
button.close{padding:0;cursor:pointer;background:transparent;border:0;-webkit-appearance:none}
.btn{display:inline-block;*display:inline;*zoom:1;padding:4px 12px;margin-bottom:0;font-size:13px;line-height:20px;text-align:center;vertical-align:middle;cursor:pointer;color:#333;text-shadow:0 1px 1px rgba(255,255,255,0.75);background-color:#f5f5f5;background-image:-moz-linear-gradient(top, #fff, #e6e6e6);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#fff), to(#e6e6e6));background-image:-webkit-linear-gradient(top, #fff, #e6e6e6);background-image:-o-linear-gradient(top, #fff, #e6e6e6);background-image:linear-gradient(to bottom, #fff, #e6e6e6);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffe6e6e6', GradientType=0);border-color:#e6e6e6 #e6e6e6 #bfbfbf;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);*background-color:#e6e6e6;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);border:1px solid #ccc;*border:0;border-bottom-color:#b3b3b3;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;*margin-left:.3em;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05)}.btn:hover,.btn:focus,.btn:active,.btn.active,.btn.disabled,.btn[disabled]{color:#333;background-color:#e6e6e6;*background-color:#d9d9d9}
.btn:active,.btn.active{background-color:#ccc \9}
.btn:first-child{*margin-left:0}
.btn:hover,.btn:focus{color:#333;text-decoration:none;background-position:0 -15px;-webkit-transition:background-position .1s linear;-moz-transition:background-position .1s linear;-o-transition:background-position .1s linear;transition:background-position .1s linear}
.btn:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}
.btn.active,.btn:active{background-image:none;outline:0;-webkit-box-shadow:inset 0 2px 4px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 2px 4px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 2px 4px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.05)}
.btn.disabled,.btn[disabled]{cursor:default;background-image:none;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}
.btn-large{padding:11px 19px;font-size:16.25px;border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}
.btn-large [class^="icon-"],.btn-large [class*=" icon-"]{margin-top:4px}
.btn-small{padding:2px 10px;font-size:11.049999999999999px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}
.btn-small [class^="icon-"],.btn-small [class*=" icon-"]{margin-top:0}
.btn-mini [class^="icon-"],.btn-mini [class*=" icon-"]{margin-top:-1px}
.btn-mini{padding:0 6px;font-size:9.75px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}
.btn-block{display:block;width:100%;padding-left:0;padding-right:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}
.btn-block+.btn-block{margin-top:5px}
input[type="submit"].btn-block,input[type="reset"].btn-block,input[type="button"].btn-block{width:100%}
.btn-primary.active,.btn-warning.active,.btn-danger.active,.btn-success.active,.btn-info.active,.btn-inverse.active{color:rgba(255,255,255,0.75)}
.btn-primary{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#006dcc;background-image:-moz-linear-gradient(top, #08c, #04c);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#08c), to(#04c));background-image:-webkit-linear-gradient(top, #08c, #04c);background-image:-o-linear-gradient(top, #08c, #04c);background-image:linear-gradient(to bottom, #08c, #04c);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0044cc', GradientType=0);border-color:#04c #04c #002a80;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);*background-color:#04c;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false)}.btn-primary:hover,.btn-primary:focus,.btn-primary:active,.btn-primary.active,.btn-primary.disabled,.btn-primary[disabled]{color:#fff;background-color:#04c;*background-color:#003bb3}
.btn-primary:active,.btn-primary.active{background-color:#039 \9}
.btn-warning{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#faa732;background-image:-moz-linear-gradient(top, #fbb450, #f89406);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#fbb450), to(#f89406));background-image:-webkit-linear-gradient(top, #fbb450, #f89406);background-image:-o-linear-gradient(top, #fbb450, #f89406);background-image:linear-gradient(to bottom, #fbb450, #f89406);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fffbb450', endColorstr='#fff89406', GradientType=0);border-color:#f89406 #f89406 #ad6704;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);*background-color:#f89406;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false)}.btn-warning:hover,.btn-warning:focus,.btn-warning:active,.btn-warning.active,.btn-warning.disabled,.btn-warning[disabled]{color:#fff;background-color:#f89406;*background-color:#df8505}
.btn-warning:active,.btn-warning.active{background-color:#c67605 \9}
.btn-danger{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#da4f49;background-image:-moz-linear-gradient(top, #ee5f5b, #bd362f);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#ee5f5b), to(#bd362f));background-image:-webkit-linear-gradient(top, #ee5f5b, #bd362f);background-image:-o-linear-gradient(top, #ee5f5b, #bd362f);background-image:linear-gradient(to bottom, #ee5f5b, #bd362f);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffee5f5b', endColorstr='#ffbd362f', GradientType=0);border-color:#bd362f #bd362f #802420;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);*background-color:#bd362f;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false)}.btn-danger:hover,.btn-danger:focus,.btn-danger:active,.btn-danger.active,.btn-danger.disabled,.btn-danger[disabled]{color:#fff;background-color:#bd362f;*background-color:#a9302a}
.btn-danger:active,.btn-danger.active{background-color:#942a25 \9}
.btn-success{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#5bb75b;background-image:-moz-linear-gradient(top, #62c462, #51a351);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#62c462), to(#51a351));background-image:-webkit-linear-gradient(top, #62c462, #51a351);background-image:-o-linear-gradient(top, #62c462, #51a351);background-image:linear-gradient(to bottom, #62c462, #51a351);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff62c462', endColorstr='#ff51a351', GradientType=0);border-color:#51a351 #51a351 #387038;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);*background-color:#51a351;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false)}.btn-success:hover,.btn-success:focus,.btn-success:active,.btn-success.active,.btn-success.disabled,.btn-success[disabled]{color:#fff;background-color:#51a351;*background-color:#499249}
.btn-success:active,.btn-success.active{background-color:#408140 \9}
.btn-info{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#49afcd;background-image:-moz-linear-gradient(top, #5bc0de, #2f96b4);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#5bc0de), to(#2f96b4));background-image:-webkit-linear-gradient(top, #5bc0de, #2f96b4);background-image:-o-linear-gradient(top, #5bc0de, #2f96b4);background-image:linear-gradient(to bottom, #5bc0de, #2f96b4);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff5bc0de', endColorstr='#ff2f96b4', GradientType=0);border-color:#2f96b4 #2f96b4 #1f6377;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);*background-color:#2f96b4;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false)}.btn-info:hover,.btn-info:focus,.btn-info:active,.btn-info.active,.btn-info.disabled,.btn-info[disabled]{color:#fff;background-color:#2f96b4;*background-color:#2a85a0}
.btn-info:active,.btn-info.active{background-color:#24748c \9}
.btn-inverse{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#363636;background-image:-moz-linear-gradient(top, #444, #222);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#444), to(#222));background-image:-webkit-linear-gradient(top, #444, #222);background-image:-o-linear-gradient(top, #444, #222);background-image:linear-gradient(to bottom, #444, #222);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff444444', endColorstr='#ff222222', GradientType=0);border-color:#222 #222 #000;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);*background-color:#222;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false)}.btn-inverse:hover,.btn-inverse:focus,.btn-inverse:active,.btn-inverse.active,.btn-inverse.disabled,.btn-inverse[disabled]{color:#fff;background-color:#222;*background-color:#151515}
.btn-inverse:active,.btn-inverse.active{background-color:#080808 \9}
button.btn,input[type="submit"].btn{*padding-top:3px;*padding-bottom:3px}button.btn::-moz-focus-inner,input[type="submit"].btn::-moz-focus-inner{padding:0;border:0}
button.btn.btn-large,input[type="submit"].btn.btn-large{*padding-top:7px;*padding-bottom:7px}
button.btn.btn-small,input[type="submit"].btn.btn-small{*padding-top:3px;*padding-bottom:3px}
button.btn.btn-mini,input[type="submit"].btn.btn-mini{*padding-top:1px;*padding-bottom:1px}
.btn-link,.btn-link:active,.btn-link[disabled]{background-color:transparent;background-image:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}
.btn-link{border-color:transparent;cursor:pointer;color:#08c;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
.btn-link:hover,.btn-link:focus{color:#005580;text-decoration:underline;background-color:transparent}
.btn-link[disabled]:hover,.btn-link[disabled]:focus{color:#333;text-decoration:none}
.btn-group{position:relative;display:inline-block;*display:inline;*zoom:1;font-size:0;vertical-align:middle;white-space:nowrap;*margin-left:.3em}.btn-group:first-child{*margin-left:0}
.btn-group+.btn-group{margin-left:5px}
.btn-toolbar{font-size:0;margin-top:10px;margin-bottom:10px}.btn-toolbar>.btn+.btn,.btn-toolbar>.btn-group+.btn,.btn-toolbar>.btn+.btn-group{margin-left:5px}
.btn-group>.btn{position:relative;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
.btn-group>.btn+.btn{margin-left:-1px}
.btn-group>.btn,.btn-group>.dropdown-menu,.btn-group>.popover{font-size:13px}
.btn-group>.btn-mini{font-size:9.75px}
.btn-group>.btn-small{font-size:11.049999999999999px}
.btn-group>.btn-large{font-size:16.25px}
.btn-group>.btn:first-child{margin-left:0;-webkit-border-top-left-radius:4px;-moz-border-radius-topleft:4px;border-top-left-radius:4px;-webkit-border-bottom-left-radius:4px;-moz-border-radius-bottomleft:4px;border-bottom-left-radius:4px}
.btn-group>.btn:last-child,.btn-group>.dropdown-toggle{-webkit-border-top-right-radius:4px;-moz-border-radius-topright:4px;border-top-right-radius:4px;-webkit-border-bottom-right-radius:4px;-moz-border-radius-bottomright:4px;border-bottom-right-radius:4px}
.btn-group>.btn.large:first-child{margin-left:0;-webkit-border-top-left-radius:6px;-moz-border-radius-topleft:6px;border-top-left-radius:6px;-webkit-border-bottom-left-radius:6px;-moz-border-radius-bottomleft:6px;border-bottom-left-radius:6px}
.btn-group>.btn.large:last-child,.btn-group>.large.dropdown-toggle{-webkit-border-top-right-radius:6px;-moz-border-radius-topright:6px;border-top-right-radius:6px;-webkit-border-bottom-right-radius:6px;-moz-border-radius-bottomright:6px;border-bottom-right-radius:6px}
.btn-group>.btn:hover,.btn-group>.btn:focus,.btn-group>.btn:active,.btn-group>.btn.active{z-index:2}
.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}
.btn-group>.btn+.dropdown-toggle{padding-left:8px;padding-right:8px;-webkit-box-shadow:inset 1px 0 0 rgba(255,255,255,.125), inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 1px 0 0 rgba(255,255,255,.125), inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);box-shadow:inset 1px 0 0 rgba(255,255,255,.125), inset 0 1px 0 rgba(255,255,255,.2), 0 1px 2px rgba(0,0,0,.05);*padding-top:5px;*padding-bottom:5px}
.btn-group>.btn-mini+.dropdown-toggle{padding-left:5px;padding-right:5px;*padding-top:2px;*padding-bottom:2px}
.btn-group>.btn-small+.dropdown-toggle{*padding-top:5px;*padding-bottom:4px}
.btn-group>.btn-large+.dropdown-toggle{padding-left:12px;padding-right:12px;*padding-top:7px;*padding-bottom:7px}
.btn-group.open .dropdown-toggle{background-image:none;-webkit-box-shadow:inset 0 2px 4px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 2px 4px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 2px 4px rgba(0,0,0,.15), 0 1px 2px rgba(0,0,0,.05)}
.btn-group.open .btn.dropdown-toggle{background-color:#e6e6e6}
.btn-group.open .btn-primary.dropdown-toggle{background-color:#04c}
.btn-group.open .btn-warning.dropdown-toggle{background-color:#f89406}
.btn-group.open .btn-danger.dropdown-toggle{background-color:#bd362f}
.btn-group.open .btn-success.dropdown-toggle{background-color:#51a351}
.btn-group.open .btn-info.dropdown-toggle{background-color:#2f96b4}
.btn-group.open .btn-inverse.dropdown-toggle{background-color:#222}
.btn .caret{margin-top:8px;margin-left:0}
.btn-large .caret{margin-top:6px}
.btn-large .caret{border-left-width:5px;border-right-width:5px;border-top-width:5px}
.btn-mini .caret,.btn-small .caret{margin-top:8px}
.dropup .btn-large .caret{border-bottom-width:5px}
.btn-primary .caret,.btn-warning .caret,.btn-danger .caret,.btn-info .caret,.btn-success .caret,.btn-inverse .caret{border-top-color:#fff;border-bottom-color:#fff}
.btn-group-vertical{display:inline-block;*display:inline;*zoom:1}
.btn-group-vertical>.btn{display:block;float:none;max-width:100%;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
.btn-group-vertical>.btn+.btn{margin-left:0;margin-top:-1px}
.btn-group-vertical>.btn:first-child{border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;-moz-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0}
.btn-group-vertical>.btn:last-child{border-radius:0 0 4px 4px;-webkit-border-radius:0 0 4px 4px;-moz-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px}
.btn-group-vertical>.btn-large:first-child{border-radius:6px 6px 0 0;-webkit-border-radius:6px 6px 0 0;-moz-border-radius:6px 6px 0 0;border-radius:6px 6px 0 0}
.btn-group-vertical>.btn-large:last-child{border-radius:0 0 6px 6px;-webkit-border-radius:0 0 6px 6px;-moz-border-radius:0 0 6px 6px;border-radius:0 0 6px 6px}
.alert{padding:8px 35px 8px 14px;margin-bottom:20px;text-shadow:0 1px 0 rgba(255,255,255,0.5);background-color:#fcf8e3;border:1px solid #fbeed5;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}
.alert,.alert h4{color:#c09853}
.alert h4{margin:0}
.alert .close{position:relative;top:-2px;right:-21px;line-height:20px}
.alert-success{background-color:#dff0d8;border-color:#d6e9c6;color:#468847}
.alert-success h4{color:#468847}
.alert-danger,.alert-error{background-color:#f2dede;border-color:#eed3d7;color:#b94a48}
.alert-danger h4,.alert-error h4{color:#b94a48}
.alert-info{background-color:#d9edf7;border-color:#bce8f1;color:#3a87ad}
.alert-info h4{color:#3a87ad}
.alert-block{padding-top:14px;padding-bottom:14px}
.alert-block>p,.alert-block>ul{margin-bottom:0}
.alert-block p+p{margin-top:5px}
.nav{margin-left:0;margin-bottom:20px;list-style:none}
.nav>li>a{display:block}
.nav>li>a:hover,.nav>li>a:focus{text-decoration:none;background-color:#eee}
.nav>li>a>img{max-width:none}
.nav>.pull-right{float:right}
.nav-header{display:block;padding:3px 15px;font-size:11px;font-weight:bold;line-height:20px;color:#999;text-shadow:0 1px 0 rgba(255,255,255,0.5);text-transform:uppercase}
.nav li+.nav-header{margin-top:9px}
.nav-list{padding-left:15px;padding-right:15px;margin-bottom:0}
.nav-list>li>a,.nav-list .nav-header{margin-left:-15px;margin-right:-15px;text-shadow:0 1px 0 rgba(255,255,255,0.5)}
.nav-list>li>a{padding:3px 15px}
.nav-list>.active>a,.nav-list>.active>a:hover,.nav-list>.active>a:focus{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,0.2);background-color:#08c}
.nav-list [class^="icon-"],.nav-list [class*=" icon-"]{margin-right:2px}
.nav-list .divider{*width:100%;height:1px;margin:9px 1px;*margin:-5px 0 5px;overflow:hidden;background-color:#e5e5e5;border-bottom:1px solid #fff}
.nav-tabs,.nav-pills{*zoom:1}.nav-tabs:before,.nav-pills:before,.nav-tabs:after,.nav-pills:after{display:table;content:"";line-height:0}
.nav-tabs:after,.nav-pills:after{clear:both}
.nav-tabs>li,.nav-pills>li{float:left}
.nav-tabs>li>a,.nav-pills>li>a{padding-right:12px;padding-left:12px;margin-right:2px;line-height:14px}
.nav-tabs{border-bottom:1px solid #ddd}
.nav-tabs>li{margin-bottom:-1px}
.nav-tabs>li>a{padding-top:8px;padding-bottom:8px;line-height:20px;border:1px solid transparent;border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;-moz-border-radius:4px 4px 0 0;border-radius:4px 4px 0 0}.nav-tabs>li>a:hover,.nav-tabs>li>a:focus{border-color:#eee #eee #ddd}
.nav-tabs>.active>a,.nav-tabs>.active>a:hover,.nav-tabs>.active>a:focus{color:#555;background-color:#fff;border:1px solid #ddd;border-bottom-color:transparent;cursor:default}
.nav-pills>li>a{padding-top:8px;padding-bottom:8px;margin-top:2px;margin-bottom:2px;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}
.nav-pills>.active>a,.nav-pills>.active>a:hover,.nav-pills>.active>a:focus{color:#fff;background-color:#08c}
.nav-stacked>li{float:none}
.nav-stacked>li>a{margin-right:0}
.nav-tabs.nav-stacked{border-bottom:0}
.nav-tabs.nav-stacked>li>a{border:1px solid #ddd;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
.nav-tabs.nav-stacked>li:first-child>a{-webkit-border-top-right-radius:4px;-moz-border-radius-topright:4px;border-top-right-radius:4px;-webkit-border-top-left-radius:4px;-moz-border-radius-topleft:4px;border-top-left-radius:4px}
.nav-tabs.nav-stacked>li:last-child>a{-webkit-border-bottom-right-radius:4px;-moz-border-radius-bottomright:4px;border-bottom-right-radius:4px;-webkit-border-bottom-left-radius:4px;-moz-border-radius-bottomleft:4px;border-bottom-left-radius:4px}
.nav-tabs.nav-stacked>li>a:hover,.nav-tabs.nav-stacked>li>a:focus{border-color:#ddd;z-index:2}
.nav-pills.nav-stacked>li>a{margin-bottom:3px}
.nav-pills.nav-stacked>li:last-child>a{margin-bottom:1px}
.nav-tabs .dropdown-menu{border-radius:0 0 6px 6px;-webkit-border-radius:0 0 6px 6px;-moz-border-radius:0 0 6px 6px;border-radius:0 0 6px 6px}
.nav-pills .dropdown-menu{border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}
.nav .dropdown-toggle .caret{border-top-color:#08c;border-bottom-color:#08c;margin-top:6px}
.nav .dropdown-toggle:hover .caret,.nav .dropdown-toggle:focus .caret{border-top-color:#005580;border-bottom-color:#005580}
.nav-tabs .dropdown-toggle .caret{margin-top:8px}
.nav .active .dropdown-toggle .caret{border-top-color:#fff;border-bottom-color:#fff}
.nav-tabs .active .dropdown-toggle .caret{border-top-color:#555;border-bottom-color:#555}
.nav>.dropdown.active>a:hover,.nav>.dropdown.active>a:focus{cursor:pointer}
.nav-tabs .open .dropdown-toggle,.nav-pills .open .dropdown-toggle,.nav>li.dropdown.open.active>a:hover,.nav>li.dropdown.open.active>a:focus{color:#fff;background-color:#999;border-color:#999}
.nav li.dropdown.open .caret,.nav li.dropdown.open.active .caret,.nav li.dropdown.open a:hover .caret,.nav li.dropdown.open a:focus .caret{border-top-color:#fff;border-bottom-color:#fff;opacity:1;filter:alpha(opacity=100)}
.tabs-stacked .open>a:hover,.tabs-stacked .open>a:focus{border-color:#999}
.tabbable{*zoom:1}.tabbable:before,.tabbable:after{display:table;content:"";line-height:0}
.tabbable:after{clear:both}
.tab-content{overflow:auto}
.tabs-below>.nav-tabs,.tabs-right>.nav-tabs,.tabs-left>.nav-tabs{border-bottom:0}
.tab-content>.tab-pane,.pill-content>.pill-pane{display:none}
.tab-content>.active,.pill-content>.active{display:block}
.tabs-below>.nav-tabs{border-top:1px solid #ddd}
.tabs-below>.nav-tabs>li{margin-top:-1px;margin-bottom:0}
.tabs-below>.nav-tabs>li>a{border-radius:0 0 4px 4px;-webkit-border-radius:0 0 4px 4px;-moz-border-radius:0 0 4px 4px;border-radius:0 0 4px 4px}.tabs-below>.nav-tabs>li>a:hover,.tabs-below>.nav-tabs>li>a:focus{border-bottom-color:transparent;border-top-color:#ddd}
.tabs-below>.nav-tabs>.active>a,.tabs-below>.nav-tabs>.active>a:hover,.tabs-below>.nav-tabs>.active>a:focus{border-color:transparent #ddd #ddd #ddd}
.tabs-left>.nav-tabs>li,.tabs-right>.nav-tabs>li{float:none}
.tabs-left>.nav-tabs>li>a,.tabs-right>.nav-tabs>li>a{min-width:74px;margin-right:0;margin-bottom:3px}
.tabs-left>.nav-tabs{float:left;margin-right:19px;border-right:1px solid #ddd}
.tabs-left>.nav-tabs>li>a{margin-right:-1px;border-radius:4px 0 0 4px;-webkit-border-radius:4px 0 0 4px;-moz-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px}
.tabs-left>.nav-tabs>li>a:hover,.tabs-left>.nav-tabs>li>a:focus{border-color:#eee #ddd #eee #eee}
.tabs-left>.nav-tabs .active>a,.tabs-left>.nav-tabs .active>a:hover,.tabs-left>.nav-tabs .active>a:focus{border-color:#ddd transparent #ddd #ddd;*border-right-color:#fff}
.tabs-right>.nav-tabs{float:right;margin-left:19px;border-left:1px solid #ddd}
.tabs-right>.nav-tabs>li>a{margin-left:-1px;border-radius:0 4px 4px 0;-webkit-border-radius:0 4px 4px 0;-moz-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}
.tabs-right>.nav-tabs>li>a:hover,.tabs-right>.nav-tabs>li>a:focus{border-color:#eee #eee #eee #ddd}
.tabs-right>.nav-tabs .active>a,.tabs-right>.nav-tabs .active>a:hover,.tabs-right>.nav-tabs .active>a:focus{border-color:#ddd #ddd #ddd transparent;*border-left-color:#fff}
.nav>.disabled>a{color:#999}
.nav>.disabled>a:hover,.nav>.disabled>a:focus{text-decoration:none;background-color:transparent;cursor:default}
.navbar{overflow:visible;margin-bottom:20px;*position:relative;*z-index:2}
.navbar-inner{min-height:36px;padding-left:20px;padding-right:20px;background-color:#fafafa;background-image:-moz-linear-gradient(top, #fff, #f2f2f2);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#fff), to(#f2f2f2));background-image:-webkit-linear-gradient(top, #fff, #f2f2f2);background-image:-o-linear-gradient(top, #fff, #f2f2f2);background-image:linear-gradient(to bottom, #fff, #f2f2f2);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#fff2f2f2', GradientType=0);border:1px solid #d4d4d4;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 4px rgba(0,0,0,0.065);-moz-box-shadow:0 1px 4px rgba(0,0,0,0.065);box-shadow:0 1px 4px rgba(0,0,0,0.065);*zoom:1}.navbar-inner:before,.navbar-inner:after{display:table;content:"";line-height:0}
.navbar-inner:after{clear:both}
.navbar .container{width:auto}
.nav-collapse.collapse{height:auto;overflow:visible}
.navbar .brand{float:left;display:block;padding:8px 20px 8px;margin-left:-20px;font-size:20px;font-weight:200;color:#777;text-shadow:0 1px 0 #fff}.navbar .brand:hover,.navbar .brand:focus{text-decoration:none}
.navbar-text{margin-bottom:0;line-height:36px;color:#777}
.navbar-link{color:#777}.navbar-link:hover,.navbar-link:focus{color:#333}
.navbar .divider-vertical{height:36px;margin:0 9px;border-left:1px solid #f2f2f2;border-right:1px solid #fff}
.navbar .btn,.navbar .btn-group{margin-top:3px}
.navbar .btn-group .btn,.navbar .input-prepend .btn,.navbar .input-append .btn,.navbar .input-prepend .btn-group,.navbar .input-append .btn-group{margin-top:0}
.navbar-form{margin-bottom:0;*zoom:1}.navbar-form:before,.navbar-form:after{display:table;content:"";line-height:0}
.navbar-form:after{clear:both}
.navbar-form input,.navbar-form select,.navbar-form .radio,.navbar-form .checkbox{margin-top:3px}
.navbar-form input,.navbar-form select,.navbar-form .btn{display:inline-block;margin-bottom:0}
.navbar-form input[type="image"],.navbar-form input[type="checkbox"],.navbar-form input[type="radio"]{margin-top:3px}
.navbar-form .input-append,.navbar-form .input-prepend{margin-top:5px;white-space:nowrap}.navbar-form .input-append input,.navbar-form .input-prepend input{margin-top:0}
.navbar-search{position:relative;float:left;margin-top:3px;margin-bottom:0}.navbar-search .search-query{margin-bottom:0;padding:4px 14px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;font-weight:normal;line-height:1;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px}
.navbar-static-top{position:static;margin-bottom:0}.navbar-static-top .navbar-inner{border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
.navbar-fixed-top,.navbar-fixed-bottom{position:fixed;right:0;left:0;z-index:1030;margin-bottom:0}
.navbar-fixed-top .navbar-inner,.navbar-static-top .navbar-inner{border-width:0 0 1px}
.navbar-fixed-bottom .navbar-inner{border-width:1px 0 0}
.navbar-fixed-top .navbar-inner,.navbar-fixed-bottom .navbar-inner{padding-left:0;padding-right:0;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
.navbar-static-top .container,.navbar-fixed-top .container,.navbar-fixed-bottom .container{width:940px}
.navbar-fixed-top{top:0}
.navbar-fixed-top .navbar-inner,.navbar-static-top .navbar-inner{-webkit-box-shadow:0 1px 10px rgba(0,0,0,.1);-moz-box-shadow:0 1px 10px rgba(0,0,0,.1);box-shadow:0 1px 10px rgba(0,0,0,.1)}
.navbar-fixed-bottom{bottom:0}.navbar-fixed-bottom .navbar-inner{-webkit-box-shadow:0 -1px 10px rgba(0,0,0,.1);-moz-box-shadow:0 -1px 10px rgba(0,0,0,.1);box-shadow:0 -1px 10px rgba(0,0,0,.1)}
.navbar .nav{position:relative;left:0;display:block;float:left;margin:0 10px 0 0}
.navbar .nav.pull-right{float:right;margin-right:0}
.navbar .nav>li{float:left}
.navbar .nav>li>a{float:none;padding:8px 15px 8px;color:#777;text-decoration:none;text-shadow:0 1px 0 #fff}
.navbar .nav .dropdown-toggle .caret{margin-top:8px}
.navbar .nav>li>a:focus,.navbar .nav>li>a:hover{background-color:transparent;color:#333;text-decoration:none}
.navbar .nav>.active>a,.navbar .nav>.active>a:hover,.navbar .nav>.active>a:focus{color:#555;text-decoration:none;background-color:#e5e5e5;-webkit-box-shadow:inset 0 3px 8px rgba(0,0,0,0.125);-moz-box-shadow:inset 0 3px 8px rgba(0,0,0,0.125);box-shadow:inset 0 3px 8px rgba(0,0,0,0.125)}
.navbar .btn-navbar{display:none;float:right;padding:7px 10px;margin-left:5px;margin-right:5px;color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#ededed;background-image:-moz-linear-gradient(top, #f2f2f2, #e5e5e5);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#f2f2f2), to(#e5e5e5));background-image:-webkit-linear-gradient(top, #f2f2f2, #e5e5e5);background-image:-o-linear-gradient(top, #f2f2f2, #e5e5e5);background-image:linear-gradient(to bottom, #f2f2f2, #e5e5e5);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff2f2f2', endColorstr='#ffe5e5e5', GradientType=0);border-color:#e5e5e5 #e5e5e5 #bfbfbf;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);*background-color:#e5e5e5;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false);-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.075);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.075);box-shadow:inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.075)}.navbar .btn-navbar:hover,.navbar .btn-navbar:focus,.navbar .btn-navbar:active,.navbar .btn-navbar.active,.navbar .btn-navbar.disabled,.navbar .btn-navbar[disabled]{color:#fff;background-color:#e5e5e5;*background-color:#d9d9d9}
.navbar .btn-navbar:active,.navbar .btn-navbar.active{background-color:#ccc \9}
.navbar .btn-navbar .icon-bar{display:block;width:18px;height:2px;background-color:#f5f5f5;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,0.25);-moz-box-shadow:0 1px 0 rgba(0,0,0,0.25);box-shadow:0 1px 0 rgba(0,0,0,0.25)}
.btn-navbar .icon-bar+.icon-bar{margin-top:3px}
.navbar .nav>li>.dropdown-menu:before{content:'';display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #ccc;border-bottom-color:rgba(0,0,0,0.2);position:absolute;top:-7px;left:9px}
.navbar .nav>li>.dropdown-menu:after{content:'';display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;position:absolute;top:-6px;left:10px}
.navbar-fixed-bottom .nav>li>.dropdown-menu:before{border-top:7px solid #ccc;border-top-color:rgba(0,0,0,0.2);border-bottom:0;bottom:-7px;top:auto}
.navbar-fixed-bottom .nav>li>.dropdown-menu:after{border-top:6px solid #fff;border-bottom:0;bottom:-6px;top:auto}
.navbar .nav li.dropdown>a:hover .caret,.navbar .nav li.dropdown>a:focus .caret{border-top-color:#333;border-bottom-color:#333}
.navbar .nav li.dropdown.open>.dropdown-toggle,.navbar .nav li.dropdown.active>.dropdown-toggle,.navbar .nav li.dropdown.open.active>.dropdown-toggle{background-color:#e5e5e5;color:#555}
.navbar .nav li.dropdown>.dropdown-toggle .caret{border-top-color:#777;border-bottom-color:#777}
.navbar .nav li.dropdown.open>.dropdown-toggle .caret,.navbar .nav li.dropdown.active>.dropdown-toggle .caret,.navbar .nav li.dropdown.open.active>.dropdown-toggle .caret{border-top-color:#555;border-bottom-color:#555}
.navbar .pull-right>li>.dropdown-menu,.navbar .nav>li>.dropdown-menu.pull-right{left:auto;right:0}.navbar .pull-right>li>.dropdown-menu:before,.navbar .nav>li>.dropdown-menu.pull-right:before{left:auto;right:12px}
.navbar .pull-right>li>.dropdown-menu:after,.navbar .nav>li>.dropdown-menu.pull-right:after{left:auto;right:13px}
.navbar .pull-right>li>.dropdown-menu .dropdown-menu,.navbar .nav>li>.dropdown-menu.pull-right .dropdown-menu{left:auto;right:100%;margin-left:0;margin-right:-1px;border-radius:6px 0 6px 6px;-webkit-border-radius:6px 0 6px 6px;-moz-border-radius:6px 0 6px 6px;border-radius:6px 0 6px 6px}
.navbar-inverse .navbar-inner{background-color:#1b1b1b;background-image:-moz-linear-gradient(top, #222, #111);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#222), to(#111));background-image:-webkit-linear-gradient(top, #222, #111);background-image:-o-linear-gradient(top, #222, #111);background-image:linear-gradient(to bottom, #222, #111);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff222222', endColorstr='#ff111111', GradientType=0);border-color:#252525}
.navbar-inverse .brand,.navbar-inverse .nav>li>a{color:#999;text-shadow:0 -1px 0 rgba(0,0,0,0.25)}.navbar-inverse .brand:hover,.navbar-inverse .nav>li>a:hover,.navbar-inverse .brand:focus,.navbar-inverse .nav>li>a:focus{color:#fff}
.navbar-inverse .brand{color:#999}
.navbar-inverse .navbar-text{color:#999}
.navbar-inverse .nav>li>a:focus,.navbar-inverse .nav>li>a:hover{background-color:transparent;color:#fff}
.navbar-inverse .nav .active>a,.navbar-inverse .nav .active>a:hover,.navbar-inverse .nav .active>a:focus{color:#fff;background-color:#111}
.navbar-inverse .navbar-link{color:#999}.navbar-inverse .navbar-link:hover,.navbar-inverse .navbar-link:focus{color:#fff}
.navbar-inverse .divider-vertical{border-left-color:#111;border-right-color:#222}
.navbar-inverse .nav li.dropdown.open>.dropdown-toggle,.navbar-inverse .nav li.dropdown.active>.dropdown-toggle,.navbar-inverse .nav li.dropdown.open.active>.dropdown-toggle{background-color:#111;color:#fff}
.navbar-inverse .nav li.dropdown>a:hover .caret,.navbar-inverse .nav li.dropdown>a:focus .caret{border-top-color:#fff;border-bottom-color:#fff}
.navbar-inverse .nav li.dropdown>.dropdown-toggle .caret{border-top-color:#999;border-bottom-color:#999}
.navbar-inverse .nav li.dropdown.open>.dropdown-toggle .caret,.navbar-inverse .nav li.dropdown.active>.dropdown-toggle .caret,.navbar-inverse .nav li.dropdown.open.active>.dropdown-toggle .caret{border-top-color:#fff;border-bottom-color:#fff}
.navbar-inverse .navbar-search .search-query{color:#fff;background-color:#515151;border-color:#111;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1), 0 1px 0 rgba(255,255,255,.15);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,.1), 0 1px 0 rgba(255,255,255,.15);box-shadow:inset 0 1px 2px rgba(0,0,0,.1), 0 1px 0 rgba(255,255,255,.15);-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.navbar-inverse .navbar-search .search-query:-moz-placeholder{color:#ccc}
.navbar-inverse .navbar-search .search-query:-ms-input-placeholder{color:#ccc}
.navbar-inverse .navbar-search .search-query::-webkit-input-placeholder{color:#ccc}
.navbar-inverse .navbar-search .search-query:focus,.navbar-inverse .navbar-search .search-query.focused{padding:5px 15px;color:#333;text-shadow:0 1px 0 #fff;background-color:#fff;border:0;-webkit-box-shadow:0 0 3px rgba(0,0,0,0.15);-moz-box-shadow:0 0 3px rgba(0,0,0,0.15);box-shadow:0 0 3px rgba(0,0,0,0.15);outline:0}
.navbar-inverse .btn-navbar{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#0e0e0e;background-image:-moz-linear-gradient(top, #151515, #040404);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#151515), to(#040404));background-image:-webkit-linear-gradient(top, #151515, #040404);background-image:-o-linear-gradient(top, #151515, #040404);background-image:linear-gradient(to bottom, #151515, #040404);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff151515', endColorstr='#ff040404', GradientType=0);border-color:#040404 #040404 #000;border-color:rgba(0,0,0,0.1) rgba(0,0,0,0.1) rgba(0,0,0,0.25);*background-color:#040404;filter:progid:DXImageTransform.Microsoft.gradient(enabled = false)}.navbar-inverse .btn-navbar:hover,.navbar-inverse .btn-navbar:focus,.navbar-inverse .btn-navbar:active,.navbar-inverse .btn-navbar.active,.navbar-inverse .btn-navbar.disabled,.navbar-inverse .btn-navbar[disabled]{color:#fff;background-color:#040404;*background-color:#000}
.navbar-inverse .btn-navbar:active,.navbar-inverse .btn-navbar.active{background-color:#000 \9}
.breadcrumb{padding:8px 15px;margin:0 0 20px;list-style:none;background-color:#f5f5f5;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.breadcrumb>li{display:inline-block;*display:inline;*zoom:1;text-shadow:0 1px 0 #fff}.breadcrumb>li>.divider{padding:0 5px;color:#ccc}
.breadcrumb>.active{color:#999}
.pagination{margin:20px 0}
.pagination ul{display:inline-block;*display:inline;*zoom:1;margin-left:0;margin-bottom:0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,0.05);-moz-box-shadow:0 1px 2px rgba(0,0,0,0.05);box-shadow:0 1px 2px rgba(0,0,0,0.05)}
.pagination ul>li{display:inline}
.pagination ul>li>a,.pagination ul>li>span{float:left;padding:4px 12px;line-height:20px;text-decoration:none;background-color:#fff;border:1px solid #ddd;border-left-width:0}
.pagination ul>li>a:hover,.pagination ul>li>a:focus,.pagination ul>.active>a,.pagination ul>.active>span{background-color:#f5f5f5}
.pagination ul>.active>a,.pagination ul>.active>span{color:#999;cursor:default}
.pagination ul>.disabled>span,.pagination ul>.disabled>a,.pagination ul>.disabled>a:hover,.pagination ul>.disabled>a:focus{color:#999;background-color:transparent;cursor:default}
.pagination ul>li:first-child>a,.pagination ul>li:first-child>span{border-left-width:1px;-webkit-border-top-left-radius:4px;-moz-border-radius-topleft:4px;border-top-left-radius:4px;-webkit-border-bottom-left-radius:4px;-moz-border-radius-bottomleft:4px;border-bottom-left-radius:4px}
.pagination ul>li:last-child>a,.pagination ul>li:last-child>span{-webkit-border-top-right-radius:4px;-moz-border-radius-topright:4px;border-top-right-radius:4px;-webkit-border-bottom-right-radius:4px;-moz-border-radius-bottomright:4px;border-bottom-right-radius:4px}
.pagination-centered{text-align:center}
.pagination-right{text-align:right}
.pagination-large ul>li>a,.pagination-large ul>li>span{padding:11px 19px;font-size:16.25px}
.pagination-large ul>li:first-child>a,.pagination-large ul>li:first-child>span{-webkit-border-top-left-radius:6px;-moz-border-radius-topleft:6px;border-top-left-radius:6px;-webkit-border-bottom-left-radius:6px;-moz-border-radius-bottomleft:6px;border-bottom-left-radius:6px}
.pagination-large ul>li:last-child>a,.pagination-large ul>li:last-child>span{-webkit-border-top-right-radius:6px;-moz-border-radius-topright:6px;border-top-right-radius:6px;-webkit-border-bottom-right-radius:6px;-moz-border-radius-bottomright:6px;border-bottom-right-radius:6px}
.pagination-mini ul>li:first-child>a,.pagination-small ul>li:first-child>a,.pagination-mini ul>li:first-child>span,.pagination-small ul>li:first-child>span{-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;-moz-border-radius-bottomleft:3px;border-bottom-left-radius:3px}
.pagination-mini ul>li:last-child>a,.pagination-small ul>li:last-child>a,.pagination-mini ul>li:last-child>span,.pagination-small ul>li:last-child>span{-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;-moz-border-radius-bottomright:3px;border-bottom-right-radius:3px}
.pagination-small ul>li>a,.pagination-small ul>li>span{padding:2px 10px;font-size:11.049999999999999px}
.pagination-mini ul>li>a,.pagination-mini ul>li>span{padding:0 6px;font-size:9.75px}
.pager{margin:20px 0;list-style:none;text-align:center;*zoom:1}.pager:before,.pager:after{display:table;content:"";line-height:0}
.pager:after{clear:both}
.pager li{display:inline}
.pager li>a,.pager li>span{display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid #ddd;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px}
.pager li>a:hover,.pager li>a:focus{text-decoration:none;background-color:#f5f5f5}
.pager .next>a,.pager .next>span{float:right}
.pager .previous>a,.pager .previous>span{float:left}
.pager .disabled>a,.pager .disabled>a:hover,.pager .disabled>a:focus,.pager .disabled>span{color:#999;background-color:#fff;cursor:default}
.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0}
.modal-backdrop,.modal-backdrop.fade.in{opacity:.8;filter:alpha(opacity=80)}
.modal{position:fixed;top:10%;left:50%;z-index:1050;width:560px;margin-left:-280px;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,0.3);*border:1px solid #999;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);-moz-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3);-webkit-background-clip:padding-box;-moz-background-clip:padding-box;background-clip:padding-box;outline:none}.modal.fade{-webkit-transition:opacity .3s linear, top .3s ease-out;-moz-transition:opacity .3s linear, top .3s ease-out;-o-transition:opacity .3s linear, top .3s ease-out;transition:opacity .3s linear, top .3s ease-out;top:-25%}
.modal.fade.in{top:10%}
.modal-header{padding:9px 15px;border-bottom:1px solid #eee}.modal-header .close{margin-top:2px}
.modal-header h3{margin:0;line-height:30px}
.modal-body{position:relative;overflow-y:auto;max-height:400px;padding:15px}
.modal-form{margin-bottom:0}
.modal-footer{padding:14px 15px 15px;margin-bottom:0;text-align:right;background-color:#f5f5f5;border-top:1px solid #ddd;-webkit-border-radius:0 0 6px 6px;-moz-border-radius:0 0 6px 6px;border-radius:0 0 6px 6px;-webkit-box-shadow:inset 0 1px 0 #fff;-moz-box-shadow:inset 0 1px 0 #fff;box-shadow:inset 0 1px 0 #fff;*zoom:1}.modal-footer:before,.modal-footer:after{display:table;content:"";line-height:0}
.modal-footer:after{clear:both}
.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}
.modal-footer .btn-group .btn+.btn{margin-left:-1px}
.modal-footer .btn-block+.btn-block{margin-left:0}
.tooltip{position:absolute;z-index:1030;display:block;visibility:visible;font-size:11px;line-height:1.4;opacity:0;filter:alpha(opacity=0)}.tooltip.in{opacity:.8;filter:alpha(opacity=80)}
.tooltip.top{margin-top:-3px;padding:5px 0}
.tooltip.right{margin-left:3px;padding:0 5px}
.tooltip.bottom{margin-top:3px;padding:5px 0}
.tooltip.left{margin-left:-3px;padding:0 5px}
.tooltip-inner{max-width:200px;padding:8px;color:#fff;text-align:center;text-decoration:none;background-color:#000;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}
.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}
.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}
.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}
.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}
.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}
.popover{position:absolute;top:0;left:0;z-index:1010;display:none;max-width:276px;padding:1px;text-align:left;background-color:#fff;-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,0.2);-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);-moz-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);white-space:normal}.popover.top{margin-top:-10px}
.popover.right{margin-left:10px}
.popover.bottom{margin-top:10px}
.popover.left{margin-left:-10px}
.popover-title{margin:0;padding:8px 14px;font-size:14px;font-weight:normal;line-height:18px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:5px 5px 0 0;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0}.popover-title:empty{display:none}
.popover-content{padding:9px 14px}
.popover .arrow,.popover .arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}
.popover .arrow{border-width:11px}
.popover .arrow:after{border-width:10px;content:""}
.popover.top .arrow{left:50%;margin-left:-11px;border-bottom-width:0;border-top-color:#999;border-top-color:rgba(0,0,0,0.25);bottom:-11px}.popover.top .arrow:after{bottom:1px;margin-left:-10px;border-bottom-width:0;border-top-color:#fff}
.popover.right .arrow{top:50%;left:-11px;margin-top:-11px;border-left-width:0;border-right-color:#999;border-right-color:rgba(0,0,0,0.25)}.popover.right .arrow:after{left:1px;bottom:-10px;border-left-width:0;border-right-color:#fff}
.popover.bottom .arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,0.25);top:-11px}.popover.bottom .arrow:after{top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#fff}
.popover.left .arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,0.25)}.popover.left .arrow:after{right:1px;border-right-width:0;border-left-color:#fff;bottom:-10px}
.thumbnails{margin-left:-20px;list-style:none;*zoom:1}.thumbnails:before,.thumbnails:after{display:table;content:"";line-height:0}
.thumbnails:after{clear:both}
.row-fluid .thumbnails{margin-left:0}
.thumbnails>li{float:left;margin-bottom:20px;margin-left:20px}
.thumbnail{display:block;padding:4px;line-height:20px;border:1px solid #ddd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,0.055);-moz-box-shadow:0 1px 3px rgba(0,0,0,0.055);box-shadow:0 1px 3px rgba(0,0,0,0.055);-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}
a.thumbnail:hover,a.thumbnail:focus{border-color:#08c;-webkit-box-shadow:0 1px 4px rgba(0,105,214,0.25);-moz-box-shadow:0 1px 4px rgba(0,105,214,0.25);box-shadow:0 1px 4px rgba(0,105,214,0.25)}
.thumbnail>img{display:block;max-width:100%;margin-left:auto;margin-right:auto}
.thumbnail .caption{padding:9px;color:#555}
.media,.media-body{overflow:hidden;*overflow:visible;zoom:1}
.media,.media .media{margin-top:15px}
.media:first-child{margin-top:0}
.media-object{display:block}
.media-heading{margin:0 0 5px}
.media>.pull-left{margin-right:10px}
.media>.pull-right{margin-left:10px}
.media-list{margin-left:0;list-style:none}
.label,.badge{display:inline-block;padding:2px 4px;font-size:10.998px;font-weight:bold;line-height:14px;color:#fff;vertical-align:baseline;white-space:nowrap;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#999}
.label{border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}
.badge{padding-left:9px;padding-right:9px;border-radius:9px;-webkit-border-radius:9px;-moz-border-radius:9px;border-radius:9px}
.label:empty,.badge:empty{display:none}
a.label:hover,a.label:focus,a.badge:hover,a.badge:focus{color:#fff;text-decoration:none;cursor:pointer}
.label-important,.badge-important{background-color:#b94a48}
.label-important[href],.badge-important[href]{background-color:#953b39}
.label-warning,.badge-warning{background-color:#f89406}
.label-warning[href],.badge-warning[href]{background-color:#c67605}
.label-success,.badge-success{background-color:#468847}
.label-success[href],.badge-success[href]{background-color:#356635}
.label-info,.badge-info{background-color:#3a87ad}
.label-info[href],.badge-info[href]{background-color:#2d6987}
.label-inverse,.badge-inverse{background-color:#333}
.label-inverse[href],.badge-inverse[href]{background-color:#1a1a1a}
.btn .label,.btn .badge{position:relative;top:-1px}
.btn-mini .label,.btn-mini .badge{top:0}
@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0} to{background-position:0 0}}@-moz-keyframes progress-bar-stripes{from{background-position:40px 0} to{background-position:0 0}}@-ms-keyframes progress-bar-stripes{from{background-position:40px 0} to{background-position:0 0}}@-o-keyframes progress-bar-stripes{from{background-position:0 0} to{background-position:40px 0}}@keyframes progress-bar-stripes{from{background-position:40px 0} to{background-position:0 0}}.progress{overflow:hidden;height:20px;margin-bottom:20px;background-color:#f7f7f7;background-image:-moz-linear-gradient(top, #f5f5f5, #f9f9f9);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#f5f5f5), to(#f9f9f9));background-image:-webkit-linear-gradient(top, #f5f5f5, #f9f9f9);background-image:-o-linear-gradient(top, #f5f5f5, #f9f9f9);background-image:linear-gradient(to bottom, #f5f5f5, #f9f9f9);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff5f5f5', endColorstr='#fff9f9f9', GradientType=0);-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,0.1);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,0.1);box-shadow:inset 0 1px 2px rgba(0,0,0,0.1);border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}
.progress .bar{width:0;height:100%;color:#fff;float:left;font-size:12px;text-align:center;text-shadow:0 -1px 0 rgba(0,0,0,0.25);background-color:#0e90d2;background-image:-moz-linear-gradient(top, #149bdf, #0480be);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#149bdf), to(#0480be));background-image:-webkit-linear-gradient(top, #149bdf, #0480be);background-image:-o-linear-gradient(top, #149bdf, #0480be);background-image:linear-gradient(to bottom, #149bdf, #0480be);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff149bdf', endColorstr='#ff0480be', GradientType=0);-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,0.15);-moz-box-shadow:inset 0 -1px 0 rgba(0,0,0,0.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,0.15);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:width .6s ease;-moz-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}
.progress .bar+.bar{-webkit-box-shadow:inset 1px 0 0 rgba(0,0,0,.15), inset 0 -1px 0 rgba(0,0,0,.15);-moz-box-shadow:inset 1px 0 0 rgba(0,0,0,.15), inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 1px 0 0 rgba(0,0,0,.15), inset 0 -1px 0 rgba(0,0,0,.15)}
.progress-striped .bar{background-color:#149bdf;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(.25, rgba(255,255,255,0.15)), color-stop(.25, transparent), color-stop(.5, transparent), color-stop(.5, rgba(255,255,255,0.15)), color-stop(.75, rgba(255,255,255,0.15)), color-stop(.75, transparent), to(transparent));background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-moz-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);-webkit-background-size:40px 40px;-moz-background-size:40px 40px;-o-background-size:40px 40px;background-size:40px 40px}
.progress.active .bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-moz-animation:progress-bar-stripes 2s linear infinite;-ms-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}
.progress-danger .bar,.progress .bar-danger{background-color:#dd514c;background-image:-moz-linear-gradient(top, #ee5f5b, #c43c35);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#ee5f5b), to(#c43c35));background-image:-webkit-linear-gradient(top, #ee5f5b, #c43c35);background-image:-o-linear-gradient(top, #ee5f5b, #c43c35);background-image:linear-gradient(to bottom, #ee5f5b, #c43c35);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffee5f5b', endColorstr='#ffc43c35', GradientType=0)}
.progress-danger.progress-striped .bar,.progress-striped .bar-danger{background-color:#ee5f5b;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(.25, rgba(255,255,255,0.15)), color-stop(.25, transparent), color-stop(.5, transparent), color-stop(.5, rgba(255,255,255,0.15)), color-stop(.75, rgba(255,255,255,0.15)), color-stop(.75, transparent), to(transparent));background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-moz-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent)}
.progress-success .bar,.progress .bar-success{background-color:#5eb95e;background-image:-moz-linear-gradient(top, #62c462, #57a957);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#62c462), to(#57a957));background-image:-webkit-linear-gradient(top, #62c462, #57a957);background-image:-o-linear-gradient(top, #62c462, #57a957);background-image:linear-gradient(to bottom, #62c462, #57a957);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff62c462', endColorstr='#ff57a957', GradientType=0)}
.progress-success.progress-striped .bar,.progress-striped .bar-success{background-color:#62c462;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(.25, rgba(255,255,255,0.15)), color-stop(.25, transparent), color-stop(.5, transparent), color-stop(.5, rgba(255,255,255,0.15)), color-stop(.75, rgba(255,255,255,0.15)), color-stop(.75, transparent), to(transparent));background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-moz-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent)}
.progress-info .bar,.progress .bar-info{background-color:#4bb1cf;background-image:-moz-linear-gradient(top, #5bc0de, #339bb9);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#5bc0de), to(#339bb9));background-image:-webkit-linear-gradient(top, #5bc0de, #339bb9);background-image:-o-linear-gradient(top, #5bc0de, #339bb9);background-image:linear-gradient(to bottom, #5bc0de, #339bb9);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff5bc0de', endColorstr='#ff339bb9', GradientType=0)}
.progress-info.progress-striped .bar,.progress-striped .bar-info{background-color:#5bc0de;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(.25, rgba(255,255,255,0.15)), color-stop(.25, transparent), color-stop(.5, transparent), color-stop(.5, rgba(255,255,255,0.15)), color-stop(.75, rgba(255,255,255,0.15)), color-stop(.75, transparent), to(transparent));background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-moz-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent)}
.progress-warning .bar,.progress .bar-warning{background-color:#faa732;background-image:-moz-linear-gradient(top, #fbb450, #f89406);background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#fbb450), to(#f89406));background-image:-webkit-linear-gradient(top, #fbb450, #f89406);background-image:-o-linear-gradient(top, #fbb450, #f89406);background-image:linear-gradient(to bottom, #fbb450, #f89406);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fffbb450', endColorstr='#fff89406', GradientType=0)}
.progress-warning.progress-striped .bar,.progress-striped .bar-warning{background-color:#fbb450;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(.25, rgba(255,255,255,0.15)), color-stop(.25, transparent), color-stop(.5, transparent), color-stop(.5, rgba(255,255,255,0.15)), color-stop(.75, rgba(255,255,255,0.15)), color-stop(.75, transparent), to(transparent));background-image:-webkit-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-moz-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:-o-linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent);background-image:linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent)}
.accordion{margin-bottom:20px}
.accordion-group{margin-bottom:2px;border:1px solid #e5e5e5;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}
.accordion-heading{border-bottom:0}
.accordion-heading .accordion-toggle{display:block;padding:8px 15px}
.accordion-toggle{cursor:pointer}
.accordion-inner{padding:9px 15px;border-top:1px solid #e5e5e5}
.carousel{position:relative;margin-bottom:20px;line-height:1}
.carousel-inner{overflow:hidden;width:100%;position:relative}
.carousel-inner>.item{display:none;position:relative;-webkit-transition:.6s ease-in-out left;-moz-transition:.6s ease-in-out left;-o-transition:.6s ease-in-out left;transition:.6s ease-in-out left}.carousel-inner>.item>img,.carousel-inner>.item>a>img{display:block;line-height:1}
.carousel-inner>.active,.carousel-inner>.next,.carousel-inner>.prev{display:block}
.carousel-inner>.active{left:0}
.carousel-inner>.next,.carousel-inner>.prev{position:absolute;top:0;width:100%}
.carousel-inner>.next{left:100%}
.carousel-inner>.prev{left:-100%}
.carousel-inner>.next.left,.carousel-inner>.prev.right{left:0}
.carousel-inner>.active.left{left:-100%}
.carousel-inner>.active.right{left:100%}
.carousel-control{position:absolute;top:40%;left:15px;width:40px;height:40px;margin-top:-20px;font-size:60px;font-weight:100;line-height:30px;color:#fff;text-align:center;background:#222;border:3px solid #fff;-webkit-border-radius:23px;-moz-border-radius:23px;border-radius:23px;opacity:.5;filter:alpha(opacity=50)}.carousel-control.right{left:auto;right:15px}
.carousel-control:hover,.carousel-control:focus{color:#fff;text-decoration:none;opacity:.9;filter:alpha(opacity=90)}
.carousel-indicators{position:absolute;top:15px;right:15px;z-index:5;margin:0;list-style:none}.carousel-indicators li{display:block;float:left;width:10px;height:10px;margin-left:5px;text-indent:-999px;background-color:#ccc;background-color:rgba(255,255,255,0.25);border-radius:5px}
.carousel-indicators .active{background-color:#fff}
.carousel-caption{position:absolute;left:0;right:0;bottom:0;padding:15px;background:#333;background:rgba(0,0,0,0.75)}
.carousel-caption h4,.carousel-caption p{color:#fff;line-height:20px}
.carousel-caption h4{margin:0 0 5px}
.carousel-caption p{margin-bottom:0}
.hero-unit{padding:60px;margin-bottom:30px;font-size:18px;font-weight:200;line-height:30px;color:inherit;background-color:#eee;border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}.hero-unit h1{margin-bottom:0;font-size:60px;line-height:1;color:inherit;letter-spacing:-1px}
.hero-unit li{line-height:30px}
.pull-right{float:right}
.pull-left{float:left}
.hide{display:none}
.show{display:block}
.invisible{visibility:hidden}
.affix{position:fixed}
@-ms-viewport{width:device-width}.hidden{display:none;visibility:hidden}
.visible-phone{display:none !important}
.visible-tablet{display:none !important}
.hidden-desktop{display:none !important}
.visible-desktop{display:inherit !important}
@media (min-width:768px) and (max-width:979px){.hidden-desktop{display:inherit !important} .visible-desktop{display:none !important} .visible-tablet{display:inherit !important} .hidden-tablet{display:none !important}}@media (max-width:767px){.hidden-desktop{display:inherit !important} .visible-desktop{display:none !important} .visible-phone{display:inherit !important} .hidden-phone{display:none !important}}.visible-print{display:none !important}
@media print{.visible-print{display:inherit !important} .hidden-print{display:none !important}}@media (min-width:1200px){.row{margin-left:-30px;*zoom:1}.row:before,.row:after{display:table;content:"";line-height:0} .row:after{clear:both} [class*="span"]{float:left;min-height:1px;margin-left:30px} .container,.navbar-static-top .container,.navbar-fixed-top .container,.navbar-fixed-bottom .container{width:1170px} .span12{width:1170px} .span11{width:1070px} .span10{width:970px} .span9{width:870px} .span8{width:770px} .span7{width:670px} .span6{width:570px} .span5{width:470px} .span4{width:370px} .span3{width:270px} .span2{width:170px} .span1{width:70px} .offset12{margin-left:1230px} .offset11{margin-left:1130px} .offset10{margin-left:1030px} .offset9{margin-left:930px} .offset8{margin-left:830px} .offset7{margin-left:730px} .offset6{margin-left:630px} .offset5{margin-left:530px} .offset4{margin-left:430px} .offset3{margin-left:330px} .offset2{margin-left:230px} .offset1{margin-left:130px} .row-fluid{width:100%;*zoom:1}.row-fluid:before,.row-fluid:after{display:table;content:"";line-height:0} .row-fluid:after{clear:both} .row-fluid [class*="span"]{display:block;width:100%;min-height:30px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;float:left;margin-left:2.564102564102564%;*margin-left:2.5109110747408616%} .row-fluid [class*="span"]:first-child{margin-left:0} .row-fluid .controls-row [class*="span"]+[class*="span"]{margin-left:2.564102564102564%} .row-fluid .span12{width:100%;*width:99.94680851063829%} .row-fluid .span11{width:91.45299145299145%;*width:91.39979996362975%} .row-fluid .span10{width:82.90598290598291%;*width:82.8527914166212%} .row-fluid .span9{width:74.35897435897436%;*width:74.30578286961266%} .row-fluid .span8{width:65.81196581196582%;*width:65.75877432260411%} .row-fluid .span7{width:57.26495726495726%;*width:57.21176577559556%} .row-fluid .span6{width:48.717948717948715%;*width:48.664757228587014%} .row-fluid .span5{width:40.17094017094017%;*width:40.11774868157847%} .row-fluid .span4{width:31.623931623931625%;*width:31.570740134569924%} .row-fluid .span3{width:23.076923076923077%;*width:23.023731587561375%} .row-fluid .span2{width:14.52991452991453%;*width:14.476723040552828%} .row-fluid .span1{width:5.982905982905983%;*width:5.929714493544281%} .row-fluid .offset12{margin-left:105.12820512820512%;*margin-left:105.02182214948171%} .row-fluid .offset12:first-child{margin-left:102.56410256410257%;*margin-left:102.45771958537915%} .row-fluid .offset11{margin-left:96.58119658119658%;*margin-left:96.47481360247316%} .row-fluid .offset11:first-child{margin-left:94.01709401709402%;*margin-left:93.91071103837061%} .row-fluid .offset10{margin-left:88.03418803418803%;*margin-left:87.92780505546462%} .row-fluid .offset10:first-child{margin-left:85.47008547008548%;*margin-left:85.36370249136206%} .row-fluid .offset9{margin-left:79.48717948717949%;*margin-left:79.38079650845607%} .row-fluid .offset9:first-child{margin-left:76.92307692307693%;*margin-left:76.81669394435352%} .row-fluid .offset8{margin-left:70.94017094017094%;*margin-left:70.83378796144753%} .row-fluid .offset8:first-child{margin-left:68.37606837606839%;*margin-left:68.26968539734497%} .row-fluid .offset7{margin-left:62.393162393162385%;*margin-left:62.28677941443899%} .row-fluid .offset7:first-child{margin-left:59.82905982905982%;*margin-left:59.72267685033642%} .row-fluid .offset6{margin-left:53.84615384615384%;*margin-left:53.739770867430444%} .row-fluid .offset6:first-child{margin-left:51.28205128205128%;*margin-left:51.175668303327875%} .row-fluid .offset5{margin-left:45.299145299145295%;*margin-left:45.1927623204219%} .row-fluid .offset5:first-child{margin-left:42.73504273504273%;*margin-left:42.62865975631933%} .row-fluid .offset4{margin-left:36.75213675213675%;*margin-left:36.645753773413354%} .row-fluid .offset4:first-child{margin-left:34.18803418803419%;*margin-left:34.081651209310785%} .row-fluid .offset3{margin-left:28.205128205128204%;*margin-left:28.0987452264048%} .row-fluid .offset3:first-child{margin-left:25.641025641025642%;*margin-left:25.53464266230224%} .row-fluid .offset2{margin-left:19.65811965811966%;*margin-left:19.551736679396257%} .row-fluid .offset2:first-child{margin-left:17.094017094017094%;*margin-left:16.98763411529369%} .row-fluid .offset1{margin-left:11.11111111111111%;*margin-left:11.004728132387708%} .row-fluid .offset1:first-child{margin-left:8.547008547008547%;*margin-left:8.440625568285142%} input,textarea,.uneditable-input{margin-left:0} .controls-row [class*="span"]+[class*="span"]{margin-left:30px} input.span12,textarea.span12,.uneditable-input.span12{width:1156px} input.span11,textarea.span11,.uneditable-input.span11{width:1056px} input.span10,textarea.span10,.uneditable-input.span10{width:956px} input.span9,textarea.span9,.uneditable-input.span9{width:856px} input.span8,textarea.span8,.uneditable-input.span8{width:756px} input.span7,textarea.span7,.uneditable-input.span7{width:656px} input.span6,textarea.span6,.uneditable-input.span6{width:556px} input.span5,textarea.span5,.uneditable-input.span5{width:456px} input.span4,textarea.span4,.uneditable-input.span4{width:356px} input.span3,textarea.span3,.uneditable-input.span3{width:256px} input.span2,textarea.span2,.uneditable-input.span2{width:156px} input.span1,textarea.span1,.uneditable-input.span1{width:56px} .thumbnails{margin-left:-30px} .thumbnails>li{margin-left:30px} .row-fluid .thumbnails{margin-left:0}}@media (min-width:768px) and (max-width:979px){.row{margin-left:-20px;*zoom:1}.row:before,.row:after{display:table;content:"";line-height:0} .row:after{clear:both} [class*="span"]{float:left;min-height:1px;margin-left:20px} .container,.navbar-static-top .container,.navbar-fixed-top .container,.navbar-fixed-bottom .container{width:724px} .span12{width:724px} .span11{width:662px} .span10{width:600px} .span9{width:538px} .span8{width:476px} .span7{width:414px} .span6{width:352px} .span5{width:290px} .span4{width:228px} .span3{width:166px} .span2{width:104px} .span1{width:42px} .offset12{margin-left:764px} .offset11{margin-left:702px} .offset10{margin-left:640px} .offset9{margin-left:578px} .offset8{margin-left:516px} .offset7{margin-left:454px} .offset6{margin-left:392px} .offset5{margin-left:330px} .offset4{margin-left:268px} .offset3{margin-left:206px} .offset2{margin-left:144px} .offset1{margin-left:82px} .row-fluid{width:100%;*zoom:1}.row-fluid:before,.row-fluid:after{display:table;content:"";line-height:0} .row-fluid:after{clear:both} .row-fluid [class*="span"]{display:block;width:100%;min-height:30px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;float:left;margin-left:2.7624309392265194%;*margin-left:2.709239449864817%} .row-fluid [class*="span"]:first-child{margin-left:0} .row-fluid .controls-row [class*="span"]+[class*="span"]{margin-left:2.7624309392265194%} .row-fluid .span12{width:100%;*width:99.94680851063829%} .row-fluid .span11{width:91.43646408839778%;*width:91.38327259903608%} .row-fluid .span10{width:82.87292817679558%;*width:82.81973668743387%} .row-fluid .span9{width:74.30939226519337%;*width:74.25620077583166%} .row-fluid .span8{width:65.74585635359117%;*width:65.69266486422946%} .row-fluid .span7{width:57.18232044198895%;*width:57.12912895262725%} .row-fluid .span6{width:48.61878453038674%;*width:48.56559304102504%} .row-fluid .span5{width:40.05524861878453%;*width:40.00205712942283%} .row-fluid .span4{width:31.491712707182323%;*width:31.43852121782062%} .row-fluid .span3{width:22.92817679558011%;*width:22.87498530621841%} .row-fluid .span2{width:14.3646408839779%;*width:14.311449394616199%} .row-fluid .span1{width:5.801104972375691%;*width:5.747913483013988%} .row-fluid .offset12{margin-left:105.52486187845304%;*margin-left:105.41847889972962%} .row-fluid .offset12:first-child{margin-left:102.76243093922652%;*margin-left:102.6560479605031%} .row-fluid .offset11{margin-left:96.96132596685082%;*margin-left:96.8549429881274%} .row-fluid .offset11:first-child{margin-left:94.1988950276243%;*margin-left:94.09251204890089%} .row-fluid .offset10{margin-left:88.39779005524862%;*margin-left:88.2914070765252%} .row-fluid .offset10:first-child{margin-left:85.6353591160221%;*margin-left:85.52897613729868%} .row-fluid .offset9{margin-left:79.8342541436464%;*margin-left:79.72787116492299%} .row-fluid .offset9:first-child{margin-left:77.07182320441989%;*margin-left:76.96544022569647%} .row-fluid .offset8{margin-left:71.2707182320442%;*margin-left:71.16433525332079%} .row-fluid .offset8:first-child{margin-left:68.50828729281768%;*margin-left:68.40190431409427%} .row-fluid .offset7{margin-left:62.70718232044199%;*margin-left:62.600799341718584%} .row-fluid .offset7:first-child{margin-left:59.94475138121547%;*margin-left:59.838368402492065%} .row-fluid .offset6{margin-left:54.14364640883978%;*margin-left:54.037263430116376%} .row-fluid .offset6:first-child{margin-left:51.38121546961326%;*margin-left:51.27483249088986%} .row-fluid .offset5{margin-left:45.58011049723757%;*margin-left:45.47372751851417%} .row-fluid .offset5:first-child{margin-left:42.81767955801105%;*margin-left:42.71129657928765%} .row-fluid .offset4{margin-left:37.01657458563536%;*margin-left:36.91019160691196%} .row-fluid .offset4:first-child{margin-left:34.25414364640884%;*margin-left:34.14776066768544%} .row-fluid .offset3{margin-left:28.45303867403315%;*margin-left:28.346655695309746%} .row-fluid .offset3:first-child{margin-left:25.69060773480663%;*margin-left:25.584224756083227%} .row-fluid .offset2{margin-left:19.88950276243094%;*margin-left:19.783119783707537%} .row-fluid .offset2:first-child{margin-left:17.12707182320442%;*margin-left:17.02068884448102%} .row-fluid .offset1{margin-left:11.32596685082873%;*margin-left:11.219583872105325%} .row-fluid .offset1:first-child{margin-left:8.56353591160221%;*margin-left:8.457152932878806%} input,textarea,.uneditable-input{margin-left:0} .controls-row [class*="span"]+[class*="span"]{margin-left:20px} input.span12,textarea.span12,.uneditable-input.span12{width:710px} input.span11,textarea.span11,.uneditable-input.span11{width:648px} input.span10,textarea.span10,.uneditable-input.span10{width:586px} input.span9,textarea.span9,.uneditable-input.span9{width:524px} input.span8,textarea.span8,.uneditable-input.span8{width:462px} input.span7,textarea.span7,.uneditable-input.span7{width:400px} input.span6,textarea.span6,.uneditable-input.span6{width:338px} input.span5,textarea.span5,.uneditable-input.span5{width:276px} input.span4,textarea.span4,.uneditable-input.span4{width:214px} input.span3,textarea.span3,.uneditable-input.span3{width:152px} input.span2,textarea.span2,.uneditable-input.span2{width:90px} input.span1,textarea.span1,.uneditable-input.span1{width:28px}}@media (max-width:767px){body{padding-left:20px;padding-right:20px} .navbar-fixed-top,.navbar-fixed-bottom,.navbar-static-top{margin-left:-20px;margin-right:-20px} .container-fluid{padding:0} .dl-horizontal dt{float:none;clear:none;width:auto;text-align:left} .dl-horizontal dd{margin-left:0} .container{width:auto} .row-fluid{width:100%} .row,.thumbnails{margin-left:0} .thumbnails>li{float:none;margin-left:0} [class*="span"],.uneditable-input[class*="span"],.row-fluid [class*="span"]{float:none;display:block;width:100%;margin-left:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box} .span12,.row-fluid .span12{width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box} .row-fluid [class*="offset"]:first-child{margin-left:0} .input-large,.input-xlarge,.input-xxlarge,input[class*="span"],select[class*="span"],textarea[class*="span"],.uneditable-input{display:block;width:100%;min-height:30px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box} .input-prepend input,.input-append input,.input-prepend input[class*="span"],.input-append input[class*="span"]{display:inline-block;width:auto} .controls-row [class*="span"]+[class*="span"]{margin-left:0} .modal{position:fixed;top:20px;left:20px;right:20px;width:auto;margin:0}.modal.fade{top:-100px} .modal.fade.in{top:20px}}@media (max-width:480px){.nav-collapse{-webkit-transform:translate3d(0, 0, 0)} .page-header h1 small{display:block;line-height:20px} input[type="checkbox"],input[type="radio"]{border:1px solid #ccc} .form-horizontal .control-label{float:none;width:auto;padding-top:0;text-align:left} .form-horizontal .controls{margin-left:0} .form-horizontal .control-list{padding-top:0} .form-horizontal .form-actions{padding-left:10px;padding-right:10px} .media .pull-left,.media .pull-right{float:none;display:block;margin-bottom:10px} .media-object{margin-right:0;margin-left:0} .modal{top:10px;left:10px;right:10px} .modal-header .close{padding:10px;margin:-10px} .carousel-caption{position:static}}@media (max-width:979px){body{padding-top:0} .navbar-fixed-top,.navbar-fixed-bottom{position:static} .navbar-fixed-top{margin-bottom:20px} .navbar-fixed-bottom{margin-top:20px} .navbar-fixed-top .navbar-inner,.navbar-fixed-bottom .navbar-inner{padding:5px} .navbar .container{width:auto;padding:0} .navbar .brand{padding-left:10px;padding-right:10px;margin:0 0 0 -5px} .nav-collapse{clear:both} .nav-collapse .nav{float:none;margin:0 0 10px} .nav-collapse .nav>li{float:none} .nav-collapse .nav>li>a{margin-bottom:2px} .nav-collapse .nav>.divider-vertical{display:none} .nav-collapse .nav .nav-header{color:#777;text-shadow:none} .nav-collapse .nav>li>a,.nav-collapse .dropdown-menu a{padding:9px 15px;font-weight:bold;color:#777;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px} .nav-collapse .btn{padding:4px 10px 4px;font-weight:normal;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px} .nav-collapse .dropdown-menu li+li a{margin-bottom:2px} .nav-collapse .nav>li>a:hover,.nav-collapse .nav>li>a:focus,.nav-collapse .dropdown-menu a:hover,.nav-collapse .dropdown-menu a:focus{background-color:#f2f2f2} .navbar-inverse .nav-collapse .nav>li>a,.navbar-inverse .nav-collapse .dropdown-menu a{color:#999} .navbar-inverse .nav-collapse .nav>li>a:hover,.navbar-inverse .nav-collapse .nav>li>a:focus,.navbar-inverse .nav-collapse .dropdown-menu a:hover,.navbar-inverse .nav-collapse .dropdown-menu a:focus{background-color:#111} .nav-collapse.in .btn-group{margin-top:5px;padding:0} .nav-collapse .dropdown-menu{position:static;top:auto;left:auto;float:none;display:none;max-width:none;margin:0 15px;padding:0;background-color:transparent;border:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none} .nav-collapse .open>.dropdown-menu{display:block} .nav-collapse .dropdown-menu:before,.nav-collapse .dropdown-menu:after{display:none} .nav-collapse .dropdown-menu .divider{display:none} .nav-collapse .nav>li>.dropdown-menu:before,.nav-collapse .nav>li>.dropdown-menu:after{display:none} .nav-collapse .navbar-form,.nav-collapse .navbar-search{float:none;padding:10px 15px;margin:10px 0;border-top:1px solid #f2f2f2;border-bottom:1px solid #f2f2f2;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.1);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.1)} .navbar-inverse .nav-collapse .navbar-form,.navbar-inverse .nav-collapse .navbar-search{border-top-color:#111;border-bottom-color:#111} .navbar .nav-collapse .nav.pull-right{float:none;margin-left:0} .nav-collapse,.nav-collapse.collapse{overflow:hidden;height:0} .navbar .btn-navbar{display:block} .navbar-static .navbar-inner{padding-left:10px;padding-right:10px}}@media (min-width:979px + 1){.nav-collapse.collapse{height:auto !important;overflow:visible !important}}@font-face{font-family:'FontAwesome';src:url('../components/font-awesome/font/fontawesome-webfont.eot?v=3.2.1');src:url('../components/font-awesome/font/fontawesome-webfont.eot?#iefix&v=3.2.1') format('embedded-opentype'),url('../components/font-awesome/font/fontawesome-webfont.woff?v=3.2.1') format('woff'),url('../components/font-awesome/font/fontawesome-webfont.ttf?v=3.2.1') format('truetype'),url('../components/font-awesome/font/fontawesome-webfont.svg#fontawesomeregular?v=3.2.1') format('svg');font-weight:normal;font-style:normal}[class^="icon-"],[class*=" icon-"]{font-family:FontAwesome;font-weight:normal;font-style:normal;text-decoration:inherit;-webkit-font-smoothing:antialiased;*margin-right:.3em}
[class^="icon-"]:before,[class*=" icon-"]:before{text-decoration:inherit;display:inline-block;speak:none}
.icon-large:before{vertical-align:-10%;font-size:1.3333333333333333em}
a [class^="icon-"],a [class*=" icon-"]{display:inline}
[class^="icon-"].icon-fixed-width,[class*=" icon-"].icon-fixed-width{display:inline-block;width:1.1428571428571428em;text-align:right;padding-right:.2857142857142857em}[class^="icon-"].icon-fixed-width.icon-large,[class*=" icon-"].icon-fixed-width.icon-large{width:1.4285714285714286em}
.icons-ul{margin-left:2.142857142857143em;list-style-type:none}.icons-ul>li{position:relative}
.icons-ul .icon-li{position:absolute;left:-2.142857142857143em;width:2.142857142857143em;text-align:center;line-height:inherit}
[class^="icon-"].hide,[class*=" icon-"].hide{display:none}
.icon-muted{color:#eee}
.icon-light{color:#fff}
.icon-dark{color:#333}
.icon-border{border:solid 1px #eee;padding:.2em .25em .15em;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}
.icon-2x{font-size:2em}.icon-2x.icon-border{border-width:2px;border-radius:4px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}
.icon-3x{font-size:3em}.icon-3x.icon-border{border-width:3px;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}
.icon-4x{font-size:4em}.icon-4x.icon-border{border-width:4px;border-radius:6px;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px}
.icon-5x{font-size:5em}.icon-5x.icon-border{border-width:5px;border-radius:7px;-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px}
.pull-right{float:right}
.pull-left{float:left}
[class^="icon-"].pull-left,[class*=" icon-"].pull-left{margin-right:.3em}
[class^="icon-"].pull-right,[class*=" icon-"].pull-right{margin-left:.3em}
[class^="icon-"],[class*=" icon-"]{display:inline;width:auto;height:auto;line-height:normal;vertical-align:baseline;background-image:none;background-position:0 0;background-repeat:repeat;margin-top:0}
.icon-white,.nav-pills>.active>a>[class^="icon-"],.nav-pills>.active>a>[class*=" icon-"],.nav-list>.active>a>[class^="icon-"],.nav-list>.active>a>[class*=" icon-"],.navbar-inverse .nav>.active>a>[class^="icon-"],.navbar-inverse .nav>.active>a>[class*=" icon-"],.dropdown-menu>li>a:hover>[class^="icon-"],.dropdown-menu>li>a:hover>[class*=" icon-"],.dropdown-menu>.active>a>[class^="icon-"],.dropdown-menu>.active>a>[class*=" icon-"],.dropdown-submenu:hover>a>[class^="icon-"],.dropdown-submenu:hover>a>[class*=" icon-"]{background-image:none}
.btn [class^="icon-"].icon-large,.nav [class^="icon-"].icon-large,.btn [class*=" icon-"].icon-large,.nav [class*=" icon-"].icon-large{line-height:.9em}
.btn [class^="icon-"].icon-spin,.nav [class^="icon-"].icon-spin,.btn [class*=" icon-"].icon-spin,.nav [class*=" icon-"].icon-spin{display:inline-block}
.nav-tabs [class^="icon-"],.nav-pills [class^="icon-"],.nav-tabs [class*=" icon-"],.nav-pills [class*=" icon-"],.nav-tabs [class^="icon-"].icon-large,.nav-pills [class^="icon-"].icon-large,.nav-tabs [class*=" icon-"].icon-large,.nav-pills [class*=" icon-"].icon-large{line-height:.9em}
.btn [class^="icon-"].pull-left.icon-2x,.btn [class*=" icon-"].pull-left.icon-2x,.btn [class^="icon-"].pull-right.icon-2x,.btn [class*=" icon-"].pull-right.icon-2x{margin-top:.18em}
.btn [class^="icon-"].icon-spin.icon-large,.btn [class*=" icon-"].icon-spin.icon-large{line-height:.8em}
.btn.btn-small [class^="icon-"].pull-left.icon-2x,.btn.btn-small [class*=" icon-"].pull-left.icon-2x,.btn.btn-small [class^="icon-"].pull-right.icon-2x,.btn.btn-small [class*=" icon-"].pull-right.icon-2x{margin-top:.25em}
.btn.btn-large [class^="icon-"],.btn.btn-large [class*=" icon-"]{margin-top:0}.btn.btn-large [class^="icon-"].pull-left.icon-2x,.btn.btn-large [class*=" icon-"].pull-left.icon-2x,.btn.btn-large [class^="icon-"].pull-right.icon-2x,.btn.btn-large [class*=" icon-"].pull-right.icon-2x{margin-top:.05em}
.btn.btn-large [class^="icon-"].pull-left.icon-2x,.btn.btn-large [class*=" icon-"].pull-left.icon-2x{margin-right:.2em}
.btn.btn-large [class^="icon-"].pull-right.icon-2x,.btn.btn-large [class*=" icon-"].pull-right.icon-2x{margin-left:.2em}
.nav-list [class^="icon-"],.nav-list [class*=" icon-"]{line-height:inherit}
.icon-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:-35%}.icon-stack [class^="icon-"],.icon-stack [class*=" icon-"]{display:block;text-align:center;position:absolute;width:100%;height:100%;font-size:1em;line-height:inherit;*line-height:2em}
.icon-stack .icon-stack-base{font-size:2em;*line-height:1em}
.icon-spin{display:inline-block;-moz-animation:spin 2s infinite linear;-o-animation:spin 2s infinite linear;-webkit-animation:spin 2s infinite linear;animation:spin 2s infinite linear}
a .icon-stack,a .icon-spin{display:inline-block;text-decoration:none}
@-moz-keyframes spin{0%{-moz-transform:rotate(0deg)} 100%{-moz-transform:rotate(359deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)} 100%{-webkit-transform:rotate(359deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg)} 100%{-o-transform:rotate(359deg)}}@-ms-keyframes spin{0%{-ms-transform:rotate(0deg)} 100%{-ms-transform:rotate(359deg)}}@keyframes spin{0%{transform:rotate(0deg)} 100%{transform:rotate(359deg)}}.icon-rotate-90:before{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1)}
.icon-rotate-180:before{-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2)}
.icon-rotate-270:before{-webkit-transform:rotate(270deg);-moz-transform:rotate(270deg);-ms-transform:rotate(270deg);-o-transform:rotate(270deg);transform:rotate(270deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3)}
.icon-flip-horizontal:before{-webkit-transform:scale(-1, 1);-moz-transform:scale(-1, 1);-ms-transform:scale(-1, 1);-o-transform:scale(-1, 1);transform:scale(-1, 1)}
.icon-flip-vertical:before{-webkit-transform:scale(1, -1);-moz-transform:scale(1, -1);-ms-transform:scale(1, -1);-o-transform:scale(1, -1);transform:scale(1, -1)}
a .icon-rotate-90:before,a .icon-rotate-180:before,a .icon-rotate-270:before,a .icon-flip-horizontal:before,a .icon-flip-vertical:before{display:inline-block}
.icon-glass:before{content:"\f000"}
.icon-music:before{content:"\f001"}
.icon-search:before{content:"\f002"}
.icon-envelope-alt:before{content:"\f003"}
.icon-heart:before{content:"\f004"}
.icon-star:before{content:"\f005"}
.icon-star-empty:before{content:"\f006"}
.icon-user:before{content:"\f007"}
.icon-film:before{content:"\f008"}
.icon-th-large:before{content:"\f009"}
.icon-th:before{content:"\f00a"}
.icon-th-list:before{content:"\f00b"}
.icon-ok:before{content:"\f00c"}
.icon-remove:before{content:"\f00d"}
.icon-zoom-in:before{content:"\f00e"}
.icon-zoom-out:before{content:"\f010"}
.icon-power-off:before,.icon-off:before{content:"\f011"}
.icon-signal:before{content:"\f012"}
.icon-gear:before,.icon-cog:before{content:"\f013"}
.icon-trash:before{content:"\f014"}
.icon-home:before{content:"\f015"}
.icon-file-alt:before{content:"\f016"}
.icon-time:before{content:"\f017"}
.icon-road:before{content:"\f018"}
.icon-download-alt:before{content:"\f019"}
.icon-download:before{content:"\f01a"}
.icon-upload:before{content:"\f01b"}
.icon-inbox:before{content:"\f01c"}
.icon-play-circle:before{content:"\f01d"}
.icon-rotate-right:before,.icon-repeat:before{content:"\f01e"}
.icon-refresh:before{content:"\f021"}
.icon-list-alt:before{content:"\f022"}
.icon-lock:before{content:"\f023"}
.icon-flag:before{content:"\f024"}
.icon-headphones:before{content:"\f025"}
.icon-volume-off:before{content:"\f026"}
.icon-volume-down:before{content:"\f027"}
.icon-volume-up:before{content:"\f028"}
.icon-qrcode:before{content:"\f029"}
.icon-barcode:before{content:"\f02a"}
.icon-tag:before{content:"\f02b"}
.icon-tags:before{content:"\f02c"}
.icon-book:before{content:"\f02d"}
.icon-bookmark:before{content:"\f02e"}
.icon-print:before{content:"\f02f"}
.icon-camera:before{content:"\f030"}
.icon-font:before{content:"\f031"}
.icon-bold:before{content:"\f032"}
.icon-italic:before{content:"\f033"}
.icon-text-height:before{content:"\f034"}
.icon-text-width:before{content:"\f035"}
.icon-align-left:before{content:"\f036"}
.icon-align-center:before{content:"\f037"}
.icon-align-right:before{content:"\f038"}
.icon-align-justify:before{content:"\f039"}
.icon-list:before{content:"\f03a"}
.icon-indent-left:before{content:"\f03b"}
.icon-indent-right:before{content:"\f03c"}
.icon-facetime-video:before{content:"\f03d"}
.icon-picture:before{content:"\f03e"}
.icon-pencil:before{content:"\f040"}
.icon-map-marker:before{content:"\f041"}
.icon-adjust:before{content:"\f042"}
.icon-tint:before{content:"\f043"}
.icon-edit:before{content:"\f044"}
.icon-share:before{content:"\f045"}
.icon-check:before{content:"\f046"}
.icon-move:before{content:"\f047"}
.icon-step-backward:before{content:"\f048"}
.icon-fast-backward:before{content:"\f049"}
.icon-backward:before{content:"\f04a"}
.icon-play:before{content:"\f04b"}
.icon-pause:before{content:"\f04c"}
.icon-stop:before{content:"\f04d"}
.icon-forward:before{content:"\f04e"}
.icon-fast-forward:before{content:"\f050"}
.icon-step-forward:before{content:"\f051"}
.icon-eject:before{content:"\f052"}
.icon-chevron-left:before{content:"\f053"}
.icon-chevron-right:before{content:"\f054"}
.icon-plus-sign:before{content:"\f055"}
.icon-minus-sign:before{content:"\f056"}
.icon-remove-sign:before{content:"\f057"}
.icon-ok-sign:before{content:"\f058"}
.icon-question-sign:before{content:"\f059"}
.icon-info-sign:before{content:"\f05a"}
.icon-screenshot:before{content:"\f05b"}
.icon-remove-circle:before{content:"\f05c"}
.icon-ok-circle:before{content:"\f05d"}
.icon-ban-circle:before{content:"\f05e"}
.icon-arrow-left:before{content:"\f060"}
.icon-arrow-right:before{content:"\f061"}
.icon-arrow-up:before{content:"\f062"}
.icon-arrow-down:before{content:"\f063"}
.icon-mail-forward:before,.icon-share-alt:before{content:"\f064"}
.icon-resize-full:before{content:"\f065"}
.icon-resize-small:before{content:"\f066"}
.icon-plus:before{content:"\f067"}
.icon-minus:before{content:"\f068"}
.icon-asterisk:before{content:"\f069"}
.icon-exclamation-sign:before{content:"\f06a"}
.icon-gift:before{content:"\f06b"}
.icon-leaf:before{content:"\f06c"}
.icon-fire:before{content:"\f06d"}
.icon-eye-open:before{content:"\f06e"}
.icon-eye-close:before{content:"\f070"}
.icon-warning-sign:before{content:"\f071"}
.icon-plane:before{content:"\f072"}
.icon-calendar:before{content:"\f073"}
.icon-random:before{content:"\f074"}
.icon-comment:before{content:"\f075"}
.icon-magnet:before{content:"\f076"}
.icon-chevron-up:before{content:"\f077"}
.icon-chevron-down:before{content:"\f078"}
.icon-retweet:before{content:"\f079"}
.icon-shopping-cart:before{content:"\f07a"}
.icon-folder-close:before{content:"\f07b"}
.icon-folder-open:before{content:"\f07c"}
.icon-resize-vertical:before{content:"\f07d"}
.icon-resize-horizontal:before{content:"\f07e"}
.icon-bar-chart:before{content:"\f080"}
.icon-twitter-sign:before{content:"\f081"}
.icon-facebook-sign:before{content:"\f082"}
.icon-camera-retro:before{content:"\f083"}
.icon-key:before{content:"\f084"}
.icon-gears:before,.icon-cogs:before{content:"\f085"}
.icon-comments:before{content:"\f086"}
.icon-thumbs-up-alt:before{content:"\f087"}
.icon-thumbs-down-alt:before{content:"\f088"}
.icon-star-half:before{content:"\f089"}
.icon-heart-empty:before{content:"\f08a"}
.icon-signout:before{content:"\f08b"}
.icon-linkedin-sign:before{content:"\f08c"}
.icon-pushpin:before{content:"\f08d"}
.icon-external-link:before{content:"\f08e"}
.icon-signin:before{content:"\f090"}
.icon-trophy:before{content:"\f091"}
.icon-github-sign:before{content:"\f092"}
.icon-upload-alt:before{content:"\f093"}
.icon-lemon:before{content:"\f094"}
.icon-phone:before{content:"\f095"}
.icon-unchecked:before,.icon-check-empty:before{content:"\f096"}
.icon-bookmark-empty:before{content:"\f097"}
.icon-phone-sign:before{content:"\f098"}
.icon-twitter:before{content:"\f099"}
.icon-facebook:before{content:"\f09a"}
.icon-github:before{content:"\f09b"}
.icon-unlock:before{content:"\f09c"}
.icon-credit-card:before{content:"\f09d"}
.icon-rss:before{content:"\f09e"}
.icon-hdd:before{content:"\f0a0"}
.icon-bullhorn:before{content:"\f0a1"}
.icon-bell:before{content:"\f0a2"}
.icon-certificate:before{content:"\f0a3"}
.icon-hand-right:before{content:"\f0a4"}
.icon-hand-left:before{content:"\f0a5"}
.icon-hand-up:before{content:"\f0a6"}
.icon-hand-down:before{content:"\f0a7"}
.icon-circle-arrow-left:before{content:"\f0a8"}
.icon-circle-arrow-right:before{content:"\f0a9"}
.icon-circle-arrow-up:before{content:"\f0aa"}
.icon-circle-arrow-down:before{content:"\f0ab"}
.icon-globe:before{content:"\f0ac"}
.icon-wrench:before{content:"\f0ad"}
.icon-tasks:before{content:"\f0ae"}
.icon-filter:before{content:"\f0b0"}
.icon-briefcase:before{content:"\f0b1"}
.icon-fullscreen:before{content:"\f0b2"}
.icon-group:before{content:"\f0c0"}
.icon-link:before{content:"\f0c1"}
.icon-cloud:before{content:"\f0c2"}
.icon-beaker:before{content:"\f0c3"}
.icon-cut:before{content:"\f0c4"}
.icon-copy:before{content:"\f0c5"}
.icon-paperclip:before,.icon-paper-clip:before{content:"\f0c6"}
.icon-save:before{content:"\f0c7"}
.icon-sign-blank:before{content:"\f0c8"}
.icon-reorder:before{content:"\f0c9"}
.icon-list-ul:before{content:"\f0ca"}
.icon-list-ol:before{content:"\f0cb"}
.icon-strikethrough:before{content:"\f0cc"}
.icon-underline:before{content:"\f0cd"}
.icon-table:before{content:"\f0ce"}
.icon-magic:before{content:"\f0d0"}
.icon-truck:before{content:"\f0d1"}
.icon-pinterest:before{content:"\f0d2"}
.icon-pinterest-sign:before{content:"\f0d3"}
.icon-google-plus-sign:before{content:"\f0d4"}
.icon-google-plus:before{content:"\f0d5"}
.icon-money:before{content:"\f0d6"}
.icon-caret-down:before{content:"\f0d7"}
.icon-caret-up:before{content:"\f0d8"}
.icon-caret-left:before{content:"\f0d9"}
.icon-caret-right:before{content:"\f0da"}
.icon-columns:before{content:"\f0db"}
.icon-sort:before{content:"\f0dc"}
.icon-sort-down:before{content:"\f0dd"}
.icon-sort-up:before{content:"\f0de"}
.icon-envelope:before{content:"\f0e0"}
.icon-linkedin:before{content:"\f0e1"}
.icon-rotate-left:before,.icon-undo:before{content:"\f0e2"}
.icon-legal:before{content:"\f0e3"}
.icon-dashboard:before{content:"\f0e4"}
.icon-comment-alt:before{content:"\f0e5"}
.icon-comments-alt:before{content:"\f0e6"}
.icon-bolt:before{content:"\f0e7"}
.icon-sitemap:before{content:"\f0e8"}
.icon-umbrella:before{content:"\f0e9"}
.icon-paste:before{content:"\f0ea"}
.icon-lightbulb:before{content:"\f0eb"}
.icon-exchange:before{content:"\f0ec"}
.icon-cloud-download:before{content:"\f0ed"}
.icon-cloud-upload:before{content:"\f0ee"}
.icon-user-md:before{content:"\f0f0"}
.icon-stethoscope:before{content:"\f0f1"}
.icon-suitcase:before{content:"\f0f2"}
.icon-bell-alt:before{content:"\f0f3"}
.icon-coffee:before{content:"\f0f4"}
.icon-food:before{content:"\f0f5"}
.icon-file-text-alt:before{content:"\f0f6"}
.icon-building:before{content:"\f0f7"}
.icon-hospital:before{content:"\f0f8"}
.icon-ambulance:before{content:"\f0f9"}
.icon-medkit:before{content:"\f0fa"}
.icon-fighter-jet:before{content:"\f0fb"}
.icon-beer:before{content:"\f0fc"}
.icon-h-sign:before{content:"\f0fd"}
.icon-plus-sign-alt:before{content:"\f0fe"}
.icon-double-angle-left:before{content:"\f100"}
.icon-double-angle-right:before{content:"\f101"}
.icon-double-angle-up:before{content:"\f102"}
.icon-double-angle-down:before{content:"\f103"}
.icon-angle-left:before{content:"\f104"}
.icon-angle-right:before{content:"\f105"}
.icon-angle-up:before{content:"\f106"}
.icon-angle-down:before{content:"\f107"}
.icon-desktop:before{content:"\f108"}
.icon-laptop:before{content:"\f109"}
.icon-tablet:before{content:"\f10a"}
.icon-mobile-phone:before{content:"\f10b"}
.icon-circle-blank:before{content:"\f10c"}
.icon-quote-left:before{content:"\f10d"}
.icon-quote-right:before{content:"\f10e"}
.icon-spinner:before{content:"\f110"}
.icon-circle:before{content:"\f111"}
.icon-mail-reply:before,.icon-reply:before{content:"\f112"}
.icon-github-alt:before{content:"\f113"}
.icon-folder-close-alt:before{content:"\f114"}
.icon-folder-open-alt:before{content:"\f115"}
.icon-expand-alt:before{content:"\f116"}
.icon-collapse-alt:before{content:"\f117"}
.icon-smile:before{content:"\f118"}
.icon-frown:before{content:"\f119"}
.icon-meh:before{content:"\f11a"}
.icon-gamepad:before{content:"\f11b"}
.icon-keyboard:before{content:"\f11c"}
.icon-flag-alt:before{content:"\f11d"}
.icon-flag-checkered:before{content:"\f11e"}
.icon-terminal:before{content:"\f120"}
.icon-code:before{content:"\f121"}
.icon-reply-all:before{content:"\f122"}
.icon-mail-reply-all:before{content:"\f122"}
.icon-star-half-full:before,.icon-star-half-empty:before{content:"\f123"}
.icon-location-arrow:before{content:"\f124"}
.icon-crop:before{content:"\f125"}
.icon-code-fork:before{content:"\f126"}
.icon-unlink:before{content:"\f127"}
.icon-question:before{content:"\f128"}
.icon-info:before{content:"\f129"}
.icon-exclamation:before{content:"\f12a"}
.icon-superscript:before{content:"\f12b"}
.icon-subscript:before{content:"\f12c"}
.icon-eraser:before{content:"\f12d"}
.icon-puzzle-piece:before{content:"\f12e"}
.icon-microphone:before{content:"\f130"}
.icon-microphone-off:before{content:"\f131"}
.icon-shield:before{content:"\f132"}
.icon-calendar-empty:before{content:"\f133"}
.icon-fire-extinguisher:before{content:"\f134"}
.icon-rocket:before{content:"\f135"}
.icon-maxcdn:before{content:"\f136"}
.icon-chevron-sign-left:before{content:"\f137"}
.icon-chevron-sign-right:before{content:"\f138"}
.icon-chevron-sign-up:before{content:"\f139"}
.icon-chevron-sign-down:before{content:"\f13a"}
.icon-html5:before{content:"\f13b"}
.icon-css3:before{content:"\f13c"}
.icon-anchor:before{content:"\f13d"}
.icon-unlock-alt:before{content:"\f13e"}
.icon-bullseye:before{content:"\f140"}
.icon-ellipsis-horizontal:before{content:"\f141"}
.icon-ellipsis-vertical:before{content:"\f142"}
.icon-rss-sign:before{content:"\f143"}
.icon-play-sign:before{content:"\f144"}
.icon-ticket:before{content:"\f145"}
.icon-minus-sign-alt:before{content:"\f146"}
.icon-check-minus:before{content:"\f147"}
.icon-level-up:before{content:"\f148"}
.icon-level-down:before{content:"\f149"}
.icon-check-sign:before{content:"\f14a"}
.icon-edit-sign:before{content:"\f14b"}
.icon-external-link-sign:before{content:"\f14c"}
.icon-share-sign:before{content:"\f14d"}
.icon-compass:before{content:"\f14e"}
.icon-collapse:before{content:"\f150"}
.icon-collapse-top:before{content:"\f151"}
.icon-expand:before{content:"\f152"}
.icon-euro:before,.icon-eur:before{content:"\f153"}
.icon-gbp:before{content:"\f154"}
.icon-dollar:before,.icon-usd:before{content:"\f155"}
.icon-rupee:before,.icon-inr:before{content:"\f156"}
.icon-yen:before,.icon-jpy:before{content:"\f157"}
.icon-renminbi:before,.icon-cny:before{content:"\f158"}
.icon-won:before,.icon-krw:before{content:"\f159"}
.icon-bitcoin:before,.icon-btc:before{content:"\f15a"}
.icon-file:before{content:"\f15b"}
.icon-file-text:before{content:"\f15c"}
.icon-sort-by-alphabet:before{content:"\f15d"}
.icon-sort-by-alphabet-alt:before{content:"\f15e"}
.icon-sort-by-attributes:before{content:"\f160"}
.icon-sort-by-attributes-alt:before{content:"\f161"}
.icon-sort-by-order:before{content:"\f162"}
.icon-sort-by-order-alt:before{content:"\f163"}
.icon-thumbs-up:before{content:"\f164"}
.icon-thumbs-down:before{content:"\f165"}
.icon-youtube-sign:before{content:"\f166"}
.icon-youtube:before{content:"\f167"}
.icon-xing:before{content:"\f168"}
.icon-xing-sign:before{content:"\f169"}
.icon-youtube-play:before{content:"\f16a"}
.icon-dropbox:before{content:"\f16b"}
.icon-stackexchange:before{content:"\f16c"}
.icon-instagram:before{content:"\f16d"}
.icon-flickr:before{content:"\f16e"}
.icon-adn:before{content:"\f170"}
.icon-bitbucket:before{content:"\f171"}
.icon-bitbucket-sign:before{content:"\f172"}
.icon-tumblr:before{content:"\f173"}
.icon-tumblr-sign:before{content:"\f174"}
.icon-long-arrow-down:before{content:"\f175"}
.icon-long-arrow-up:before{content:"\f176"}
.icon-long-arrow-left:before{content:"\f177"}
.icon-long-arrow-right:before{content:"\f178"}
.icon-apple:before{content:"\f179"}
.icon-windows:before{content:"\f17a"}
.icon-android:before{content:"\f17b"}
.icon-linux:before{content:"\f17c"}
.icon-dribbble:before{content:"\f17d"}
.icon-skype:before{content:"\f17e"}
.icon-foursquare:before{content:"\f180"}
.icon-trello:before{content:"\f181"}
.icon-female:before{content:"\f182"}
.icon-male:before{content:"\f183"}
.icon-gittip:before{content:"\f184"}
.icon-sun:before{content:"\f185"}
.icon-moon:before{content:"\f186"}
.icon-archive:before{content:"\f187"}
.icon-bug:before{content:"\f188"}
.icon-vk:before{content:"\f189"}
.icon-weibo:before{content:"\f18a"}
.icon-renren:before{content:"\f18b"}
code{color:#000}
pre{font-size:inherit;line-height:inherit}
.border-box-sizing{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}
.corner-all{border-radius:4px}
.hbox{display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}
.hbox>*{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none}
.vbox{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}
.vbox>*{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none}
.hbox.reverse,.vbox.reverse,.reverse{-webkit-box-direction:reverse;-moz-box-direction:reverse;box-direction:reverse;flex-direction:row-reverse}
.hbox.box-flex0,.vbox.box-flex0,.box-flex0{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none;width:auto}
.hbox.box-flex1,.vbox.box-flex1,.box-flex1{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}
.hbox.box-flex,.vbox.box-flex,.box-flex{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}
.hbox.box-flex2,.vbox.box-flex2,.box-flex2{-webkit-box-flex:2;-moz-box-flex:2;box-flex:2;flex:2}
.box-group1{-webkit-box-flex-group:1;-moz-box-flex-group:1;box-flex-group:1}
.box-group2{-webkit-box-flex-group:2;-moz-box-flex-group:2;box-flex-group:2}
.hbox.start,.vbox.start,.start{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;justify-content:flex-start}
.hbox.end,.vbox.end,.end{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;justify-content:flex-end}
.hbox.center,.vbox.center,.center{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;justify-content:center}
.hbox.align-start,.vbox.align-start,.align-start{-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start}
.hbox.align-end,.vbox.align-end,.align-end{-webkit-box-align:end;-moz-box-align:end;box-align:end;align-items:flex-end}
.hbox.align-center,.vbox.align-center,.align-center{-webkit-box-align:center;-moz-box-align:center;box-align:center;align-items:center}
div.error{margin:2em;text-align:center}
div.error>h1{font-size:500%;line-height:normal}
div.error>p{font-size:200%;line-height:normal}
div.traceback-wrapper{text-align:left;max-width:800px;margin:auto}
body{background-color:#fff;position:absolute;left:0;right:0;top:0;bottom:0;overflow:visible}
div#header{display:none}
#ipython_notebook{padding-left:16px}
#noscript{width:auto;padding-top:16px;padding-bottom:16px;text-align:center;font-size:22px;color:#f00;font-weight:bold}
#ipython_notebook img{font-family:Verdana,"Helvetica Neue",Arial,Helvetica,Geneva,sans-serif;height:24px;text-decoration:none;color:#000}
#site{width:100%;display:none}
.ui-button .ui-button-text{padding:.2em .8em;font-size:77%}
input.ui-button{padding:.3em .9em}
.navbar span{margin-top:3px}
span#login_widget{float:right}
.nav-header{text-transform:none}
.navbar-nobg{background-color:transparent;background-image:none}
#header>span{margin-top:10px}
.modal_stretch{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;height:80%}.modal_stretch .modal-body{max-height:none;flex:1}
@media (min-width:768px){.modal{width:700px;margin-left:-350px}}.center-nav{display:inline-block;margin-bottom:-4px}
.alternate_upload{background-color:none;display:inline}
.alternate_upload.form{padding:0;margin:0}
.alternate_upload input.fileinput{background-color:#f00;position:relative;opacity:0;z-index:2;width:295px;margin-left:163px;cursor:pointer;height:26px}
ul#tabs{margin-bottom:4px}
ul#tabs a{padding-top:4px;padding-bottom:4px}
ul.breadcrumb a:focus,ul.breadcrumb a:hover{text-decoration:none}
ul.breadcrumb i.icon-home{font-size:16px;margin-right:4px}
ul.breadcrumb span{color:#5e5e5e}
.list_toolbar{padding:4px 0 4px 0}
.list_toolbar [class*="span"]{min-height:26px}
.list_header{font-weight:bold}
.list_container{margin-top:4px;margin-bottom:20px;border:1px solid #ababab;border-radius:4px}
.list_container>div{border-bottom:1px solid #ababab}.list_container>div:hover .list-item{background-color:#f00}
.list_container>div:last-child{border:none}
.list_item:hover .list_item{background-color:#ddd}
.list_item a{text-decoration:none}
.list_header>div,.list_item>div{padding-top:4px;padding-bottom:4px;padding-left:7px;padding-right:7px;height:22px;line-height:22px}
.item_name{line-height:22px;height:26px}
.item_icon{font-size:14px;color:#5e5e5e;margin-right:7px}
.item_buttons{line-height:1em}
.toolbar_info{height:26px;line-height:26px}
input.nbname_input,input.engine_num_input{padding-top:3px;padding-bottom:3px;height:14px;line-height:14px;margin:0}
input.engine_num_input{width:60px}
.highlight_text{color:#00f}
#project_name>.breadcrumb{padding:0;margin-bottom:0;background-color:transparent;font-weight:bold}
.folder_icon:before{font-family:FontAwesome;font-weight:normal;font-style:normal;text-decoration:inherit;-webkit-font-smoothing:antialiased;*margin-right:.3em;content:"\f114"}
.notebook_icon:before{font-family:FontAwesome;font-weight:normal;font-style:normal;text-decoration:inherit;-webkit-font-smoothing:antialiased;*margin-right:.3em;content:"\f02d"}
.ansibold{font-weight:bold}
.ansiblack{color:#000}
.ansired{color:#8b0000}
.ansigreen{color:#006400}
.ansiyellow{color:#a52a2a}
.ansiblue{color:#00008b}
.ansipurple{color:#9400d3}
.ansicyan{color:#4682b4}
.ansigray{color:#808080}
.ansibgblack{background-color:#000}
.ansibgred{background-color:#f00}
.ansibggreen{background-color:#008000}
.ansibgyellow{background-color:#ff0}
.ansibgblue{background-color:#00f}
.ansibgpurple{background-color:#f0f}
.ansibgcyan{background-color:#0ff}
.ansibggray{background-color:#808080}
div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.cell.selected{border-radius:4px;border:thin #ababab solid}
div.cell.edit_mode{border-radius:4px;border:thin #008000 solid}
div.cell{width:100%;padding:5px 5px 5px 0;margin:0;outline:none}
div.prompt{min-width:11ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}
@media (max-width:480px){div.prompt{text-align:left}}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}
div.input_area{border:1px solid #cfcfcf;border-radius:4px;background:#f7f7f7;line-height:1.21429em}
div.prompt:empty{padding-top:0;padding-bottom:0}
div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}
@media (max-width:480px){div.input{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.input_prompt{color:#000080;border-top:1px solid transparent}
div.input_area>div.highlight{margin:.4em;border:none;padding:0;background-color:transparent}
div.input_area>div.highlight>pre{margin:0;border:none;padding:0;background-color:transparent}
.CodeMirror{line-height:1.21429em;height:auto;background:none;}
.CodeMirror-scroll{overflow-y:hidden;overflow-x:auto}
.CodeMirror-lines{padding:.4em}
.CodeMirror-linenumber{padding:0 8px 0 4px}
.CodeMirror-gutters{border-bottom-left-radius:4px;border-top-left-radius:4px}
.CodeMirror pre{padding:0;border:0;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
pre code{display:block;padding:.5em}
.highlight-base,pre code,pre .subst,pre .tag .title,pre .lisp .title,pre .clojure .built_in,pre .nginx .title{color:#000}
.highlight-string,pre .string,pre .constant,pre .parent,pre .tag .value,pre .rules .value,pre .rules .value .number,pre .preprocessor,pre .ruby .symbol,pre .ruby .symbol .string,pre .aggregate,pre .template_tag,pre .django .variable,pre .smalltalk .class,pre .addition,pre .flow,pre .stream,pre .bash .variable,pre .apache .tag,pre .apache .cbracket,pre .tex .command,pre .tex .special,pre .erlang_repl .function_or_atom,pre .markdown .header{color:#ba2121}
.highlight-comment,pre .comment,pre .annotation,pre .template_comment,pre .diff .header,pre .chunk,pre .markdown .blockquote{color:#408080;font-style:italic}
.highlight-number,pre .number,pre .date,pre .regexp,pre .literal,pre .smalltalk .symbol,pre .smalltalk .char,pre .go .constant,pre .change,pre .markdown .bullet,pre .markdown .link_url{color:#080}
pre .label,pre .javadoc,pre .ruby .string,pre .decorator,pre .filter .argument,pre .localvars,pre .array,pre .attr_selector,pre .important,pre .pseudo,pre .pi,pre .doctype,pre .deletion,pre .envvar,pre .shebang,pre .apache .sqbracket,pre .nginx .built_in,pre .tex .formula,pre .erlang_repl .reserved,pre .prompt,pre .markdown .link_label,pre .vhdl .attribute,pre .clojure .attribute,pre .coffeescript .property{color:#88f}
.highlight-keyword,pre .keyword,pre .id,pre .phpdoc,pre .aggregate,pre .css .tag,pre .javadoctag,pre .phpdoc,pre .yardoctag,pre .smalltalk .class,pre .winutils,pre .bash .variable,pre .apache .tag,pre .go .typename,pre .tex .command,pre .markdown .strong,pre .request,pre .status{color:#008000;font-weight:bold}
.highlight-builtin,pre .built_in{color:#008000}
pre .markdown .emphasis{font-style:italic}
pre .nginx .built_in{font-weight:normal}
pre .coffeescript .javascript,pre .javascript .xml,pre .tex .formula,pre .xml .javascript,pre .xml .vbscript,pre .xml .css,pre .xml .cdata{opacity:.5}
.cm-s-ipython span.cm-variable{color:#000}
.cm-s-ipython span.cm-keyword{color:#008000;font-weight:bold}
.cm-s-ipython span.cm-number{color:#080}
.cm-s-ipython span.cm-comment{color:#408080;font-style:italic}
.cm-s-ipython span.cm-string{color:#ba2121}
.cm-s-ipython span.cm-builtin{color:#008000}
.cm-s-ipython span.cm-error{color:#f00}
.cm-s-ipython span.cm-operator{color:#a2f;font-weight:bold}
.cm-s-ipython span.cm-meta{color:#a2f}
.cm-s-ipython span.cm-tab{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);background-position:right;background-repeat:no-repeat}
div.output_wrapper{position:relative;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}
div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:4px;-webkit-box-shadow:inset 0 2px 8px rgba(0,0,0,0.8);-moz-box-shadow:inset 0 2px 8px rgba(0,0,0,0.8);box-shadow:inset 0 2px 8px rgba(0,0,0,0.8);display:block}
div.output_collapsed{margin:0;padding:0;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}
div.out_prompt_overlay{height:100%;padding:0 .4em;position:absolute;border-radius:4px}
div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000;-moz-box-shadow:inset 0 0 1px #000;box-shadow:inset 0 0 1px #000;background:rgba(240,240,240,0.5)}
div.output_prompt{color:#8b0000}
div.output_area{padding:0;page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.output_area .MathJax_Display{text-align:left !important}
div.output_area .rendered_html table{margin-left:0;margin-right:0}
div.output_area .rendered_html img{margin-left:0;margin-right:0}
.output{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}
@media (max-width:480px){div.output_area{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.output_area pre{margin:0;padding:0;border:0;vertical-align:baseline;color:#000;background-color:transparent;border-radius:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}
div.output_subarea{padding:.4em .4em 0 .4em;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}
div.output_text{text-align:left;color:#000;line-height:1.21429em}
div.output_stderr{background:#fdd;}
div.output_latex{text-align:left}
div.output_javascript:empty{padding:0}
.js-error{color:#8b0000}
div.raw_input_container{font-family:monospace;padding-top:5px}
span.raw_input_prompt{}
input.raw_input{font-family:inherit;font-size:inherit;color:inherit;width:auto;vertical-align:baseline;padding:0 .25em;margin:0 .25em}
input.raw_input:focus{box-shadow:none}
p.p-space{margin-bottom:10px}
.rendered_html{color:#000;}.rendered_html em{font-style:italic}
.rendered_html strong{font-weight:bold}
.rendered_html u{text-decoration:underline}
.rendered_html :link{text-decoration:underline}
.rendered_html :visited{text-decoration:underline}
.rendered_html h1{font-size:185.7%;margin:1.08em 0 0 0;font-weight:bold;line-height:1}
.rendered_html h2{font-size:157.1%;margin:1.27em 0 0 0;font-weight:bold;line-height:1}
.rendered_html h3{font-size:128.6%;margin:1.55em 0 0 0;font-weight:bold;line-height:1}
.rendered_html h4{font-size:100%;margin:2em 0 0 0;font-weight:bold;line-height:1}
.rendered_html h5{font-size:100%;margin:2em 0 0 0;font-weight:bold;line-height:1;font-style:italic}
.rendered_html h6{font-size:100%;margin:2em 0 0 0;font-weight:bold;line-height:1;font-style:italic}
.rendered_html h1:first-child{margin-top:.538em}
.rendered_html h2:first-child{margin-top:.636em}
.rendered_html h3:first-child{margin-top:.777em}
.rendered_html h4:first-child{margin-top:1em}
.rendered_html h5:first-child{margin-top:1em}
.rendered_html h6:first-child{margin-top:1em}
.rendered_html ul{list-style:disc;margin:0 2em}
.rendered_html ul ul{list-style:square;margin:0 2em}
.rendered_html ul ul ul{list-style:circle;margin:0 2em}
.rendered_html ol{list-style:decimal;margin:0 2em}
.rendered_html ol ol{list-style:upper-alpha;margin:0 2em}
.rendered_html ol ol ol{list-style:lower-alpha;margin:0 2em}
.rendered_html ol ol ol ol{list-style:lower-roman;margin:0 2em}
.rendered_html ol ol ol ol ol{list-style:decimal;margin:0 2em}
.rendered_html *+ul{margin-top:1em}
.rendered_html *+ol{margin-top:1em}
.rendered_html hr{color:#000;background-color:#000}
.rendered_html pre{margin:1em 2em}
.rendered_html pre,.rendered_html code{border:0;background-color:#fff;color:#000;font-size:100%;padding:0}
.rendered_html blockquote{margin:1em 2em}
.rendered_html table{margin-left:auto;margin-right:auto;border:1px solid #000;border-collapse:collapse}
.rendered_html tr,.rendered_html th,.rendered_html td{border:1px solid #000;border-collapse:collapse;margin:1em 2em}
.rendered_html td,.rendered_html th{text-align:left;vertical-align:middle;padding:4px}
.rendered_html th{font-weight:bold}
.rendered_html *+table{margin-top:1em}
.rendered_html p{text-align:justify}
.rendered_html *+p{margin-top:1em}
.rendered_html img{display:block;margin-left:auto;margin-right:auto}
.rendered_html *+img{margin-top:1em}
div.text_cell{padding:5px 5px 5px 0;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}
@media (max-width:480px){div.text_cell>div.prompt{display:none}}div.text_cell_render{outline:none;resize:none;width:inherit;border-style:none;padding:.5em .5em .5em .4em;color:#000}
a.anchor-link:link{text-decoration:none;padding:0 20px;visibility:hidden}
h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible}
div.cell.text_cell.rendered{padding:0}
.widget-area{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.widget-area .widget-subarea{padding:.44em .4em .4em 1px;margin-left:6px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:2;-moz-box-flex:2;box-flex:2;flex:2;-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start}
.widget-hlabel{min-width:10ex;padding-right:8px;padding-top:3px;text-align:right;vertical-align:text-top}
.widget-vlabel{padding-bottom:5px;text-align:center;vertical-align:text-bottom}
.widget-hreadout{padding-left:8px;padding-top:3px;text-align:left;vertical-align:text-top}
.widget-vreadout{padding-top:5px;text-align:center;vertical-align:text-top}
.slide-track{border:1px solid #ccc;background:#fff;border-radius:4px;}
.widget-hslider{padding-left:8px;padding-right:5px;overflow:visible;width:348px;height:5px;max-height:5px;margin-top:11px;margin-bottom:10px;border:1px solid #ccc;background:#fff;border-radius:4px;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.widget-hslider .ui-slider{border:0 !important;background:none !important;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}.widget-hslider .ui-slider .ui-slider-handle{width:14px !important;height:28px !important;margin-top:-8px !important}
.widget-vslider{padding-bottom:8px;overflow:visible;width:5px;max-width:5px;height:250px;margin-left:12px;border:1px solid #ccc;background:#fff;border-radius:4px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}.widget-vslider .ui-slider{border:0 !important;background:none !important;margin-left:-4px;margin-top:5px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}.widget-vslider .ui-slider .ui-slider-handle{width:28px !important;height:14px !important;margin-left:-9px}
.widget-text{width:350px;margin:0 !important}
.widget-listbox{width:364px;margin-bottom:0}
.widget-numeric-text{width:150px;margin:0 !important}
.widget-progress{width:363px}.widget-progress .bar{-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}
.widget-combo-btn{min-width:138px;}
.widget-box{margin:5px;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;justify-content:flex-start;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start}
.widget-hbox{margin:5px;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;justify-content:flex-start;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}
.widget-hbox-single{margin:5px;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;justify-content:flex-start;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch;height:30px}
.widget-vbox{margin:5px;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;justify-content:flex-start;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}
.widget-vbox-single{margin:5px;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;justify-content:flex-start;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;width:30px}
.widget-modal{overflow:hidden;position:absolute !important;top:0;left:0;margin-left:0 !important}
.widget-modal-body{max-height:none !important}
.widget-container{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start}
.widget-radio-box{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding-top:4px}
.docked-widget-modal{overflow:hidden;position:relative !important;top:0 !important;left:0 !important;margin-left:0 !important}
body{background-color:#fff}
body.notebook_app{overflow:hidden}
@media (max-width:767px){body.notebook_app{padding-left:0;padding-right:0}}span#notebook_name{height:1em;line-height:1em;padding:3px;border:none;font-size:146.5%}
div#notebook_panel{margin:0 0 0 0;padding:0;-webkit-box-shadow:0 -1px 10px rgba(0,0,0,0.1);-moz-box-shadow:0 -1px 10px rgba(0,0,0,0.1);box-shadow:0 -1px 10px rgba(0,0,0,0.1)}
div#notebook{font-size:14px;line-height:20px;overflow-y:scroll;overflow-x:auto;width:100%;padding:1em 0 1em 0;margin:0;border-top:1px solid #ababab;outline:none;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}
div.ui-widget-content{border:1px solid #ababab;outline:none}
pre.dialog{background-color:#f7f7f7;border:1px solid #ddd;border-radius:4px;padding:.4em;padding-left:2em}
p.dialog{padding:.2em}
pre,code,kbd,samp{white-space:pre-wrap}
#fonttest{font-family:monospace}
p{margin-bottom:0}
.end_space{height:200px}
.celltoolbar{border:thin solid #cfcfcf;border-bottom:none;background:#eee;border-radius:3px 3px 0 0;width:100%;-webkit-box-pack:end;height:22px;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch;-webkit-box-direction:reverse;-moz-box-direction:reverse;box-direction:reverse;flex-direction:row-reverse}
.ctb_hideshow{display:none;vertical-align:bottom;padding-right:2px}
.celltoolbar>div{padding-top:0}
.ctb_global_show .ctb_show.ctb_hideshow{display:block}
.ctb_global_show .ctb_show+.input_area,.ctb_global_show .ctb_show+div.text_cell_input{border-top-right-radius:0;border-top-left-radius:0}
.celltoolbar .button_container select{margin:10px;margin-top:1px;margin-bottom:0;padding:0;font-size:87%;width:auto;display:inline-block;height:18px;line-height:18px;vertical-align:top}
.celltoolbar label{display:inline-block;height:15px;line-height:15px;vertical-align:top}
.celltoolbar label span{font-size:85%}
.celltoolbar input[type=checkbox]{margin:0;margin-left:4px;margin-right:4px}
.celltoolbar .ui-button{border:none;vertical-align:top;height:20px;min-width:30px}
.completions{position:absolute;z-index:10;overflow:hidden;border:1px solid #ababab;border-radius:4px;-webkit-box-shadow:0 6px 10px -1px #adadad;-moz-box-shadow:0 6px 10px -1px #adadad;box-shadow:0 6px 10px -1px #adadad}
.completions select{background:#fff;outline:none;border:none;padding:0;margin:0;overflow:auto;font-family:monospace;font-size:110%;color:#000;width:auto}
.completions select option.context{color:#0064cd}
#menubar .navbar-inner{min-height:28px;border-top:1px;border-radius:0 0 4px 4px}
#menubar .navbar{margin-bottom:8px}
.nav-wrapper{border-bottom:1px solid #d4d4d4}
#menubar li.dropdown{line-height:12px}
i.menu-icon{padding-top:4px}
ul#help_menu li a{overflow:hidden;padding-right:2.2em}ul#help_menu li a i{margin-right:-1.2em}
#notification_area{z-index:10}
.indicator_area{color:#777;padding:4px 3px;margin:0;width:11px;z-index:10;text-align:center}
#kernel_indicator{margin-right:-16px}
.edit_mode_icon:before{font-family:FontAwesome;font-weight:normal;font-style:normal;text-decoration:inherit;-webkit-font-smoothing:antialiased;*margin-right:.3em;content:"\f040"}
.command_mode_icon:before{font-family:FontAwesome;font-weight:normal;font-style:normal;text-decoration:inherit;-webkit-font-smoothing:antialiased;*margin-right:.3em;content:' '}
.kernel_idle_icon:before{font-family:FontAwesome;font-weight:normal;font-style:normal;text-decoration:inherit;-webkit-font-smoothing:antialiased;*margin-right:.3em;content:"\f10c"}
.kernel_busy_icon:before{font-family:FontAwesome;font-weight:normal;font-style:normal;text-decoration:inherit;-webkit-font-smoothing:antialiased;*margin-right:.3em;content:"\f111"}
.notification_widget{color:#777;padding:1px 12px;margin:2px 4px;z-index:10;border:1px solid #ccc;border-radius:4px;background:rgba(240,240,240,0.5)}.notification_widget.span{padding-right:2px}
div#pager_splitter{height:8px}
#pager-container{position:relative;padding:15px 0}
div#pager{font-size:14px;line-height:20px;overflow:auto;display:none}div#pager pre{line-height:1.21429em;color:#000;background-color:#f7f7f7;padding:.4em}
.quickhelp{display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}
.shortcut_key{display:inline-block;width:20ex;text-align:right;font-family:monospace}
.shortcut_descr{display:inline-block;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}
span#save_widget{padding:0 5px;margin-top:12px}
span#checkpoint_status,span#autosave_status{font-size:small}
@media (max-width:767px){span#save_widget{font-size:small} span#checkpoint_status,span#autosave_status{font-size:x-small}}@media (max-width:767px){span#checkpoint_status,span#autosave_status{display:none}}@media (min-width:768px) and (max-width:979px){span#checkpoint_status{display:none} span#autosave_status{font-size:x-small}}.toolbar{padding:0 10px;margin-top:-5px}.toolbar select,.toolbar label{width:auto;height:26px;vertical-align:middle;margin-right:2px;margin-bottom:0;display:inline;font-size:92%;margin-left:.3em;margin-right:.3em;padding:0;padding-top:3px}
.toolbar .btn{padding:2px 8px}
.toolbar .btn-group{margin-top:0}
.toolbar-inner{border:none !important;-webkit-box-shadow:none !important;-moz-box-shadow:none !important;box-shadow:none !important}
#maintoolbar{margin-bottom:0}
@-moz-keyframes fadeOut{from{opacity:1} to{opacity:0}}@-webkit-keyframes fadeOut{from{opacity:1} to{opacity:0}}@-moz-keyframes fadeIn{from{opacity:0} to{opacity:1}}@-webkit-keyframes fadeIn{from{opacity:0} to{opacity:1}}.bigtooltip{overflow:auto;height:200px;-webkit-transition-property:height;-webkit-transition-duration:500ms;-moz-transition-property:height;-moz-transition-duration:500ms;transition-property:height;transition-duration:500ms}
.smalltooltip{-webkit-transition-property:height;-webkit-transition-duration:500ms;-moz-transition-property:height;-moz-transition-duration:500ms;transition-property:height;transition-duration:500ms;text-overflow:ellipsis;overflow:hidden;height:80px}
.tooltipbuttons{position:absolute;padding-right:15px;top:0;right:0}
.tooltiptext{padding-right:30px}
.ipython_tooltip{max-width:700px;-webkit-animation:fadeOut 400ms;-moz-animation:fadeOut 400ms;animation:fadeOut 400ms;-webkit-animation:fadeIn 400ms;-moz-animation:fadeIn 400ms;animation:fadeIn 400ms;vertical-align:middle;background-color:#f7f7f7;overflow:visible;border:#ababab 1px solid;outline:none;padding:3px;margin:0;padding-left:7px;font-family:monospace;min-height:50px;-moz-box-shadow:0 6px 10px -1px #adadad;-webkit-box-shadow:0 6px 10px -1px #adadad;box-shadow:0 6px 10px -1px #adadad;border-radius:4px;position:absolute;z-index:2}.ipython_tooltip a{float:right}
.ipython_tooltip .tooltiptext pre{border:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;font-size:100%;background-color:#f7f7f7}
.pretooltiparrow{left:0;margin:0;top:-16px;width:40px;height:16px;overflow:hidden;position:absolute}
.pretooltiparrow:before{background-color:#f7f7f7;border:1px #ababab solid;z-index:11;content:"";position:absolute;left:15px;top:10px;width:25px;height:25px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg)}

    </style>
<style type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>


<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
html {
  overflow-y: auto;
}
.reveal {
  font-size: 160%;
}
.reveal pre {
  width: inherit;
  padding: 0.4em;
  margin: 0px;
  font-family: monospace, sans-serif;
  font-size: 80%;
  box-shadow: 0px 0px 0px rgba(0, 0, 0, 0);
}
.reveal section img {
  border: 0px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0);
}
.reveal i {
  font-style: normal;
  font-family: FontAwesome;
  font-size: 2em;
}
.reveal .slides {
  text-align: left;
}
.reveal.fade {
  opacity: 1;
}
.reveal .progress {
  position: static;
}
div.input_area {
  padding: 0.06em;
}
div.code_cell {
  background-color: transparent;
}
div.prompt {
  width: 11ex;
  padding: 0.4em;
  margin: 0px;
  font-family: monospace, sans-serif;
  font-size: 80%;
  text-align: right;
}
div.output_area pre {
  font-family: monospace, sans-serif;
  font-size: 80%;
}
div.output_prompt {
  /* 5px right shift to account for margin in parent container */
  margin: 5px 5px 0 0;
}
.rendered_html p {
  text-align: inherit;
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

</head>

<body>
<div class="reveal">
<div class="slides">
<div style=display:none>
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[39]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Math</span><span class="p">,</span> <span class="n">Latex</span><span class="p">,</span> <span class="n">Image</span><span class="p">,</span> <span class="n">HTML</span>
<span class="o">%</span><span class="k">matplotlib</span> <span class="n">inline</span>  

<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span>

<span class="k">class</span> <span class="nc">Combiner</span><span class="p">():</span>
    <span class="c">#Normal ordered operator for cluster algebra (diagrammatic)</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>       
        <span class="bp">self</span><span class="o">.</span><span class="n">q_a</span> <span class="o">=</span> <span class="n">H</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">I</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">HN</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">T</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">combine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">ops</span><span class="p">,</span> <span class="n">excitation</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="c">#Assosciate a list of T-operators (ops) to the current operator instance    </span>
        <span class="c">#Find all possible ways to combine the operators using self.distinct_combinations() </span>
        <span class="n">T</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">ops</span><span class="p">:</span>
            <span class="n">T</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">T_operator</span> <span class="o">=</span> <span class="n">T</span>
        
        <span class="c">#Finding acceptable combinations of internal contractions between the operators</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">I</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distinct_combinations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
               
    <span class="k">def</span> <span class="nf">distinct_combinations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">H</span><span class="p">,</span><span class="n">T</span><span class="p">):</span>
        <span class="c">#Returns all possible combinations of H and T</span>
        <span class="c">#I - all q-particle annihilation operators</span>
        <span class="c">#T list of list with T operators. ex. [[-1,1],[-1,1]]  = T_1 T_1</span>
       <span class="n">lenH</span>  <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">H</span><span class="p">)</span>
       <span class="n">lenT</span>  <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
       <span class="n">lenTi</span> <span class="o">=</span> <span class="p">[]</span>
       <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lenT</span><span class="p">):</span>
           <span class="n">lenTi</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
       <span class="c">#H+=[0 for i in range(lenT-1)] #adding zeros to denote separations in the cluster-operators</span>

       <span class="n">H2</span> <span class="o">=</span> <span class="p">[]</span>
       <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">H</span><span class="p">:</span>
           <span class="n">H2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
       <span class="n">H2</span> <span class="o">+=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">lenT</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span> <span class="c">#adding zeros to denote separations in the cluster-operators</span>

       <span class="c">#Creating countlist for T-operator to keep track of q-operators in each cluster operator</span>
       <span class="n">T_budget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemcount</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
       
       
       <span class="c">#Create all permutations</span>
       <span class="n">H_permuted</span> <span class="o">=</span> <span class="n">permutations</span><span class="p">(</span><span class="n">H2</span><span class="p">)</span>
       
       <span class="c">#Sort out indistinct diagrams and cancelling terms</span>
       <span class="n">excluded</span> <span class="o">=</span> <span class="p">[]</span>
       <span class="n">excluded_budgets</span> <span class="o">=</span> <span class="p">[]</span>
       <span class="n">accepted</span> <span class="o">=</span> <span class="p">[]</span>
       <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">H_permuted</span><span class="p">:</span>
           <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">acceptable</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">excluded</span><span class="p">,</span> <span class="n">excluded_budgets</span><span class="p">):</span>
               <span class="c">#print &quot;Accepted&quot;</span>
               <span class="n">accepted</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>       
       <span class="bp">self</span><span class="o">.</span><span class="n">combined</span> <span class="o">=</span> <span class="n">accepted</span>
               
           
       <span class="k">return</span> <span class="n">accepted</span>
       <span class="c">#def evaluate_q_c_total(self):</span>
                
    <span class="k">def</span> <span class="nf">assess_excitation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#Assess current excitation level (also if combined operator)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">E</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_c</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_c</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T_operator</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">E</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">T_operator</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">T_operator</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> 
        <span class="c">#fill in contracted elements</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">E</span><span class="o">/=</span> <span class="mf">2.0</span>
    <span class="k">def</span> <span class="nf">scan_extract</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="c">#Exctract element e from list L</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">L</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">def</span> <span class="nf">nloops</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
        <span class="c">#returns number of loops in budget</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="o">-</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">//</span><span class="mi">2</span>
    
  
    <span class="k">def</span> <span class="nf">nozeroedges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">i</span><span class="p">):</span>
        <span class="c">#Assert that there are no borders in the endpoints of the connection pattern i</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">i</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="n">ret</span>
    
    <span class="k">def</span> <span class="nf">nozerocontact</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">i</span><span class="p">):</span>
        <span class="c">#Assert that there are no neighbouring borders in the connection pattern i</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">i</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="n">ret</span>
    
    <span class="k">def</span> <span class="nf">splitlist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">L</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
        <span class="c">#Returns a split list HL from a list L into constituents, d denotes barrier</span>
        <span class="n">HL</span> <span class="o">=</span> <span class="p">[[]]</span>
        <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">d</span><span class="p">:</span>
                <span class="n">HL</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>        
            <span class="k">if</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">d</span><span class="p">:</span>
                <span class="n">HL</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>        
        <span class="k">return</span> <span class="n">HL</span>
    
    <span class="k">def</span> <span class="nf">itemcount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">T</span><span class="p">):</span>
        <span class="c">#Count number of particle- and hole lines in each constituent part of T</span>
        <span class="c">#Returns a list object of the form [[#particles, #holes], ...]</span>
        <span class="n">itemnumber</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
            <span class="n">itemnumber</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="n">itemnumber</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>  <span class="c">#number of q-particles</span>
            <span class="n">itemnumber</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="c">#number of q-holes</span>
        <span class="k">return</span> <span class="n">itemnumber</span>
    
    <span class="k">def</span> <span class="nf">contractable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">L</span><span class="p">,</span><span class="n">T</span><span class="p">):</span>
        <span class="c">#Asserts that the number of contractions in each p- and hline of L does not superseed # of p-h in T </span>
        <span class="c">#input two itemcount items lists, returns bool</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                <span class="k">if</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span><span class="o">&lt;</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]:</span>
                    <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="n">ret</span>
        
    <span class="k">def</span> <span class="nf">find_identical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">T</span><span class="p">):</span>
        <span class="c">#Find identical operators in the list of operators T</span>
        <span class="c">#returns a list of pairs of indices that denotes permutations that does not alter the T operator</span>
        <span class="n">identicals</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">T</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="ow">and</span> <span class="n">i</span><span class="o">!=</span><span class="n">e</span><span class="p">:</span>
                    <span class="n">identicals</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span><span class="n">e</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">identicals</span>
                    
    <span class="k">def</span> <span class="nf">permute_elements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">e1</span><span class="p">,</span><span class="n">e2</span><span class="p">,</span><span class="n">L</span><span class="p">):</span>
        <span class="c">#Returns a list where elements at indices e1,e2 in L is permuted</span>
        <span class="n">L_ret</span> <span class="o">=</span> <span class="p">[]</span>        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
            <span class="n">L_ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">L_ret</span><span class="p">[</span><span class="n">e1</span><span class="p">]</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="n">e2</span><span class="p">]</span>
        <span class="n">L_ret</span><span class="p">[</span><span class="n">e2</span><span class="p">]</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="n">e1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">L_ret</span>
    
    <span class="k">def</span> <span class="nf">acceptable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">i</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">excluded</span><span class="p">,</span> <span class="n">excluded_budgets</span><span class="p">):</span>
        <span class="c">#Test if a potential connection pattern is distinct</span>
        <span class="c">#Returns bool</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">identicals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_identical</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
        <span class="n">T_budget</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemcount</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nozeroedges</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">nozerocontact</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="n">I</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">I_budget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemcount</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">I_budget</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excluded_budgets</span><span class="p">:</span>
                <span class="n">excluded_budgets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">I_budget</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">identicals</span><span class="p">:</span>
                    <span class="n">excluded_budgets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">permute_elements</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">I_budget</span><span class="p">))</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contractable</span><span class="p">(</span><span class="n">I_budget</span><span class="p">,</span><span class="n">T_budget</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">I</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excluded</span><span class="p">:</span>
                        <span class="n">excluded</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">identicals</span><span class="p">:</span>
                            <span class="n">excluded</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">permute_elements</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">I</span><span class="p">))</span>
                        <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="n">ret</span>

<span class="k">class</span> <span class="nc">qnode</span><span class="p">():</span>
    <span class="c">#Object for keeping track of vertices</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qa</span><span class="p">):</span>
        <span class="c">#self.pos = pos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connected</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qa</span> <span class="o">=</span> <span class="n">qa</span> <span class="c">#creation or annihilation +1/-1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connected</span> <span class="o">=</span> <span class="n">i</span>

<span class="k">class</span> <span class="nc">qop</span><span class="p">():</span>
    <span class="c">#a collection of vertices -- in principle an operator</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qnodes</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qnodes</span> <span class="o">=</span> <span class="n">qnodes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setpos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">setpos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">qnodes</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">qnodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">qpos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">i</span>
            

<span class="k">class</span> <span class="nc">qvert</span><span class="p">():</span>
    <span class="c">#A vertex in the operator with input, output</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qin</span><span class="p">,</span> <span class="n">qout</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qin</span> <span class="o">=</span> <span class="n">qin</span>   <span class="c">#qnode in</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qout</span> <span class="o">=</span> <span class="n">qout</span> <span class="c">#qnode out</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qpos</span> <span class="o">=</span> <span class="mf">0.0</span>


<span class="k">def</span> <span class="nf">qlist</span><span class="p">(</span><span class="n">o_cop</span><span class="p">):</span>
    <span class="n">O</span> <span class="o">=</span> <span class="n">o_cop</span>
    <span class="n">excluded</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">olist</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">O</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">O</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="o">+</span><span class="mi">1</span><span class="p">:</span>
            <span class="c">#find -1</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">O</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">e</span><span class="o">!=</span><span class="n">i</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">O</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">e</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excluded</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excluded</span><span class="p">:</span>
                                <span class="n">excluded</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                                <span class="n">excluded</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                                <span class="n">olist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">qvert</span><span class="p">(</span><span class="n">qnode</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">qnode</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">qop</span><span class="p">(</span><span class="n">olist</span><span class="p">)</span>

    
<span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">I</span><span class="p">):</span>
    <span class="c">#connect H and T using I as pattern</span>
    <span class="c">#Return a mapping of the connections (a list of H-connections to T)</span>
    <span class="n">connected_H</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">connected_T</span> <span class="o">=</span> <span class="p">[]</span>    
    <span class="n">map_T</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">map_H</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">H</span><span class="p">)):</span>
        <span class="n">map_H</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
        <span class="n">map_T</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">e</span><span class="p">])):</span>
            <span class="n">map_T</span><span class="p">[</span><span class="n">e</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">I</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">I</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">I</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="c">#connect this quantity to H and T</span>
            <span class="n">scan</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">for</span> <span class="n">e1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                <span class="k">if</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e1</span><span class="p">]</span> <span class="o">==</span> <span class="n">t</span> <span class="ow">and</span> <span class="n">map_T</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">i1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">H</span><span class="p">)):</span>
                        <span class="k">if</span> <span class="n">H</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span> <span class="o">==</span> <span class="n">t</span> <span class="ow">and</span> <span class="n">map_H</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">scan</span><span class="p">:</span>
                                <span class="c">#Perform connection</span>
                                <span class="n">map_H</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">e1</span><span class="p">]</span>
                                <span class="n">map_T</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e1</span><span class="p">]</span> <span class="o">=</span> <span class="n">i1</span>
                                <span class="n">scan</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="n">map_T</span>


<span class="k">class</span> <span class="nc">Operator</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">q_a</span><span class="p">,</span> <span class="n">q_c</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">q_a</span> <span class="o">=</span> <span class="n">q_a</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">q_c</span> <span class="o">=</span> <span class="n">q_c</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">internals</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">q_c</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">E</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">excitation</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pair_up_lines</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">excitation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#Evaluate operator excitation level</span>
        <span class="n">Ex</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_c</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_c</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span><span class="o">/</span><span class="mf">2.0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">)):</span>
            <span class="n">Ex</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">excitation</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">Ex</span>
    <span class="k">def</span> <span class="nf">adopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">O</span><span class="p">,</span> <span class="n">I</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">O</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">relation</span> <span class="o">=</span> <span class="n">I</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">i</span><span class="o">.</span><span class="n">set_pos</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="c">#for i in self.relation:</span>
        <span class="c">#    if </span>
        <span class="c">#append new child operator to this operator, include more outgoing lines, use connection pattern I</span>
        <span class="c">#C = Combiner(self.q_c, O.q_a) #This must be done externally</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">def</span> <span class="nf">get_schematic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">schema</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">get_schematic</span><span class="p">())</span>
        <span class="c">#return a list of connected nodes and type of connections</span>
        
    <span class="k">def</span> <span class="nf">set_pos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">i</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span><span class="p">[</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">def</span> <span class="nf">get_c_pos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">ci</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">ci</span><span class="o">&lt;</span><span class="bp">self</span><span class="o">.</span><span class="n">internals</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_group</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">ci</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_group</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
                    <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span>
            
        <span class="k">return</span> <span class="n">ret</span>
        
    <span class="k">def</span> <span class="nf">pair_up_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#Pair up ***internal*** vertices</span>
        <span class="n">p0</span> <span class="o">=</span> <span class="mi">0</span> <span class="c">#Vertical position for iterations</span>
        <span class="c">#Set up a mapping</span>
        <span class="n">pos_groups</span> <span class="o">=</span> <span class="p">[]</span> <span class="c">#Grouping 2 and 2 nodes together</span>
        <span class="n">paired</span> <span class="o">=</span> <span class="p">[[],[]]</span>
        <span class="c">#for i in range((len(self.q_a)+len(self.q_c))/2):</span>
        <span class="c">#    pos_groups.append([])</span>
        
        <span class="c">#Use same principle as below (schematic) to pair them up and map them out</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m_qa</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m_qc</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">inout</span> <span class="o">=</span> <span class="p">[[],[]]</span> <span class="c">#keep track of vertices in operator</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_c</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">m_qc</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">m_qa</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>

        
        <span class="c">#identify pairs passing through the operator</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">internals</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">)):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_qc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="c">#paired[0].append(i)</span>
                    <span class="c">#paired[1].append(e)</span>
                    <span class="c">#pos_groups.append([[i],[e]])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m_qc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">e</span><span class="o">+</span><span class="mi">1</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
                    <span class="k">break</span>
                    
        <span class="c">#identify pairs beneath the interaction</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span><span class="o">!=</span><span class="n">e</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">e</span><span class="o">-</span><span class="mi">1</span> <span class="c">#negative index implies index inside self</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span>
                    <span class="k">break</span>


        <span class="c">#identify pairs above the interaction</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">internals</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">internals</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span><span class="o">!=</span><span class="n">e</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_qc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">m_qc</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m_qc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">e</span><span class="o">-</span><span class="mi">1</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m_qc</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span>
                    <span class="k">break</span>                                   
        
        

    <span class="k">def</span> <span class="nf">get_paired_c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="c">#return the corresponding index of the line below the vertex</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pos_group</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_group</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos_group</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">ret</span>

<span class="k">class</span> <span class="nc">contracted</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">pattern</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">H</span> <span class="o">=</span> <span class="n">H</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="n">T</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pattern</span> <span class="o">=</span> <span class="n">pattern</span>
        
        

<span class="k">def</span> <span class="nf">contract</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">T</span><span class="p">):</span>
    <span class="n">T_q_c</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">T</span><span class="p">:</span>
        <span class="n">i</span><span class="o">.</span><span class="n">set_pos</span><span class="p">([</span><span class="n">H</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">H</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">T_q_c</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">q_c</span><span class="p">)</span>
    <span class="n">C</span> <span class="o">=</span> <span class="n">Combiner</span><span class="p">(</span><span class="n">H</span><span class="o">.</span><span class="n">q_a</span><span class="p">,</span><span class="n">T_q_c</span><span class="p">)</span> <span class="c">#Combines annihilators from H (Hqa) and creators from T (Tqc)</span>
    <span class="n">diagrams</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">C</span><span class="o">.</span><span class="n">I</span><span class="p">:</span>
        <span class="n">diagrams</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">copy</span><span class="p">(</span><span class="n">H</span><span class="p">),</span> <span class="n">copy</span><span class="p">(</span><span class="n">T</span><span class="p">),</span> <span class="n">connect</span><span class="p">(</span><span class="n">H</span><span class="o">.</span><span class="n">q_a</span><span class="p">,</span> <span class="n">T_q_c</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span> <span class="n">i</span><span class="p">])</span>
    <span class="c">#Pending: optional combinations of operators (T^-1 H T) for property calculations</span>
    <span class="k">return</span> <span class="n">diagrams</span>


<span class="k">class</span> <span class="nc">schematic</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">diagram</span><span class="p">):</span>
        <span class="c">#print &quot;Connection &quot; , diagram[2]</span>
        <span class="c">#print &quot;Number &quot;, diagram[3]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">H</span> <span class="o">=</span> <span class="n">diagram</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>            
        <span class="bp">self</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="n">diagram</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="n">diagram</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="n">diagram</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        
        <span class="c">#later editing, remove this if faulty</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">convert_schema</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">convert_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">sc</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">:</span><span class="n">n</span><span class="p">]</span>
            <span class="n">sc</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
            <span class="n">i</span><span class="p">[</span><span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">:</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">sc</span>
            
    <span class="k">def</span> <span class="nf">scan_extract</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">L</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="c">#Exctract element e from list L</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">L</span> <span class="o">=</span> <span class="n">delete</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">def</span> <span class="nf">nloops</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
        <span class="c">#returns number of loops in budget</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="o">-</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">))</span><span class="o">//</span><span class="mi">2</span>
    <span class="k">def</span> <span class="nf">itemcount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">T</span><span class="p">):</span>
        <span class="c">#Count number of particle- and hole lines in each constituent part of T</span>
        <span class="c">#Returns a list object of the form [[#particles, #holes], ...]</span>
        <span class="n">itemnumber</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
            <span class="n">itemnumber</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="n">itemnumber</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>  <span class="c">#number of q-particles</span>
            <span class="n">itemnumber</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="c">#number of q-holes</span>
        <span class="k">return</span> <span class="n">itemnumber</span>
    
    <span class="k">def</span> <span class="nf">contractable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">L</span><span class="p">,</span><span class="n">T</span><span class="p">):</span>
        <span class="c">#Asserts that the number of contractions in each p- and hline of L does not superseed # of p-h in T </span>
        <span class="c">#input two itemcount items lists, returns bool</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                <span class="k">if</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span><span class="o">&lt;</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]:</span>
                    <span class="c">#print T[i][e],L[i][e]</span>
                    <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="n">ret</span>
        
    <span class="k">def</span> <span class="nf">find_identical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">T</span><span class="p">):</span>
        <span class="c">#Find identical operators in the list of operators T</span>
        <span class="c">#returns a list of pairs of indices that denotes permutations that does not alter the T operator</span>
        <span class="n">identicals</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">T</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="ow">and</span> <span class="n">i</span><span class="o">!=</span><span class="n">e</span><span class="p">:</span>
                    <span class="n">identicals</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span><span class="n">e</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">identicals</span>
                    
    <span class="k">def</span> <span class="nf">permute_elements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">e1</span><span class="p">,</span><span class="n">e2</span><span class="p">,</span><span class="n">L</span><span class="p">):</span>
        <span class="c">#Returns a list where elements at indices e1,e2 in L is permuted</span>
        <span class="n">L_ret</span> <span class="o">=</span> <span class="p">[]</span>        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
            <span class="n">L_ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">L_ret</span><span class="p">[</span><span class="n">e1</span><span class="p">]</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="n">e2</span><span class="p">]</span>
        <span class="n">L_ret</span><span class="p">[</span><span class="n">e2</span><span class="p">]</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="n">e1</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">L_ret</span>
    
    <span class="k">def</span> <span class="nf">acceptable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">i</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">excluded</span><span class="p">,</span> <span class="n">excluded_budgets</span><span class="p">):</span>
        <span class="c">#Test if a potential connection pattern is distinct</span>
        <span class="c">#Returns bool</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">identicals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_identical</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
        <span class="n">T_budget</span>   <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemcount</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nozeroedges</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">nozerocontact</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="n">I</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">splitlist</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">I_budget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemcount</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">I_budget</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excluded_budgets</span><span class="p">:</span>
                <span class="n">excluded_budgets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">I_budget</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">identicals</span><span class="p">:</span>
                    <span class="n">excluded_budgets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">permute_elements</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">I_budget</span><span class="p">))</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contractable</span><span class="p">(</span><span class="n">I_budget</span><span class="p">,</span><span class="n">T_budget</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">I</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excluded</span><span class="p">:</span>
                        <span class="n">excluded</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">identicals</span><span class="p">:</span>
                            <span class="n">excluded</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">permute_elements</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">I</span><span class="p">))</span>
                        <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="n">ret</span>
    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">plabels_t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;r&#39;</span><span class="p">,</span><span class="s">&#39;s&#39;</span><span class="p">,</span><span class="s">&#39;x&#39;</span><span class="p">,</span><span class="s">&#39;z&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="c">#Target labels</span>
        <span class="n">hlabels_t</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;t&#39;</span><span class="p">,</span><span class="s">&#39;u&#39;</span><span class="p">,</span><span class="s">&#39;q&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">,</span> <span class="s">&#39;j&#39;</span><span class="p">,</span><span class="s">&#39;i&#39;</span><span class="p">]</span>

        <span class="n">plabels</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;h&#39;</span><span class="p">,</span><span class="s">&#39;g&#39;</span><span class="p">,</span><span class="s">&#39;f&#39;</span><span class="p">,</span><span class="s">&#39;e&#39;</span><span class="p">,</span><span class="s">&#39;d&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
        <span class="n">hlabels</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;p&#39;</span><span class="p">,</span><span class="s">&#39;o&#39;</span><span class="p">,</span><span class="s">&#39;n&#39;</span><span class="p">,</span><span class="s">&#39;m&#39;</span><span class="p">,</span><span class="s">&#39;l&#39;</span><span class="p">,</span><span class="s">&#39;k&#39;</span><span class="p">]</span>

                        
        <span class="c">#plabels_ex =  [&#39;h&#39;,&#39;g&#39;,&#39;f&#39;,&#39;e&#39;,&#39;d&#39;,&#39;c&#39;]</span>
        <span class="c">#hlabels_ex =  [&#39;p&#39;,&#39;o&#39;,&#39;n&#39;,&#39;m&#39;,&#39;l&#39;,&#39;k&#39;]</span>
        <span class="c">#print &quot;Schema:&quot;, self.schema</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_a</span> <span class="o">=</span> <span class="p">[]</span>        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_a</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_c</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
        <span class="c">#label all external and internal lines</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)):</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                <span class="n">ne</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="n">e</span><span class="o">-</span><span class="mi">1</span>
                <span class="n">de</span> <span class="o">=</span> <span class="n">e</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">de</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">de</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">de</span><span class="p">]</span> <span class="o">=</span> <span class="n">plabels_t</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">de</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">de</span><span class="p">]</span> <span class="o">=</span> <span class="n">hlabels_t</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                if self.schema[i][ne] == None:        </span>
<span class="sd">                    if self.T[i].q_c[ne] == 1:</span>
<span class="sd">                        self.T_labels[i][ne] = plabels_t.pop()</span>
<span class="sd">                    if self.T[i].q_c[ne] == -1:</span>
<span class="sd">                        self.T_labels[i][ne] = hlabels_t.pop()</span>
<span class="sd">                &quot;&quot;&quot;</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">de</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">h_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">de</span><span class="p">]</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">de</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">particlelabel</span> <span class="o">=</span> <span class="n">plabels</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">de</span><span class="p">]</span> <span class="o">=</span> <span class="n">particlelabel</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_a</span><span class="p">[</span><span class="n">h_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">particlelabel</span>
                        <span class="c">#print self.H.m_qa</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">h_index</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">h_index</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">plabels_t</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">de</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                        <span class="n">holelabel</span> <span class="o">=</span> <span class="n">hlabels</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">de</span><span class="p">]</span> <span class="o">=</span> <span class="n">holelabel</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_a</span><span class="p">[</span><span class="n">h_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">holelabel</span>
                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">h_index</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">h_index</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">hlabels_t</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> 
                <span class="sd">&quot;&quot;&quot; </span>
<span class="sd">                if self.schema[i][ne] != None:</span>
<span class="sd">                    h_index = self.schema[i][ne]</span>
<span class="sd">                    if self.T[i].q_c[ne] == 1:</span>
<span class="sd">                        particlelabel = plabels.pop()</span>
<span class="sd">                        self.T_labels[i][ne] = particlelabel</span>
<span class="sd">                        self.H_labels_a[h_index] = particlelabel</span>
<span class="sd">                        self.H_labels_c[abs(self.H.m_qa[h_index])-1] = plabels_t.pop()</span>
<span class="sd">                    if self.T[i].q_c[ne] == -1:</span>
<span class="sd">                        holelabel = hlabels.pop()</span>
<span class="sd">                        self.T_labels[i][ne] = holelabel</span>
<span class="sd">                        self.H_labels_a[h_index] = holelabel</span>
<span class="sd">                        self.H_labels_c[abs(self.H.m_qa[h_index])-1] = hlabels_t.pop() </span>
<span class="sd">                &quot;&quot;&quot;</span>
                    
        <span class="sd">&quot;&quot;&quot;    </span>
<span class="sd">        #label all external and internal lines</span>
<span class="sd">        for i in range(len(self.schema)):</span>
<span class="sd">            for e in range(len(self.schema[i])):</span>
<span class="sd">                if self.schema[i][e] == None:</span>
<span class="sd">                    if self.T[i].q_c[e] == 1:</span>
<span class="sd">                        self.T_labels[i][e] = plabels_t.pop()</span>
<span class="sd">                    if self.T[i].q_c[e] == -1:</span>
<span class="sd">                        self.T_labels[i][e] = hlabels_t.pop()</span>
<span class="sd">                if self.schema[i][e] != None:</span>
<span class="sd">                    h_index = self.schema[i][e]</span>
<span class="sd">                    if self.T[i].q_c[e] == 1:</span>
<span class="sd">                        particlelabel = plabels.pop()</span>
<span class="sd">                        self.T_labels[i][e] = particlelabel</span>
<span class="sd">                        self.H_labels_a[h_index] = particlelabel</span>
<span class="sd">                        self.H_labels_c[abs(self.H.m_qa[h_index])-1] = plabels_t.pop()</span>
<span class="sd">                    if self.T[i].q_c[e] == -1:</span>
<span class="sd">                        holelabel = hlabels.pop()</span>
<span class="sd">                        self.T_labels[i][e] = holelabel</span>
<span class="sd">                        self.H_labels_a[h_index] = holelabel</span>
<span class="sd">                        self.H_labels_c[abs(self.H.m_qa[h_index])-1] = hlabels_t.pop()                    </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c">#print &quot;---&quot;</span>
        <span class="c">#print self.H_labels_c   </span>
        <span class="c">#print self.H_labels_a</span>
        <span class="c">#print self.T_labels</span>
        <span class="c">#print &quot;---&quot;</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        #Label all external lines exiting the cluster operators (targets)</span>
<span class="sd">        for i in range(len(self.schema)):</span>
<span class="sd">            for e in range(len(self.schema[i])):</span>
<span class="sd">                if self.schema[i][e] == None:</span>
<span class="sd">                    if self.T[i].q_c[e] == 1:</span>
<span class="sd">                        self.T_labels[i][e] = plabels_t.pop()</span>
<span class="sd">                    if self.T[i].q_c[e] == -1:</span>
<span class="sd">                        self.T_labels[i][e] = hlabels_t.pop()</span>
<span class="sd">        &quot;&quot;&quot;</span>
                
        <span class="c">#Ensure all external interaction lines labeled</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">)):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">plabels_t</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">hlabels_t</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        #label all internal lines</span>
<span class="sd">        for i in range(len(self.schema)):</span>
<span class="sd">            n = len(self.schema[i])</span>
<span class="sd">            for e in range(n):</span>
<span class="sd">                if self.schema[i][e] != None:</span>
<span class="sd">                    #Current index is connected</span>
<span class="sd">                    if self.T[i].q_c[e]==1:</span>
<span class="sd">                        self.T_labels[i][e] = plabels.pop()</span>
<span class="sd">                    if self.T[i].q_c[e]==-1:</span>
<span class="sd">                        self.T_labels[i][e] = hlabels.pop()</span>
<span class="sd">                    self.H_labels_a[self.schema[i][e]] = self.T_labels[i][e]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="c">#Identify the cluster-operators</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t_operators</span><span class="p">()</span>
        
        <span class="c">#Identify the interaction operator</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v_operator</span><span class="p">()</span>
        
        
        <span class="c">#Identify summation indices</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">summation</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">summation</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span>


        <span class="c">#Connect the vertices in H_labels</span>
        <span class="c">#Identify vertices in all operators</span>

        
        
        
        <span class="bp">self</span><span class="o">.</span><span class="n">count_loops</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count_holes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count_equivalent_l</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count_equivalent_t</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_permutations</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc_prefactor</span><span class="p">()</span>
        


    <span class="k">def</span> <span class="nf">cancel_permutations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">0</span>
        
        
    <span class="k">def</span> <span class="nf">find_permutations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#Identify name, origin and orientation of outgoing lines</span>
        <span class="n">orig</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">orig</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">e</span><span class="p">],</span> <span class="s">&quot;t&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_c</span><span class="p">)):</span>
            <span class="n">orig</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s">&quot;v&quot;</span><span class="p">])</span>

        <span class="n">permutes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c">#compare lines</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">orig</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">orig</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span><span class="o">!=</span><span class="n">e</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">ineq_external</span><span class="p">(</span><span class="n">orig</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">orig</span><span class="p">[</span><span class="n">e</span><span class="p">]):</span>
                    <span class="n">permutes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">orig</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">orig</span><span class="p">[</span><span class="n">e</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">permutations</span> <span class="o">=</span> <span class="n">permutes</span>            
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">def</span> <span class="nf">ineq_external</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line1</span><span class="p">,</span> <span class="n">line2</span><span class="p">):</span>
        <span class="c">#compare two external lines, decide wether they are inequivalent (permutations)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">line1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">line2</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="c">#equal orientation</span>
            <span class="k">if</span> <span class="n">line1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="n">line2</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="c">#inequal origin #AND origins differ </span>
                <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="n">ret</span>
        
    <span class="k">def</span> <span class="nf">calc_prefactor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefactor</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.5</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">n_equivalent_Ts</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mf">0.5</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">equiv_lines</span><span class="p">)</span><span class="o">*</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">holes</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">loops</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prefactor</span> <span class="o">*=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">**</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">permutations</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">count_equivalent_t</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#count equivalent T-vertices</span>
        <span class="n">t_config</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">)):</span>
            <span class="n">eq_h</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">eq_p</span> <span class="o">=</span> <span class="mi">0</span>            
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">)):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                        <span class="n">eq_h</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">eq_p</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">t_config</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">eq_p</span><span class="p">,</span> <span class="n">eq_h</span><span class="p">])</span>
        <span class="n">ignored</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">t_eqs</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t_config</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t_config</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span><span class="o">!=</span> <span class="n">e</span> <span class="ow">and</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ignored</span><span class="p">:</span>

                    <span class="k">if</span> <span class="n">t_config</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">t_config</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">e</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">):</span>
                        <span class="n">ignored</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                        <span class="n">t_eqs</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_equivalent_Ts</span> <span class="o">=</span> <span class="n">t_eqs</span> 
        
    <span class="k">def</span> <span class="nf">count_equivalent_l</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#Count equivalent lines</span>
        <span class="n">eqs</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">)):</span>
            <span class="n">eq_h</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">eq_p</span> <span class="o">=</span> <span class="mi">0</span>            
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">)):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                        <span class="n">eq_h</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">eq_p</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">eqs</span> <span class="o">+=</span> <span class="n">eq_h</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">eq_p</span><span class="o">/</span><span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">equiv_lines</span> <span class="o">=</span> <span class="n">eqs</span>
                
                
        
    <span class="k">def</span> <span class="nf">count_loops</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lp</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">)):</span>
            <span class="n">lp</span> <span class="o">+=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">)</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span>
            
        <span class="c">#count quasi-loops ? #Important bug fix, 2.nov 2014     </span>
        <span class="c">#for i in self.schema:</span>
        <span class="c">#    lp += i.count(None)/2</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">loops</span> <span class="o">=</span> <span class="n">lp</span>
    <span class="k">def</span> <span class="nf">count_holes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">nh</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">)):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">nh</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_c</span><span class="p">)):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">nh</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">holes</span> <span class="o">=</span> <span class="n">nh</span>
                
    <span class="k">def</span> <span class="nf">t_operators</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tt</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c">#print self.T_labels</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">)):</span>
            <span class="c">#tt.append([])</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span>
            <span class="n">a</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
            <span class="n">j</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
                <span class="n">a</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> 
                <span class="c">#a += self.T_labels[i][n-(e+1)] </span>
                <span class="c">#j += self.T_labels[i][n+e]</span>
                <span class="n">j</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">n</span><span class="o">+</span><span class="n">e</span><span class="p">]</span>
            <span class="n">tt</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">n</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">j</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t_ops</span> <span class="o">=</span> <span class="n">tt</span>
    <span class="k">def</span> <span class="nf">v_operator</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">hh</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">out</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="n">ins</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qc</span><span class="p">)):</span>
            <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span>  <span class="n">l</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">l</span><span class="o">-=</span><span class="mi">1</span>

                <span class="c">#found a line passing through the interaction</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_a</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="c">#Found a particle passing through</span>
                    <span class="n">ins</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_a</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_a</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="c">#Found a hole passing through</span>
                    <span class="n">ins</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">out</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_a</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>
                    
                    
        <span class="c">######</span>
        <span class="c">######</span>
        <span class="c"># This needs to happen in the correct ordeR!</span>
        <span class="c">######</span>
        <span class="c">######</span>
                    
                    
                    
                    
        <span class="n">a_ignores</span> <span class="o">=</span> <span class="p">[]</span>            
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span><span class="p">)):</span>
            <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span>  <span class="n">l</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">l</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">a_ignores</span><span class="p">:</span>
                <span class="c">#found a line pair annihilating at the interaction</span>
                <span class="n">l</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">ins</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_a</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>
                <span class="n">a_ignores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

        <span class="n">c_ignores</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qc</span><span class="p">)):</span>
            <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qc</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span>  <span class="n">l</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">l</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">c_ignores</span><span class="p">:</span>
                <span class="c">#found a line pair created at the interaction</span>
                <span class="n">l</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">out</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">ins</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>  
                <span class="n">c_ignores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>                  
                                    
  
        <span class="bp">self</span><span class="o">.</span><span class="n">h_op</span> <span class="o">=</span> <span class="p">[</span><span class="n">ins</span><span class="p">,</span> <span class="n">out</span><span class="p">]</span>
        
        <span class="n">v_out</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">v_ins</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span> 
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">h_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="c">#particle in</span>
                        <span class="n">v_ins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">])</span>
                        <span class="n">coupled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">h_index</span><span class="p">]</span>
                        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                        if coupled &lt; 0:</span>
<span class="sd">                            #reflecting at interaction</span>
<span class="sd">                            nc = abs(coupled) - 1</span>
<span class="sd">                            v_out.append(self.H_labels_a[nc])</span>
<span class="sd">                        &quot;&quot;&quot;</span>
                            
                        <span class="k">if</span> <span class="n">coupled</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="c">#passing through interaction</span>
                            <span class="n">nc</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">coupled</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                            <span class="c">#print coupled, self.H_labels_c, self.H.m_qa</span>
                            <span class="n">v_out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">nc</span><span class="p">])</span>

                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">q_c</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                        <span class="c">#hole out</span>
                        <span class="n">v_out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T_labels</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">])</span>
                        <span class="n">coupled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span><span class="p">[</span><span class="n">h_index</span><span class="p">]</span>
                        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">                        if coupled &lt; 0:</span>
<span class="sd">                            #reflecting at interaction</span>
<span class="sd">                            nc = abs(coupled) - 1</span>
<span class="sd">                            v_ins.append(self.H_labels_a[nc])</span>
<span class="sd">                        &quot;&quot;&quot;</span>
                            
                        <span class="k">if</span> <span class="n">coupled</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="c">#passing through interaction</span>
                            <span class="n">nc</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">coupled</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
                            <span class="n">v_ins</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">H_labels_c</span><span class="p">[</span><span class="n">nc</span><span class="p">])</span> 
        <span class="c">#print &quot;New config:&quot;, v_out, v_ins</span>
        <span class="n">out</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="n">ins</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v_out</span><span class="p">)):</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="n">v_out</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">ins</span> <span class="o">+=</span> <span class="n">v_ins</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h_op</span> <span class="o">=</span> <span class="p">[</span><span class="n">out</span><span class="p">,</span> <span class="n">ins</span><span class="p">]</span>
        
        
    <span class="k">def</span> <span class="nf">report</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#print &quot; Tlabels :&quot;, self.T_labels</span>
        <span class="c">#print &quot; Hlabelsa:&quot;, self.H_labels_a</span>
        <span class="c">#print &quot; Hlabelsc:&quot;, self.H_labels_c </span>
        <span class="c">#print &quot;Equivavlent lines:&quot;, self.equiv_lines</span>
        <span class="c">#print &quot;Loops:&quot;, self.loops</span>
        <span class="c">#print &quot;Holes:&quot;, self.holes</span>
        <span class="c">#print &quot;Equivavlent Ts:&quot;,self.n_equivalent_Ts </span>
        <span class="c">#print &quot;Prefactor   :&quot;, self.prefactor        </span>
        <span class="c">#print &quot;Permutations:&quot;, self.permutations</span>
        <span class="c">#print &quot;Summations  :&quot;, self.summation</span>
        <span class="c">#print &quot;Interaction :&quot;, self.h_op</span>
        <span class="c">#print &quot;Cluster     :&quot;, self.t_ops</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;prefactor: </span><span class="si">%f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">prefactor</span> <span class="o">+</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s">&quot;permutations: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">permutations</span><span class="o">+</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s">&quot;sum: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">summation</span><span class="o">+</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s">&quot;h_ops: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_op</span><span class="o">+</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s">&quot;t_ops: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_ops</span><span class="o">+</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="k">return</span> <span class="n">s</span>

                    

<span class="k">class</span> <span class="nc">cpp_func</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="n">schema</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">permute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">):</span>     
        <span class="n">c2</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">c</span><span class="p">:</span>
            <span class="n">c2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="c">#print c2</span>
        <span class="n">s1_i</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">s2_i</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s1</span><span class="p">:</span>
                <span class="n">s1_i</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">c2</span><span class="p">[</span><span class="n">s1_i</span><span class="p">]</span> <span class="o">=</span> <span class="n">s2</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s2</span><span class="p">:</span>
                <span class="n">s2_i</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">c2</span><span class="p">[</span><span class="n">s2_i</span><span class="p">]</span> <span class="o">=</span> <span class="n">s1</span>
            
        <span class="n">c3</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">c2</span><span class="p">:</span>
            <span class="n">c3</span> <span class="o">+=</span> <span class="n">i</span>

        <span class="k">return</span> <span class="n">c</span> <span class="o">+</span> <span class="s">&quot;-(&quot;</span> <span class="o">+</span> <span class="n">c3</span> <span class="o">+</span><span class="s">&quot;)&quot;</span>
        
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
        <span class="n">prefactor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">prefactor</span>
        <span class="n">permutations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">permutations</span>
        <span class="n">sums</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">summation</span>
        <span class="n">interaction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">h_op</span>
        <span class="n">cluster</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">t_ops</span>
        
        <span class="c">#Begin building the function</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;double </span><span class="si">%s</span><span class="s"> = 0.0</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span><span class="k">target</span>
        <span class="n">c</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="c">#Core function</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="n">interaction</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">c2</span> <span class="o">=</span> <span class="n">interaction</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">interaction</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">c1</span> <span class="o">+=</span> <span class="s">&quot;,&quot;</span><span class="o">+</span><span class="n">interaction</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">c2</span> <span class="o">+=</span> <span class="s">&quot;,&quot;</span><span class="o">+</span><span class="n">interaction</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>     
        <span class="n">c</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">(</span><span class="si">%s</span><span class="s">)(</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&quot;v&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">interaction</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="c">#Two particle interaction</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cluster</span><span class="p">)):</span>
            <span class="n">c1</span> <span class="o">=</span> <span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">c2</span> <span class="o">=</span> <span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">c1</span> <span class="o">+=</span> <span class="s">&quot;,&quot;</span><span class="o">+</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">c2</span> <span class="o">+=</span> <span class="s">&quot;,&quot;</span><span class="o">+</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">][</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">c</span> <span class="o">+=</span> <span class="s">&quot;*</span><span class="si">%s</span><span class="s">(</span><span class="si">%s</span><span class="s">)(</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&quot;tf&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]),</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">)</span> <span class="c">#Two particle interaction</span>
        
        <span class="c">#Permute all possible</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">permutations</span><span class="p">)):</span>
                <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">permute</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">permutations</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">permutations</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
                
            
        
        <span class="n">c</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> += &quot;</span> <span class="o">%</span><span class="k">target</span> <span class="o">+</span> <span class="n">c</span>
        <span class="n">c</span><span class="o">+=</span><span class="s">&quot;;</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">sms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sums</span><span class="p">)):</span>
            <span class="n">indent</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sums</span><span class="p">)</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="s">&quot; &quot;</span>
            <span class="n">s</span><span class="p">,</span><span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">for_loop</span><span class="p">(</span><span class="n">sums</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">sms</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">indent</span> <span class="o">+</span> <span class="n">s</span><span class="p">)</span>
            <span class="n">sms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">indent</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span>
        <span class="n">indent</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sums</span><span class="p">))</span> <span class="o">*</span> <span class="s">&quot; &quot;</span> 
        <span class="n">sms</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sms</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">indent</span><span class="o">+</span><span class="n">c</span><span class="p">)</span>
        
        <span class="c">#merge function</span>
        <span class="n">C</span><span class="o">=</span><span class="s">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">sms</span><span class="p">:</span>
            <span class="n">C</span><span class="o">+=</span> <span class="n">i</span>
            
        <span class="n">C</span> <span class="o">=</span> <span class="s">&quot;double </span><span class="si">%s</span><span class="s"> = 0.0;</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">%</span><span class="k">target</span><span class="o">+</span> <span class="n">C</span> 

        <span class="n">C</span> <span class="o">+=</span><span class="s">&quot;</span><span class="si">%s</span><span class="s"> *= </span><span class="si">%f</span><span class="s">;</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">prefactor</span><span class="p">)</span>
        <span class="c">#Set up summations</span>
        <span class="c">#print &quot;\n&quot;, C</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cppfunction</span> <span class="o">=</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">+</span> <span class="n">C</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">target</span>
        <span class="c">#print sms</span>
            
    
    <span class="k">def</span> <span class="nf">for_loop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="s">&quot;abcdefgh&quot;</span><span class="p">:</span>
            <span class="c">#return </span>
            <span class="n">lps</span> <span class="o">=</span> <span class="s">&quot;for(int </span><span class="si">%s</span><span class="s"> = nElectrons; </span><span class="si">%s</span><span class="s"> &lt; nStates; </span><span class="si">%s</span><span class="s"> ++){</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">p</span><span class="p">)</span>
            <span class="n">lpe</span><span class="o">=</span> <span class="s">&quot;}</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="s">&quot;ijklmnop&quot;</span><span class="p">:</span>
            <span class="c">#return </span>
            <span class="n">lps</span> <span class="o">=</span> <span class="s">&quot;for(int </span><span class="si">%s</span><span class="s"> = 0; </span><span class="si">%s</span><span class="s"> &lt; nElectrons; </span><span class="si">%s</span><span class="s"> ++){</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">p</span><span class="p">,</span><span class="n">p</span><span class="p">)</span>
            <span class="n">lpe</span> <span class="o">=</span> <span class="s">&quot;}</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="k">return</span> <span class="n">lps</span><span class="p">,</span> <span class="n">lpe</span>  

<span class="k">class</span> <span class="nc">symbolic_diag</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="n">schema</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">target</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
        <span class="n">prefactor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">prefactor</span>
        <span class="n">permutations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">permutations</span>
        <span class="n">sums</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">summation</span>
        <span class="n">interaction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">h_op</span>
        <span class="n">cluster</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">t_ops</span>
        
        <span class="n">pre_fact</span><span class="p">,</span> <span class="n">pre_denom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">prefactor</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">permutations</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s">&quot;P(</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="n">i</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="se">\\</span><span class="s">frac{</span><span class="si">%i</span><span class="s">}{</span><span class="si">%i</span><span class="s">}&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">pre_fact</span><span class="p">,</span> <span class="n">pre_denom</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s">&quot; </span><span class="se">\\</span><span class="s">sum_{</span><span class="si">%s</span><span class="s">}&quot;</span> <span class="o">%</span> <span class="n">sums</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="s">&quot; </span><span class="se">\\</span><span class="s">langle </span><span class="si">%s</span><span class="s"> || </span><span class="si">%s</span><span class="s"> </span><span class="se">\\</span><span class="s">rangle&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">interaction</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">interaction</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">cluster</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s">&quot; t_{</span><span class="si">%s</span><span class="s">}^{</span><span class="si">%s</span><span class="s">}&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stringform</span> <span class="o">=</span> <span class="n">s</span>
    
    <span class="k">def</span> <span class="nf">factorize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefactor</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">prefactor</span>
        <span class="n">fract</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="nb">float</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">ret</span><span class="p">):</span>
            <span class="n">ret</span><span class="o">*=</span><span class="mi">2</span>
            <span class="n">fract</span><span class="o">*=</span><span class="mi">2</span>
            
        <span class="k">return</span> <span class="n">ret</span><span class="p">,</span> <span class="n">fract</span>
     
<span class="k">class</span> <span class="nc">feynman_diag</span><span class="p">():</span>
    <span class="c">#a diagrammatic representation of the operators</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">vis</span> <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schema</span> <span class="o">=</span> <span class="n">schema</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">target</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vis</span> <span class="o">=</span> <span class="n">vis</span>
        
        
        <span class="c">#Parameters for plotting</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shift</span> <span class="o">=</span> <span class="o">.</span><span class="mi">2</span> <span class="c">#horizontal shift of interaction vertices</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="c">#size of diagrams</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">split</span> <span class="o">=</span> <span class="o">.</span><span class="mi">25</span> <span class="c">#angle of paired leaving vertices</span>
        
        <span class="c">#building diagrams</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Build</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">Build</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">target</span><span class="p">):</span>
        <span class="n">scale</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span>
        <span class="n">prefactor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">prefactor</span>
        <span class="n">permutations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">permutations</span>
        <span class="n">sums</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">summation</span>
        <span class="n">interaction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">h_op</span>
        <span class="n">cluster</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">t_ops</span>
        <span class="n">schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">schema</span>
        <span class="n">px</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">py</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        
        <span class="c">#Create all vertices in the cluster operators</span>
        <span class="c">#Find total number of vertices:</span>
        <span class="n">nt</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cluster</span><span class="p">)):</span>
            <span class="n">nt</span> <span class="o">+=</span> <span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="c">#print &quot;NT:&quot;, nt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_nodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="o">-</span><span class="n">scale</span><span class="o">*</span><span class="n">nt</span><span class="o">/</span><span class="mi">2</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">NT_tot</span> <span class="o">=</span> <span class="n">nt</span>
       <span class="c">#print cluster</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cluster</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exit_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hnode</span><span class="p">([</span><span class="n">px</span><span class="o">+</span><span class="n">t0</span><span class="p">,</span> <span class="n">py</span><span class="p">],</span>  <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[]))</span>
                <span class="c">#print px+t0, py</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exit_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exit_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hnode</span><span class="p">([</span><span class="n">px</span><span class="o">+</span><span class="n">t0</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">split</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span> <span class="n">py</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">scale</span><span class="p">],[],[]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">exit_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hnode</span><span class="p">([</span><span class="n">px</span><span class="o">+</span><span class="n">t0</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">split</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span> <span class="n">py</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">scale</span><span class="p">],[],[]))</span>
                <span class="n">t0</span> <span class="o">+=</span> <span class="n">scale</span>

        
        <span class="c">#Set up H-vertices</span>
        <span class="c">#counting hole lines passing through the interaction</span>
        <span class="n">n_h_h</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qc</span><span class="p">:</span>
                <span class="n">n_h_h</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">q_a</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">n_passing_holes</span> <span class="o">=</span> <span class="n">n_h_h</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">n_passing_parts</span> <span class="o">=</span> <span class="n">n_h_h</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="c">#print n_h_h</span>

        <span class="c">#count particle lines passing </span>
        <span class="n">n_h_h</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
            <span class="n">n_h_h</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qc</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        
                        
        <span class="c">#counting the line pairs annihilating at the interaction</span>
        <span class="n">n_h_a</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
            <span class="n">n_h_a</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>

        <span class="c">#counting the line pairs created at the interaction</span>
        <span class="n">n_h_c</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
            <span class="n">n_h_c</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qc</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="o">-</span><span class="n">i</span><span class="p">)</span>
        
        <span class="n">n_h_a</span> <span class="o">/=</span> <span class="mi">2</span>
        <span class="n">n_h_c</span> <span class="o">/=</span> <span class="mi">2</span>
        
        <span class="c">#print &quot;Passing holes:&quot;, n_passing_holes</span>
        <span class="c">#print &quot;Passing particles:&quot; , n_passing_parts</span>
        <span class="c">#print &quot;Annihil:&quot;, n_h_a</span>
        <span class="c">#print &quot;Created:&quot;, n_h_c</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">h0</span> <span class="o">=</span> <span class="o">-</span> <span class="o">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="n">n_h_a</span> <span class="o">+</span> <span class="n">n_passing_holes</span> <span class="o">+</span><span class="n">n_passing_parts</span> <span class="o">+</span> <span class="n">n_h_c</span><span class="p">)</span><span class="o">*</span><span class="n">scale</span> <span class="o">+</span>  <span class="bp">self</span><span class="o">.</span><span class="n">shift</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_h_a</span><span class="p">):</span>
            <span class="c">#Add vertices that annihilate a pair of lines</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hnode</span><span class="p">([</span><span class="n">px</span><span class="o">+</span><span class="n">h0</span><span class="p">,</span><span class="n">py</span><span class="o">+</span><span class="mi">1</span><span class="o">*</span><span class="n">scale</span><span class="p">],</span> <span class="p">[],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">h0</span> <span class="o">+=</span> <span class="n">scale</span> 
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_h_c</span><span class="p">):</span>
            <span class="c">#Add vertices that create a pair of lines</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hnode</span><span class="p">([</span><span class="n">px</span><span class="o">+</span><span class="n">h0</span><span class="p">,</span><span class="n">py</span><span class="o">+</span><span class="mi">1</span><span class="o">*</span><span class="n">scale</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[]))</span>
            <span class="n">h0</span> <span class="o">+=</span> <span class="n">scale</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_passing_parts</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hnode</span><span class="p">([</span><span class="n">px</span><span class="o">+</span><span class="n">h0</span><span class="p">,</span><span class="n">py</span><span class="o">+</span><span class="mi">1</span><span class="o">*</span><span class="n">scale</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">h0</span> <span class="o">+=</span> <span class="n">scale</span>            
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_passing_holes</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hnode</span><span class="p">([</span><span class="n">px</span><span class="o">+</span><span class="n">h0</span><span class="p">,</span><span class="n">py</span><span class="o">+</span><span class="mi">1</span><span class="o">*</span><span class="n">scale</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">h0</span> <span class="o">+=</span> <span class="n">scale</span>
        <span class="c">#Done setting up the H-vertices</span>
        
        
        <span class="c">#Grouping up lines</span>
        <span class="n">TL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">T_labels</span>
        <span class="n">HLa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H_labels_a</span>
        <span class="n">HLc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H_labels_c</span>   

        <span class="n">lines_t</span> <span class="o">=</span> <span class="p">[]</span> <span class="c">#list of all connections in the diagram, both external and internal</span>
        <span class="n">lines_t_internal</span> <span class="o">=</span> <span class="p">[]</span> <span class="c">#list of all connections in the diagram, both external and internal</span>
        <span class="c">#for i in range(len(self.schema)):</span>
        <span class="n">lines_h_out</span> <span class="o">=</span> <span class="p">[]</span>
        
        
        <span class="n">HLc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H_labels_c</span> 
        <span class="c">#import mapping </span>
        <span class="n">mqc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qc</span>
        <span class="n">mqa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">m_qa</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">)):</span>            
            <span class="n">lines_t</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
            <span class="n">lines_t_internal</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>            
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                <span class="k">if</span> <span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">TL</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">],</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">e</span><span class="p">],</span> <span class="bp">None</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">schema</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">TL</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">],</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">e</span><span class="p">],</span> <span class="n">i</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">HLc</span><span class="p">)):</span>
            <span class="n">lines_h_out</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">HLc</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">i</span><span class="p">,</span> <span class="bp">None</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lines_h_out</span> <span class="o">=</span> <span class="n">lines_h_out</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines_t</span> <span class="o">=</span> <span class="n">lines_t</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lines_t_int</span> <span class="o">=</span> <span class="n">lines_t_internal</span>
        
        
        
        
        
        <span class="bp">self</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">Plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vis</span><span class="p">:</span>
            <span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">NT_tot</span><span class="o">/</span><span class="mf">1.5</span><span class="p">),</span> <span class="n">dpi</span> <span class="o">=</span> <span class="mi">80</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span> <span class="s">&#39;k&#39;</span><span class="p">,</span><span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;white&#39;</span><span class="p">)</span>
            <span class="n">axis</span><span class="p">(</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
            <span class="n">axes</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">,</span> <span class="s">&#39;datalim&#39;</span><span class="p">)</span>
        <span class="n">hold</span><span class="p">(</span><span class="s">&#39;on&#39;</span><span class="p">)</span>
        <span class="n">t_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span>
        <span class="n">h_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span>
        <span class="n">exit_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_nodes</span>

        
        <span class="c">#draw all nodes and horizontal lines</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pos</span>
        <span class="n">scale</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span>
        <span class="n">cluster</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">t_ops</span>
        <span class="n">lines_t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lines_t</span>
        <span class="n">msize</span> <span class="o">=</span><span class="mi">5</span>
        <span class="n">c</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span>
        <span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="o">-.</span><span class="mo">01</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">y</span><span class="o">-.</span><span class="mo">01</span><span class="p">,</span><span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s">&quot;White&quot;</span><span class="p">)</span>
        <span class="n">plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span><span class="o">-.</span><span class="mo">01</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">y</span><span class="o">+</span><span class="mf">1.1</span><span class="p">,</span><span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="s">&quot;White&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">)):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">nc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c">#current node</span>
                <span class="c">#Draw </span>
                <span class="n">plot</span><span class="p">(</span> <span class="p">[</span><span class="n">nc</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span><span class="n">nc</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mf">0.25</span><span class="o">*</span><span class="n">scale</span><span class="p">],[</span><span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">)</span>
                <span class="n">plot</span><span class="p">(</span><span class="n">nc</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span> <span class="n">markersize</span> <span class="o">=</span> <span class="n">msize</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">nc_next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>                
                <span class="n">plot</span><span class="p">(</span><span class="n">nc_next</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">nc_next</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span> <span class="n">markersize</span> <span class="o">=</span> <span class="n">msize</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                    <span class="n">nc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span>
                    <span class="n">nc_next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                    
                    <span class="n">plot</span><span class="p">(</span> <span class="p">[</span><span class="n">nc</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">nc_next</span><span class="o">.</span><span class="n">x</span><span class="p">],[</span><span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">nc_next</span><span class="o">.</span><span class="n">y</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">)</span>
                    <span class="n">plot</span><span class="p">(</span><span class="n">nc_next</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">nc_next</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span> <span class="n">markersize</span> <span class="o">=</span> <span class="n">msize</span><span class="p">)</span>
                    
        
        <span class="c">#Draw interaction vertices</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">nc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">plot</span><span class="p">(</span><span class="n">nc</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span> <span class="n">markersize</span> <span class="o">=</span> <span class="n">msize</span><span class="p">)</span>
            <span class="n">plot</span><span class="p">(</span> <span class="p">[</span><span class="n">nc</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">nc</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">scale</span><span class="p">],[</span><span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span> <span class="n">ls</span> <span class="o">=</span> <span class="s">&quot;dotted&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
            <span class="c">#connect horizontal vertices</span>
            <span class="n">nc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">plot</span><span class="p">(</span><span class="n">nc</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span> <span class="n">markersize</span> <span class="o">=</span> <span class="n">msize</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">nc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="p">[</span><span class="n">e</span><span class="p">]</span>
                <span class="n">nc_next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h_nodes</span><span class="p">[</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">plot</span><span class="p">(</span> <span class="p">[</span><span class="n">nc</span><span class="o">.</span><span class="n">x</span><span class="p">,</span><span class="n">nc_next</span><span class="o">.</span><span class="n">x</span><span class="p">],[</span><span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">nc_next</span><span class="o">.</span><span class="n">y</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span><span class="n">ls</span> <span class="o">=</span> <span class="s">&quot;dotted&quot;</span><span class="p">)</span>
                <span class="n">plot</span><span class="p">(</span><span class="n">nc_next</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">nc_next</span><span class="o">.</span><span class="n">y</span><span class="p">,</span><span class="s">&quot;o&quot;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span> <span class="n">markersize</span> <span class="o">=</span> <span class="n">msize</span><span class="p">)</span>
                
        <span class="c">#Draw all connected and unconnected lines</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cluster</span><span class="p">)):</span> 
            <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]):</span>
                <span class="n">p1_ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_l_index</span><span class="p">(</span><span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="n">u</span><span class="p">])</span>
                <span class="n">h1_ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_l_index</span><span class="p">(</span><span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">][</span><span class="n">u</span><span class="p">])</span>   
                
                <span class="c">#print lines_t[i][p1_ind] , lines_t[i][h1_ind]                 </span>
                <span class="k">if</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">p1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">h1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="c">#print &quot;Two external unconnected lines!&quot;</span>
                    <span class="n">ncon</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">exit_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                    <span class="n">ncon</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">exit_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="c">#print lines_t[i][p1_ind], lines_t[i][h1_ind]           </span>
                <span class="k">if</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">p1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">h1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                <span class="c">#if lines_t[i][p1_ind][2] == lines_t[i][h1_ind][2] == 0:</span>
                    <span class="c">#print &quot;Internal loop!&quot;</span>
                    <span class="c">#Scan for available loop</span>
                    <span class="n">n</span> <span class="o">=</span> <span class="bp">None</span>
                    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">h_nodes</span><span class="p">)):</span>
                        <span class="c">#print &quot;t:&quot;,t</span>
                        <span class="k">if</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">probe_loop_a</span><span class="p">():</span>
                            <span class="c">#print &quot;Found loop!&quot;</span>
                            <span class="c">#Found loop</span>
                            <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">connect_loop_a</span><span class="p">()</span>
                            <span class="n">n</span> <span class="o">=</span> <span class="n">t</span>
                            <span class="k">break</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">hn</span> <span class="o">=</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
                        
                            
                        <span class="n">ncon</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">hn</span><span class="p">,</span><span class="n">order</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="n">ncon</span><span class="p">(</span><span class="n">hn</span><span class="p">,</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">order</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
                        
                    <span class="c">#Remove if causing trouble</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="c">#connect to separate vertices</span>
                        
                        <span class="c">#connect particle line</span>
                        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">h_nodes</span><span class="p">)):</span>

                            <span class="k">if</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">probe_line_a</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                                <span class="c">#print &quot;Found particle!&quot;</span>

                                <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">connect_loop_a</span><span class="p">()</span>
                                <span class="n">n</span> <span class="o">=</span> <span class="n">t</span>
                                <span class="k">break</span>
                        <span class="n">hn</span> <span class="o">=</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
                        <span class="n">ncon</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">hn</span><span class="p">,</span><span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                        
                        <span class="c">#connect particle line</span>
                        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">h_nodes</span><span class="p">)):</span>

                            <span class="k">if</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">probe_line_a</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
                                <span class="c">#print &quot;Found particle!&quot;</span>

                                <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">connect_loop_a</span><span class="p">()</span>
                                <span class="n">n</span> <span class="o">=</span> <span class="n">t</span>
                                <span class="k">break</span>
                        <span class="n">hn</span> <span class="o">=</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
                        <span class="n">ncon</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">hn</span><span class="p">,</span><span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
                        
                            
                        <span class="c">#print &quot;Could not connect loop.&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cluster</span><span class="p">)):</span> 
            <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]):</span>
                <span class="n">p1_ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_l_index</span><span class="p">(</span><span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="n">u</span><span class="p">])</span>
                <span class="n">h1_ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_l_index</span><span class="p">(</span><span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">cluster</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">][</span><span class="n">u</span><span class="p">])</span>   
                
                <span class="c">#print lines_t[i][p1_ind] , lines_t[i][h1_ind]          </span>
                <span class="k">if</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">p1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">h1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]:</span>
                    <span class="c">#print &quot;One line in , one line out&quot;</span>
                    <span class="c">#print lines_t[i][p1_ind], lines_t[i][h1_ind]</span>
                    
                    <span class="c">#draw line lines_t[i][p1_ind]</span>
                    <span class="c">#begin = [self.t_pos[i][u],self.h_pos[hn/2]]</span>
                    <span class="c">#print &quot;HPOS:          &quot;, self.h_pos, hn/2, hn</span>
                    <span class="c">#print &quot;TPOS:          &quot;, self.t_pos,i,u</span>
                    <span class="c">#begin = [self.t_pos[i][u],self.h_pos[hn/2]] #X-vector</span>
                    <span class="c">#plot(begin, &quot;o&quot;)</span>
                    
                    <span class="k">if</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">p1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                        <span class="c">#print &quot;    Draw external particle&quot;</span>
                        <span class="n">ncon</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">exit_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="c">#end = [self.pos[1],self.pos[1]+2]</span>
                        <span class="c">#begin = [self.t_pos[i][u],self.t_pos[i][u]] #X-vector</span>
                        <span class="c">#self.draw_lines(1, begin,end, 1)</span>
                        <span class="c">#hn += 1                        </span>
                    <span class="k">if</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">p1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                        <span class="c">#print &quot;    Draw internal particle&quot;</span>
                        <span class="c">#Scan for available particle annihilator</span>
                        <span class="n">n</span> <span class="o">=</span> <span class="bp">None</span>
                        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">h_nodes</span><span class="p">)):</span>
                            <span class="k">if</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">probe_line_a</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
                                <span class="c">#Found loop</span>
                                <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">connect_line_a</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                                <span class="n">n</span> <span class="o">=</span><span class="n">t</span>
                                <span class="k">break</span>
                        <span class="n">hn</span> <span class="o">=</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
                        
                        <span class="n">ncon</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">hn</span><span class="p">,</span><span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
                        
                        
                        <span class="c">#begin = [self.t_pos[i][u],self.h_pos[hn/2]] #X-vector</span>
                        <span class="c">#end = [self.pos[1],self.pos[1]+1]</span>
                        <span class="c">#self.draw_lines(1, begin,end, 1)</span>
                        <span class="c">#hn += 1</span>
                    
                    <span class="k">if</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">h1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                        <span class="c">#print &quot;    Draw external hole&quot;</span>
                        <span class="n">ncon</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">exit_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=-</span> <span class="mi">1</span><span class="p">)</span>
                        <span class="c">#begin = [self.t_pos[i][u],self.t_pos[i][u]] #X-vector</span>
                        <span class="c">#end = [self.pos[1],self.pos[1]+2]</span>
                        <span class="c">#self.draw_lines(1, begin,end, -1)</span>
                        <span class="c">#hn += 1</span>
                    <span class="k">if</span> <span class="n">lines_t</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">h1_ind</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
                        <span class="c">#print &quot;    Draw internal hole&quot;</span>
                        
                        <span class="n">n</span> <span class="o">=</span> <span class="bp">None</span>
                        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">h_nodes</span><span class="p">)):</span>
                            <span class="k">if</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">probe_line_a</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                                <span class="c">#Found loop</span>
                                <span class="n">h_nodes</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">.</span><span class="n">connect_line_a</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                                <span class="n">n</span> <span class="o">=</span> <span class="n">t</span>
                                <span class="k">break</span>
                        <span class="n">hn</span> <span class="o">=</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>
                        <span class="n">ncon</span><span class="p">(</span><span class="n">t_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">u</span><span class="p">],</span><span class="n">hn</span><span class="p">,</span><span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                        
                        
                        <span class="c">#begin = [self.t_pos[i][u],self.h_pos[hn/2]] #X-vector</span>
                        <span class="c">#end = [self.pos[1],self.pos[1]+1]</span>
                        <span class="c">#self.draw_lines(1, begin,end, -1)</span>
                        <span class="c">#hn += 1</span>
                    <span class="c">#hn += 1</span>
        
        <span class="c">#Finally, we need to draw all lines exiting from the interaction</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">h_nodes</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">probe_line_c</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
                <span class="c">#create particle leaving the interaction</span>
                <span class="n">hn</span> <span class="o">=</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">ncon</span><span class="p">(</span><span class="n">hn</span><span class="p">,</span> <span class="n">hnode</span><span class="p">([</span><span class="n">hn</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">scale</span><span class="o">*</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">*</span><span class="n">scale</span><span class="p">],[],[]),</span> <span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">probe_line_c</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="c">#create particle leaving the interaction</span>
                <span class="n">hn</span> <span class="o">=</span> <span class="n">h_nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">ncon</span><span class="p">(</span><span class="n">hn</span><span class="p">,</span> <span class="n">hnode</span><span class="p">([</span><span class="n">hn</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">scale</span><span class="o">*</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">nc</span><span class="o">.</span><span class="n">y</span><span class="o">+</span><span class="mi">1</span><span class="o">*</span><span class="n">scale</span><span class="p">],[],[]),</span> <span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vis</span><span class="p">:</span>
            
            <span class="n">hold</span><span class="p">(</span><span class="s">&#39;off&#39;</span><span class="p">)</span>
            <span class="n">show</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">get_centered_pair</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="n">excluded</span><span class="p">):</span>
        <span class="c">#pops centered line pairs from list (particle/hole)</span>
        <span class="n">i1</span><span class="p">,</span><span class="n">i2</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="s">&quot;abcdefgh&quot;</span> <span class="ow">and</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="s">&quot;ijklmnop&quot;</span><span class="p">:</span>
                <span class="n">i1</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">i2</span> <span class="o">=</span> <span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">del</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">del</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">break</span>              
        <span class="k">return</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span>
        

    <span class="k">def</span> <span class="nf">draw_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">begin</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">ph</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
        <span class="n">n1</span> <span class="o">=</span> <span class="n">position</span><span class="p">(</span><span class="n">begin</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">begin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">n2</span> <span class="o">=</span> <span class="n">position</span><span class="p">(</span><span class="n">end</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">end</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">plot</span><span class="p">(</span><span class="n">begin</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">)</span>
            <span class="n">half_x</span> <span class="o">=</span> <span class="n">begin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">begin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">begin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">1.5</span>
            <span class="n">half_y</span> <span class="o">=</span> <span class="n">end</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">end</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">end</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">1.5</span>
            
            <span class="n">orient_x</span> <span class="o">=</span>  <span class="p">(</span><span class="n">begin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">begin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span>
            <span class="n">orient_y</span> <span class="o">=</span>  <span class="p">(</span><span class="n">end</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">end</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span>
            <span class="k">if</span> <span class="n">ph</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">draw_arrow</span><span class="p">([</span><span class="n">half_x</span><span class="p">,</span> <span class="n">half_y</span><span class="p">],[</span><span class="n">orient_x</span><span class="p">,</span> <span class="n">orient_y</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">ph</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">draw_arrow</span><span class="p">([</span><span class="n">half_x</span><span class="p">,</span> <span class="n">half_y</span><span class="p">],[</span><span class="o">-</span><span class="n">orient_x</span><span class="p">,</span> <span class="o">-</span><span class="n">orient_y</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">order</span> <span class="o">%</span><span class="k">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c">#draw pairs of lines</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">order</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span>
                <span class="n">ncon</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span><span class="n">n2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">ncon</span><span class="p">(</span><span class="n">n2</span><span class="p">,</span><span class="n">n1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="c">#print 0</span>
        <span class="k">if</span> <span class="n">order</span> <span class="o">%</span><span class="k">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c">#print &quot;draw straight line and pairs&quot;</span>
            <span class="k">print</span> <span class="s">&quot;&quot;</span>
            
    <span class="k">def</span> <span class="nf">get_l_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="n">i</span>
        <span class="k">return</span> <span class="n">ret</span>
    <span class="k">def</span> <span class="nf">get_t_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">To</span><span class="p">,</span> <span class="n">target</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">To</span><span class="p">)):</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">To</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
                <span class="k">if</span> <span class="n">To</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">e</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                    <span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">e</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">get_h_index</span><span class="p">(</span><span class="n">sefl</span><span class="p">,</span><span class="n">Ho</span><span class="p">,</span><span class="n">target</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Ho</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">Ho</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="n">i</span>
        <span class="k">return</span> <span class="n">ret</span>

<span class="k">class</span> <span class="nc">position</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>

<span class="k">class</span> <span class="nc">hnode</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">q_c</span><span class="p">,</span> <span class="n">q_a</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">q_c</span> <span class="o">=</span> <span class="n">q_c</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">q_a</span> <span class="o">=</span> <span class="n">q_a</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c_connections</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
        <span class="c">#particles, holes</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_c</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_connections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">c_connections</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_a</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">def</span> <span class="nf">probe_loop_a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c">#Probe annihilation for available loop connection</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span> <span class="c">#A connection is possible</span>
        <span class="k">return</span> <span class="n">ret</span>
    <span class="k">def</span> <span class="nf">probe_line_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linetype</span><span class="p">):</span>
        <span class="c">#Probe annihilation for </span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">linetype</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="c">#scan for holw</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="n">linetype</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c">#scan for particle</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="n">ret</span>
    <span class="k">def</span> <span class="nf">probe_line_c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linetype</span><span class="p">):</span>
        <span class="c">#Probe annihilation for </span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">linetype</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="c">#scan for holw</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_connections</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="n">linetype</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c">#scan for particle</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_connections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">ret</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="n">ret</span>               

    <span class="k">def</span> <span class="nf">connect_loop_a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">probe_loop_a</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">def</span> <span class="nf">connect_line_a</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linetype</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">probe_line_a</span><span class="p">(</span><span class="n">linetype</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">linetype</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">linetype</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">a_connections</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
                
        
            
            
        
        
                
        

<span class="k">def</span> <span class="nf">nconnect</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span><span class="n">n2</span><span class="p">,</span><span class="n">S</span><span class="p">,</span><span class="n">order</span><span class="o">=</span><span class="s">&quot;l0&quot;</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
    <span class="n">N</span> <span class="o">=</span> <span class="mi">60</span>

    <span class="n">Phx</span> <span class="o">=</span> <span class="p">(</span><span class="n">n1</span><span class="o">.</span><span class="n">x</span><span class="o">+</span><span class="n">n2</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span>
    <span class="n">Phy</span> <span class="o">=</span> <span class="p">(</span><span class="n">n1</span><span class="o">.</span><span class="n">y</span><span class="o">+</span><span class="n">n2</span><span class="o">.</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span>
    
    <span class="n">lP</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">((</span><span class="n">n2</span><span class="o">.</span><span class="n">x</span><span class="o">-</span><span class="n">n1</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">n2</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="n">n1</span><span class="o">.</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">dPx</span> <span class="o">=</span> <span class="p">(</span><span class="n">n2</span><span class="o">.</span><span class="n">x</span><span class="o">-</span><span class="n">n1</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">lP</span>    
    <span class="n">dPy</span> <span class="o">=</span> <span class="p">(</span><span class="n">n2</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="n">n1</span><span class="o">.</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">lP</span>
    
    <span class="n">Cx</span> <span class="o">=</span> <span class="n">Phx</span> <span class="o">-</span> <span class="n">S</span><span class="o">*</span><span class="n">dPy</span>
    <span class="n">Cy</span> <span class="o">=</span> <span class="n">Phy</span> <span class="o">+</span> <span class="n">S</span><span class="o">*</span><span class="n">dPx</span>  
    
    
    <span class="n">lC</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">((</span><span class="n">S</span><span class="o">*</span><span class="n">dPy</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">S</span><span class="o">*</span><span class="n">dPx</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="c">#node(Phx,Phy, c=&quot;blue&quot;)</span>
    <span class="c">#node(Cx,Cy, c=&quot;red&quot;)</span>
    <span class="n">R</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">((</span><span class="n">Cx</span><span class="o">-</span><span class="n">n1</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">Cy</span><span class="o">-</span><span class="n">n1</span><span class="o">.</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">lPC0</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(((</span><span class="n">Cx</span><span class="o">+</span><span class="n">R</span><span class="p">)</span><span class="o">-</span><span class="n">n1</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">Cy</span> <span class="o">-</span> <span class="n">n1</span><span class="o">.</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">lPC1</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(((</span><span class="n">Cx</span><span class="o">+</span><span class="n">R</span><span class="p">)</span><span class="o">-</span><span class="n">n2</span><span class="o">.</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">Cy</span> <span class="o">-</span> <span class="n">n2</span><span class="o">.</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">dalpha</span> <span class="o">=</span> <span class="n">arccos</span><span class="p">((</span><span class="mi">2</span><span class="o">*</span><span class="n">R</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">lP</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mf">2.0</span><span class="o">*</span><span class="n">R</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>

    
    <span class="n">CPx</span> <span class="o">=</span> <span class="n">n1</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">Cx</span>
    <span class="n">CPy</span> <span class="o">=</span> <span class="n">n1</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">Cy</span>
    <span class="n">X</span><span class="p">,</span><span class="n">Y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
    <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="s">&quot;0&quot;</span><span class="p">:</span>
        <span class="c">#X = [n1.x, n2.x]</span>
        <span class="c">#Y = [n1.y, n2.y]</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="n">n1</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">n2</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="c">#need to do this to get arrows working</span>
        <span class="n">Y</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="n">n1</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">n2</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="s">&quot;l0&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">S</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">dalpha</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">dalpha</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">dalpha</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
        <span class="n">X</span><span class="p">,</span><span class="n">Y</span> <span class="o">=</span> <span class="n">rotate_v</span><span class="p">(</span><span class="n">CPx</span><span class="p">,</span><span class="n">CPy</span><span class="p">,</span><span class="n">A</span><span class="p">)</span>
        <span class="n">X</span><span class="o">+=</span><span class="n">Cx</span>
        <span class="n">Y</span><span class="o">+=</span><span class="n">Cy</span>
    <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="s">&quot;r0&quot;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">S</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">dalpha</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span> <span class="o">-</span> <span class="n">dalpha</span>      
        <span class="n">A</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="n">dalpha</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
        <span class="n">X</span><span class="p">,</span><span class="n">Y</span> <span class="o">=</span> <span class="n">rotate_v</span><span class="p">(</span><span class="n">CPx</span><span class="p">,</span><span class="n">CPy</span><span class="p">,</span><span class="n">A</span><span class="p">)</span>
        <span class="n">X</span><span class="o">+=</span><span class="n">Cx</span>
        <span class="n">Y</span><span class="o">+=</span><span class="n">Cy</span>
        
    <span class="n">msize</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="k">if</span> <span class="n">p_h</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">draw_arrow</span><span class="p">([</span><span class="n">X</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">],</span><span class="n">Y</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="o">-</span><span class="n">dPx</span><span class="p">,</span><span class="o">-</span><span class="n">dPy</span><span class="p">])</span>
        <span class="c">#X[len(X)/2],Y[len(X)/2]</span>
        <span class="c">#plot(X[len(X)/2],Y[len(X)/2], &quot;^&quot;, color = &quot;black&quot;, markersize = msize)</span>
    <span class="k">if</span> <span class="n">p_h</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">draw_arrow</span><span class="p">([</span><span class="n">X</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">],</span><span class="n">Y</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[</span><span class="n">dPx</span><span class="p">,</span><span class="n">dPy</span><span class="p">])</span>
        <span class="c">#plot(X[len(X)/2],Y[len(X)/2], &quot;v&quot;, color = &quot;black&quot;, markersize = msize)</span>
    <span class="n">plot</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">)</span>
    
<span class="k">def</span> <span class="nf">ncon</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span><span class="n">n2</span><span class="p">,</span><span class="n">order</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">p_h</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">order</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">nconnect</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span><span class="n">n2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;0&quot;</span><span class="p">,</span> <span class="n">p_h</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">order</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">nconnect</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span><span class="n">n2</span><span class="p">,(</span><span class="o">-</span><span class="mi">2</span><span class="o">+</span><span class="n">order</span><span class="p">),</span><span class="s">&quot;l0&quot;</span><span class="p">,</span> <span class="n">p_h</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">order</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">nconnect</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span><span class="n">n2</span><span class="p">,(</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="n">order</span><span class="p">),</span><span class="s">&quot;r0&quot;</span><span class="p">,</span> <span class="n">p_h</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw_arrow</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="o">.</span><span class="mi">1</span><span class="p">):</span>
    <span class="c">#Draw an arrow at pos, pointing in the direction of point.</span>
    <span class="c">#normalize direction</span>
    <span class="n">p2</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">point</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">point</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">point</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/=</span> <span class="n">p2</span>
    <span class="n">point</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/=</span> <span class="n">p2</span>
    
    <span class="c">#pi/2 degree rotation</span>
    <span class="n">p_rotx</span><span class="p">,</span> <span class="n">p_roty</span> <span class="o">=</span> <span class="n">point</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="o">-</span><span class="n">point</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">s</span><span class="o">*</span><span class="n">point</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">s</span><span class="o">*</span><span class="n">point</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="c">#plot the arrow</span>
    <span class="n">plot</span><span class="p">([</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="o">+</span><span class="n">h</span><span class="o">*</span><span class="n">p_rotx</span><span class="p">],[</span><span class="n">y0</span><span class="p">,</span> <span class="n">y1</span><span class="o">+</span><span class="n">h</span><span class="o">*</span><span class="n">p_roty</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">)</span>
    <span class="n">plot</span><span class="p">([</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="o">-</span><span class="n">h</span><span class="o">*</span><span class="n">p_rotx</span><span class="p">],[</span><span class="n">y0</span><span class="p">,</span> <span class="n">y1</span><span class="o">-</span><span class="n">h</span><span class="o">*</span><span class="n">p_roty</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">)</span>
                
<span class="k">def</span> <span class="nf">rotate_v</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">alpha</span><span class="p">):</span>
    <span class="n">ca</span> <span class="o">=</span> <span class="n">cos</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
    <span class="n">sa</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ca</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="n">sa</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">sa</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">ca</span><span class="o">*</span><span class="n">y</span>            
    
        
<span class="k">def</span> <span class="nf">normal_ordered_hamiltonian</span><span class="p">():</span>
    <span class="c">#Two particle hamiltonian</span>
    <span class="n">F1</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">F2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">F3</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">F4</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[])</span>
    
    <span class="n">V1</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">V2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">V3</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    
    <span class="n">V4</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">V5</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
    
    <span class="n">V7</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">V6</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">V9</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[])</span>
    <span class="n">V8</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">F1</span><span class="p">,</span><span class="n">F2</span><span class="p">,</span><span class="n">F3</span><span class="p">,</span><span class="n">F4</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">V3</span><span class="p">,</span><span class="n">V4</span><span class="p">,</span><span class="n">V5</span><span class="p">,</span><span class="n">V6</span><span class="p">,</span><span class="n">V7</span><span class="p">,</span><span class="n">V8</span><span class="p">,</span><span class="n">V9</span><span class="p">]</span>                     


<span class="k">def</span> <span class="nf">cluster_operator_old</span><span class="p">(</span><span class="n">configuration</span><span class="p">):</span>
    <span class="c">#configuration =[]</span>
    <span class="n">T1</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T2</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T3</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T4</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T5</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">T3</span><span class="p">,</span> <span class="n">T4</span><span class="p">,</span> <span class="n">T5</span><span class="p">]</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">configuration</span><span class="p">:</span>
        <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">T_list</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="k">def</span> <span class="nf">cluster_operator</span><span class="p">(</span><span class="n">configuration</span><span class="p">):</span>
    <span class="c">#configuration =[]</span>
    <span class="n">T1</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T2</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T3</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T4</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T5</span><span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">T_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">T1</span><span class="p">,</span> <span class="n">T2</span><span class="p">,</span> <span class="n">T3</span><span class="p">,</span> <span class="n">T4</span><span class="p">,</span> <span class="n">T5</span><span class="p">]</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">configuration</span><span class="p">:</span>
        <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">T_list</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
    <span class="k">return</span> <span class="n">ret</span>

<span class="k">class</span> <span class="nc">O</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">T</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;CC&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">H</span> <span class="o">=</span> <span class="n">H</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">T</span> <span class="o">=</span> <span class="n">T</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diagrams</span> <span class="o">=</span> <span class="n">contract</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Ndiag</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">diagrams</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">schematics</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stringforms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cppcodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reports</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">subindex</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="s">&quot;b&quot;</span><span class="p">,</span><span class="s">&quot;c&quot;</span><span class="p">,</span><span class="s">&quot;d&quot;</span><span class="p">,</span><span class="s">&quot;e&quot;</span><span class="p">,</span><span class="s">&quot;f&quot;</span><span class="p">,</span><span class="s">&quot;g&quot;</span><span class="p">,</span><span class="s">&quot;h&quot;</span><span class="p">,</span><span class="s">&quot;i&quot;</span><span class="p">,</span><span class="s">&quot;j&quot;</span><span class="p">,</span><span class="s">&quot;k&quot;</span><span class="p">,</span><span class="s">&quot;l&quot;</span><span class="p">,</span><span class="s">&quot;m&quot;</span><span class="p">,</span><span class="s">&quot;n&quot;</span><span class="p">,</span><span class="s">&quot;o&quot;</span><span class="p">,</span><span class="s">&quot;p&quot;</span><span class="p">,</span><span class="s">&quot;q&quot;</span><span class="p">,</span><span class="s">&quot;r&quot;</span><span class="p">,</span><span class="s">&quot;s&quot;</span><span class="p">,</span><span class="s">&quot;t&quot;</span><span class="p">,</span><span class="s">&quot;u&quot;</span><span class="p">,</span><span class="s">&quot;v&quot;</span><span class="p">,</span><span class="s">&quot;x&quot;</span><span class="p">,</span><span class="s">&quot;y&quot;</span><span class="p">,</span><span class="s">&quot;z&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagrams</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schematics</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">schematic</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">schematics</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schematics</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schematics</span><span class="p">)):</span>
            
            <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">schematics</span><span class="p">[</span><span class="n">e</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reports</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">report</span><span class="p">())</span>
            <span class="c">#name = self.name+&quot;%i&quot; %e</span>
            <span class="n">sym</span> <span class="o">=</span> <span class="n">symbolic_diag</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="n">subindex</span><span class="p">[</span><span class="n">e</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stringforms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sym</span><span class="o">.</span><span class="n">stringform</span><span class="p">)</span>
            <span class="n">CPPc</span> <span class="o">=</span> <span class="n">cpp_func</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="n">subindex</span><span class="p">[</span><span class="n">e</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cppcodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CPPc</span><span class="o">.</span><span class="n">cppfunction</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">E</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="n">E</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">E</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">)):</span>
            <span class="n">E</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">E</span>
        <span class="k">return</span> <span class="n">E</span>
            
    <span class="k">def</span> <span class="nf">latex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">stringforms</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot;Invalid index given:&quot;</span><span class="p">,</span> <span class="n">i</span>
            <span class="k">print</span> <span class="s">&quot;There are only </span><span class="si">%i</span><span class="s"> diagrams in this contraction.&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">N</span>
        <span class="k">return</span> <span class="n">ret</span>
    <span class="k">def</span> <span class="nf">code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cppcodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot;Invalid index given:&quot;</span><span class="p">,</span> <span class="n">i</span>
            <span class="k">print</span> <span class="s">&quot;There are only </span><span class="si">%i</span><span class="s"> diagrams in this contraction.&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">N</span>
        <span class="k">return</span> <span class="n">ret</span>
    <span class="k">def</span> <span class="nf">diagram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">i</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">vis</span> <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dia</span> <span class="o">=</span> <span class="n">feynman_diag</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">schematics</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s">&quot;D9&quot;</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">vis</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot;Invalid index given:&quot;</span><span class="p">,</span> <span class="n">i</span>
            <span class="k">print</span> <span class="s">&quot;There are only </span><span class="si">%i</span><span class="s"> diagrams in this contraction.&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">N</span>
    <span class="k">def</span> <span class="nf">report</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reports</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot;Invalid index given:&quot;</span><span class="p">,</span> <span class="n">i</span>
            <span class="k">print</span> <span class="s">&quot;There are only </span><span class="si">%i</span><span class="s"> reports in this contraction.&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">N</span>
        <span class="k">return</span> <span class="n">ret</span>            

<span class="k">def</span> <span class="nf">list_mult</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="c">#multiply two lists</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">A</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">B</span><span class="p">:</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">e</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ret</span>


<span class="k">def</span> <span class="nf">list_pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="c">#Return list to the power of n</span>
    <span class="n">th</span> <span class="o">=</span> <span class="n">T</span>
    <span class="n">g</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">th</span> <span class="o">=</span> <span class="n">list_mult</span><span class="p">(</span><span class="n">th</span><span class="p">,</span><span class="n">T</span><span class="p">)</span>
        <span class="n">g</span><span class="o">=</span><span class="n">th</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">g</span> <span class="o">=</span> <span class="n">T</span>
    <span class="k">return</span> <span class="n">g</span>
            
<span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">N</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">N</span><span class="o">*=</span><span class="n">i</span>
    <span class="k">return</span> <span class="n">N</span>

<span class="k">def</span> <span class="nf">expand_ansatz</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="c">#Taylor expand the exponential ansazt (exp(list(t-operatrs))) to a given truncation (n+1)</span>
    <span class="n">expanded_eT</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">prefactors</span>  <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> <span class="c">#ignore i=0 -&gt; uncorrelated energy</span>
        <span class="n">elem</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">prefactors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="c"># (**-1) inverted</span>
        <span class="n">expT</span> <span class="o">=</span> <span class="n">list_pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
        <span class="n">expanded_eT</span><span class="o">+=</span><span class="n">expT</span>
    <span class="k">return</span> <span class="n">expanded_eT</span>

<span class="k">def</span> <span class="nf">combine_to_excitation</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">T</span><span class="p">,</span><span class="n">E</span><span class="p">,</span> <span class="n">config</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
    <span class="c">#Find combinations of operator elements in H, T that produce excitation level i</span>
    <span class="n">skew</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">tex</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">H</span><span class="p">)):</span>
        <span class="n">shift</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">T</span><span class="p">)):</span>
            <span class="c">#print h, i</span>
            <span class="c">#print H</span>
            <span class="n">target_e</span> <span class="o">=</span> <span class="n">H</span><span class="p">[</span><span class="n">h</span><span class="p">]</span><span class="o">.</span><span class="n">excitation</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">target_e</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">excitation</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">target_e</span> <span class="o">==</span> <span class="n">E</span><span class="p">:</span>
                <span class="c">#print h,i</span>
                <span class="n">stringname</span> <span class="o">=</span> <span class="s">&quot;CC</span><span class="si">%i</span><span class="s">_</span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
                <span class="n">contr</span> <span class="o">=</span> <span class="n">O</span><span class="p">(</span><span class="n">H</span><span class="p">[</span><span class="n">h</span><span class="p">],</span><span class="n">T</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">name</span> <span class="o">=</span> <span class="n">stringname</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">contr</span><span class="o">.</span><span class="n">E</span><span class="p">()</span> <span class="o">==</span> <span class="n">E</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">contr</span><span class="o">.</span><span class="n">Ndiag</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="n">tx</span> <span class="o">=</span> <span class="n">contr</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                            <span class="c">#Math(tx)</span>
                            <span class="c">#print tx</span>
                            <span class="n">tex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="n">contr</span><span class="o">.</span><span class="n">diagram</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="o">*</span><span class="n">h</span><span class="p">,</span><span class="n">shift</span><span class="p">],</span> <span class="bp">True</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                            <span class="n">contr</span><span class="o">.</span><span class="n">diagram</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="o">*</span><span class="n">h</span><span class="p">,</span><span class="n">shift</span><span class="p">],</span> <span class="bp">False</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="k">print</span> <span class="n">contr</span><span class="o">.</span><span class="n">code</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                            <span class="k">print</span> <span class="n">contr</span><span class="o">.</span><span class="n">reports</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                            
                        <span class="n">shift</span> <span class="o">+=</span> <span class="mi">4</span>
    <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">axes</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">,</span> <span class="s">&#39;datalim&#39;</span><span class="p">)</span>
        <span class="n">show</span><span class="p">()</span>
        
    <span class="k">return</span> <span class="n">tex</span>
       
<span class="k">def</span> <span class="nf">combine_all</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">T</span><span class="p">,</span> <span class="n">config</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]):</span>
    <span class="c">#Find combinations of operator elements in H, T that produce excitation level i</span>
    <span class="n">tex</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">H</span><span class="p">)):</span>
        <span class="n">shift</span> <span class="o">=</span> <span class="mi">0</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">expT</span><span class="p">)):</span>
            <span class="c">#print h, i</span>
            <span class="n">contr</span> <span class="o">=</span> <span class="n">O</span><span class="p">(</span><span class="n">H</span><span class="p">[</span><span class="n">h</span><span class="p">],</span><span class="n">expT</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">contr</span><span class="o">.</span><span class="n">Ndiag</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">tx</span> <span class="o">=</span> <span class="n">contr</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="c">#print tx</span>
                    <span class="n">tex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">tx</span> <span class="o">=</span> <span class="n">contr</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                    <span class="n">tex</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tx</span><span class="p">)</span>                    
                <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">contr</span><span class="o">.</span><span class="n">diagram</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="o">*</span><span class="n">h</span><span class="p">,</span><span class="n">shift</span><span class="p">],</span> <span class="bp">True</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">contr</span><span class="o">.</span><span class="n">diagram</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="o">*</span><span class="n">h</span><span class="p">,</span><span class="n">shift</span><span class="p">],</span> <span class="bp">False</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">contr</span><span class="o">.</span><span class="n">code</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            
                    
                <span class="n">shift</span><span class="o">+=</span> <span class="mi">4</span>
            <span class="k">del</span><span class="p">(</span><span class="n">contr</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">config</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">axes</span><span class="p">()</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s">&#39;equal&#39;</span><span class="p">,</span> <span class="s">&#39;datalim&#39;</span><span class="p">)</span>
        <span class="n">show</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">tex</span>
</pre></div>

</div>
</div>
</div>

</div>
    </div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<head>
    <meta charset="utf-8">
    <title>Reveal.js 3 Slide Demo</title>
    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/beige.css" id="theme"><br>    <!--Add support for earlier versions of Internet Explorer -->
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="the-coupled-cluster-method-">The Coupled Cluster method:</h1>
<h2 id="motivation-derivation-and-applications">Motivation, derivation and applications</h2>
<p>Exam presentation | Audun Skau Hansen | UiO |  December 18th 2014</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="motivating-the-coupled-cluster-method">Motivating the Coupled Cluster method</h1>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-problem">The problem</h2>
<ul>
<li>We have a system of interacting fermions, possibly in a common potential.</li>
<li>We seek a wavefunction that describes and gives us the properties of this system:<ul>
<li>Energy:<ul>
<li>Ground state</li>
<li>Ionization</li>
<li>Excited states</li>
</ul>
</li>
<li>Fermionic density distribution</li>
<li>Observables</li>
</ul>
</li>
</ul>
</div>
</div>
</div><div class="fragment">
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="interact.png" alt="interaction"></p>
</div>
</div>
</div>
    </div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-strategy">The strategy</h2>
<ul>
<li>We formulate a strategy for solving this problem:<ul>
<li>We seek a general wavefunction that is a solution to the time-independent nonrelativistic Schrödinger equation.</li>
<li>The wavefunction must then<ul>
<li>behave according to experiment.</li>
<li>behave according to the postulates of QM</li>
</ul>
</li>
<li>We will employ the variational principle to optimize this general wavefunction.</li>
<li>We will then seek methods that improve upon this first approximation.</li>
</ul>
</li>
<li>In the process, a number of assumptions about the problem will be made.</li>
</ul>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="many-particle-wavefunctions">Many particle wavefunctions</h2>
<ul>
<li>We have a wavefunction assosciated with the system:
$$ |\Psi \rangle $$</li>
<li>We also have wavefunctions assosciated with each fermion
$$ |\psi_i(x_i) \rangle $$
for the $i$th fermion, centered at $x_i$.</li>
</ul>
<hr>
<p>It is reasonable to assume that the systems wavefunction will be a function of each fermionic function:
$$ |\Psi \rangle = |\Psi(\psi_0(x_0), \psi_1(x_1), ..., \psi_N(x_N))\rangle $$</p>
<hr>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="composite-systems-i">Composite systems I</h2>
<ul>
<li>Each constituent fermionic wavefunction exists in Hilbert space.</li>
<li>Each constituent fermionic wavefunction is a solution to the corresponding one-body problem (where all other fermions are removed).</li>
<li>The composite system will have a state space existing in the space spanned by the tensor product of each constituent space</li>
</ul>
<p>$$\mathcal{H}_1 \otimes \mathcal{H}_2 \otimes \mathcal{H}_3 \otimes ... $$</p>
<ul>
<li>A subspace of the above tensor product might also suffice for the composite system. </li>
</ul>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="composite-systems-ii">Composite systems II</h2>
<p>When setting up a composite system for a number of subsystems, we then naturally assume</p>
<p>$$\Psi_h  = \psi_0 \otimes \psi_1 \otimes ... = \psi_0(x_0) \psi_1(x_1) ... $$
  This is called the <em>Hartree function</em> or <em>-product</em>. (All individual quantum numbers are contained in $x_n$)</p>
<p>The Hartree product is completely <em>uncorrelated</em>, meaning that the probability of finding fermions simultaneously at locations $x_0,x_1,...$ is simply</p>
<p>$$|\psi_i(x_0)\psi_j(x_1)...|^2 dx_0 dx_1 ... = |\psi_i(x_0)|^2 dx_0 |\psi_j(x_1)|^2 dx_2 ...$$</p>
<p>i.e. the product of each constituent particle wavefunction squared. The motion of these particles is independent of each other.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="indistinguishability">Indistinguishability</h2>
<ul>
<li>Fermions are experimentally known to be identical particles with half integer spin.</li>
<li>Being <em>identical</em> is equivalent to being experimentally <em>indistinguishable</em>. [1]</li>
<li>To take this into account, we must assume that the composite wavefunction is the same for all possible permutations of particles</li>
</ul>
<p>$$ \Psi_p = \frac{1}{N} \sum_{i&lt;j} P_{ij} \Psi_h   $$</p>
<p>Where P is the permutation operator and N is some normalizing factor.</p>
<p>(If we consider identical particle wavefunctions with identical quantum numbers, this property is already inherent in the Hartree function, since any permutation will just yield an equivalent expression of the Hartree function.)</p>
<p><strong>Consequence:</strong></p>
<ul>
<li>The systems wavefunction may be considered a linear combination of spatially permuted states; measurement will be unaffected by permutations.</li>
</ul>
<p><em>[1] An exception is when fermions are being prepared prior to experiment, for example by being given opposite momentum.</em></p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-pauli-exclusion-principle">The Pauli Exclusion Principle</h2>
<p>We know from experiment that identical fermions obey the Pauli principle:</p>
<ul>
<li><strong>Assumtion: No two identical fermions may occupy the same QM state.</strong></li>
</ul>
<p>At least no exception for this principle has been found. [Citation]</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="taking-the-pauli-principle-into-account-i">Taking the Pauli Principle into account I</h2>
<p>The composite function should fulfill</p>
<p>$$ \langle \Psi | \Psi \rangle = 0$$</p>
<p>when constituent particles have identical quantum numbers. The permuted Hartree function does not fulfill this condition, as can be seen by considering two particles with the same quantum numbers:</p>
<p>$$ \Psi(a,b) = \frac{1}{\sqrt{2}} (\psi_a(a) \psi_b(b) + \psi_a(b)\psi_b(a)) $$</p>
<p>$$ \rightarrow \langle \Psi(a,a) | \Psi(a,a) \rangle \neq 0 $$</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="taking-the-pauli-principle-into-account-ii">Taking the Pauli Principle into account II</h2>
<p>If we instead consider the <em>antisymmetric</em> linear combination of permuted states:</p>
<p>$$ \Psi(a, b) = \frac{1}{\sqrt{2}}(\psi_a(a)\psi_b(b) - \psi_a(b)\psi_b(a)) $$</p>
<p>we will find that the wavefunction behaves as we want it to:</p>
<p>$$ \langle \Psi(a,a) | \Psi(a,a) \rangle = 0$$</p>
<p>$$ |\Psi(a,b)|^2 dx_a dx_b = |-\Psi(b,a)|^2 dx_a dx_b $$</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-slater-determinant-sd-">The Slater Determinant (SD)</h2>
<p>The results so far is generalized in the Slater determinant:</p>
<p>$$\Psi_{SD} (\mathbf{x_1},\mathbf{x_2},...,\mathbf{x_N}) =  \
\frac{1}{\sqrt{N!}}
 \begin{vmatrix}
  \psi_1(\mathbf{x_1}) &amp; \psi_2(\mathbf{x_1}) &amp; \cdots &amp; \psi_N(\mathbf{x_1}) \\
  \psi_1(\mathbf{x_2}) &amp; \psi_2(\mathbf{x_2}) &amp; \cdots &amp; \psi_N(\mathbf{x_2}) \\
  \vdots               &amp; \vdots               &amp; \ddots &amp; \vdots               \\
  \psi_1(\mathbf{x_N}) &amp; \psi_2(\mathbf{x_N}) &amp; \cdots &amp; \psi_N(\mathbf{x_N}) \\
 \end{vmatrix} 
$$</p>
<p>Another equivalent notation for the SD is to use the antisymmetrizer</p>
<p>$$ \Psi_{SD} = \frac{1}{\sqrt{N!}}(-)^p \hat{P} \prod_{i=1}^N \psi_i(x_i) \equiv \sqrt{N!} \mathcal{A} \Psi_h $$</p>
<p>This notation makes it easier to manipulate the expressions involved.</p>
<p><strong>Some observations:</strong></p>
<ul>
<li>Given that the constituent wavefunctions fulfills the Scrödinger equation for the system, so will the SD built by these functions.</li>
<li>For an infinite single-particle basis, we may construct an infinite number of SD&#39;s.</li>
<li>In the limit of an infinite number of SD&#39;s, any N-fermion function can be represented exactly.</li>
</ul>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-fermi-vacuum">The Fermi Vacuum</h2>
<p>Each single particle wavefunction will typically have a groundstate, and a possibly infinite number of excited states. </p>
<p>The system as a whole will also have energy levels (&quot;orbitals&quot;) that may be occupied by particles.</p>
<p>In the case where the N particle SD is built from the N lowest wavefunctions in the many body problem, we may define the Fermi level to be the energy level above the highest energy state in the SD.</p>
<p>In this context, we often refer to the SD as the <em>reference state</em>, and denote it by $ |\Psi_0 \rangle   $</p>
<p>An excited SD may then be constructed by replacing one of the states below the Fermi level with one above. In the particle-hole formalism, this means to create particle-hole state. </p>
<p>A notation that is often used for such excitations is</p>
<p>$$ a^{\dagger}_a a_i |\Psi_0\rangle = |\Psi_i^a \rangle   $$</p>
<p>Where a fermion is removed from state $i$ (below F) and placed in state $a$ (above F). </p>
<p>For states above the Fermi level; abcd...</p>
<p>For states below the Fermi level; ijkl...</p>
<p>For all states; pqrs...</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-exact-wavefunction">The exact wavefunction</h2>
<p>We may assume that there exists some operator that transforms one single SD built of an infinite single particle basis into the exact wavefunction:</p>
<p>$$ \Phi = \hat{\Omega} \Psi_{SD} $$</p>
<p>One possibility for an infinite basis set, is to find and expansion of excited SD&#39;s that exactly represents the system</p>
<p>$$ \Phi =  |\Psi_0\rangle + \sum_{ai} c_{i}^a | \Psi_i^a \rangle +  \sum_{abij} c_{ij}^{ab} | \Psi_{ij}^{ab} \rangle + ...$$</p>
<p>In this case</p>
<p>$$ \Omega = (1+ \hat{C} + \hat{C}_2 + ...) $$</p>
<p>This approach is called Full CI, and is unattainable whitout any truncation in the basis set or number of excitations.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-schr-dinger-equation">The Schrödinger Equation</h2>
<p>The nonrelativistic time-independent Schrödinger equation is:</p>
<p>$$ H|\Psi_{SD} \rangle = E |\Psi_{SD} \rangle$$</p>
<ul>
<li>We may have a number of contributions to the hamiltonian:<ul>
<li>Fermion-fermion interaction</li>
<li>Fermion-potential interaction</li>
<li>Internal contributions from the common potential</li>
<li>Kinetic energy</li>
</ul>
</li>
</ul>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-variational-principle">The Variational Principle</h2>
<p>The standard procedure when evaluating the energy of a solution to the Schrödinger equation is to multiply by $\langle \Psi_{0}|$ from the left:</p>
<p>$$E_0 \leq \langle \Psi_{0} |H|\Psi_{0} \rangle $$</p>
<p>Note that because the single SD is only an approximation to the solution, we only find an upper limit to the ground state energy. </p>
<p>The <em>variational principle</em> states that any function will be an upper limit to the ground state energy.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="considering-spin">Considering Spin</h2>
<p>We have previously mentioned that fermions in general have half-integer spin. This will affect our system:</p>
<ul>
<li>It doubles the number of states accessible to the fermions.</li>
<li>Opposite-spin states are orthogonal to each other.</li>
</ul>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="interactions">Interactions</h2>
<p>The particles in the system might be subject to a number of interactions that must be included in the energy expression.</p>
<p>These are generally referred to as N-body operators, where N relate to the number of particles involved in the interaction.</p>
<p>We may formulate these as operators acting on only certain particles in the product states:</p>
<p><strong>One-body operator</strong></p>
<p>$$ \hat{F} = \sum_p \hat{f}(x_p) $$</p>
<p>Meaning that it only affects particle with quantum numbers $x_p$.</p>
<p><strong>Two-body operator</strong></p>
<p>$$ \hat{V} = \sum_{pq} \hat{v}(x_p,x_q) $$</p>
<p>And so on.</p>
<p>The interaction with a external potential field[3] is an example of a one-body operator, while an interaction between the fermions is an example of a two-body operator. </p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="interactions">Interactions</h2>
<p>The particles in the system might be subject to a number of interactions that must be included in the energy expression.</p>
<p>These are generally referred to as N-body operators, where N relate to the number of particles involved in the interaction.</p>
<p>We may formulate these as operators acting on only certain particles in the product:</p>
<p><strong>One-body operator</strong></p>
<p>On second quantized form, a general one body operator is written</p>
<p>$$ \sum_{pq} f^p_q \hat{a}_p^\dagger \hat{a}_q $$</p>
<p><strong>Two-body operator</strong></p>
<p>On second quantized form, a general two body operator is</p>
<p>$$ \hat{V} = \sum_{pqrs} v^{pq}_{rs} \hat{a}_p^\dagger \hat{a}_q^\dagger \hat{a}_r \hat{a}_s $$</p>
<p>And so on.</p>
<p>The interaction with a external potential field[3] is an example of a one-body operator, while an interaction between the fermions is an example of a two-body operator. </p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="calculating-the-ground-state-energy-i">Calculating the ground state energy I</h2>
<p>Using properties of the antisymmetrizer, we find that</p>
<p>$$ E_0 = \langle \sqrt{N!} \mathcal{A} \Psi_h |\hat{H} | \sqrt{N!} \mathcal{A} \Psi_h \rangle = N! \langle \Psi_h | \hat{H}|\mathcal{A}^2 \Psi_h \rangle = N! \langle \Psi_h | \hat{H}|\mathcal{A} \Psi_h \rangle = \langle \Psi_h | \hat{H}| \Psi_{0} \rangle$$</p>
<p>When evaluating the one-body part of the energy of the slater determinant, we therefore must evaluate expressions of the form</p>
<p>$$ \langle \Psi_h|\hat{F} | \Psi_{0}\rangle = \sum_{p} \langle \Psi_h| f^p_p f(x_p) | \Psi_{0}\rangle = \sum_i f^i_i = \sum_i^N \epsilon_i $$</p>
<p>This is just the sum over each single particle energy, and follows from the orthogonality of the products in the reference state.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="calculating-the-ground-state-energy-ii">Calculating the ground state energy II</h2>
<p>In the case of two-body interactions, we must also consider cases of one permutation in the reference state:</p>
<p>$$ \langle \Psi_h|\hat{V} | \Psi_{0} \rangle = \sum_{pq} \langle \Psi_h  | v^{pq}_{rs} \hat{v}(x_p,x_q) | \Psi_0 \rangle = \langle i j | ( 1 - P_{ij}) | i j \rangle = v^{ij}_{ij} -  v^{ij}_{ji} \equiv \langle ij | ij \rangle_{AS} $$</p>
<p>This is caused by the two-body operator&#39;s ability to act on terms in the SD that differ from the hartree product by only one permutation, making it identical to the hartree product.</p>
<p>The two terms arising from the two particle interaction have been given the names <em>direct</em> and <em>exchange</em> term, respectively.</p>
<p>When we work with electronic systems, the first term is often refered to as the <em>coulomb</em> term. </p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="fermionic-correlation">Fermionic correlation</h2>
<ul>
<li><p>The fact that the motion of each fermion should be dependent upon the other fermions in the system is commonly referred to as <em>correlation</em>.</p>
</li>
<li><p>Some of this correlation is attributed to the Pauli exlusion principle, and is inherent in the SD.</p>
</li>
<li><p>Other correlations will be caused by forces acting amongst the fermions, such as coulomb repulsion between electrons or nuclear forces between nucleons.</p>
</li>
<li><p>The <em>correlation energy</em> is a quantity commonly used in quantum chemistry to describe the difference in energy between the Hartree Fock energy and the exact solution of the nonrelativistic Schrödinger equation. [S-B, p.8]</p>
</li>
</ul>
<p><img src="correlation.png" alt="Correlation"></p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-hartree-fock-method">The Hartree Fock method</h2>
<p>In many-fermion systems, it is the dependence</p>
<p>$$ \frac{1}{|r_i - r_j|}$$</p>
<p>in $\hat{v}(x_i, x_j)$ that poses the difficulty in solving the equations.</p>
<p>In the Hartree Fock method for electron systems, this problem is solved by two equivalent assumptions:</p>
<ul>
<li>The system can be represented by a single Slater determinant.</li>
<li>Each electron interacts with a mean field set up by the other electrons.</li>
</ul>
<p>Both of these assumtions is wrong [citation needed], but it turns out that this will give us an initial approximative solution that often accounts for more than 99% of the energy and 95% of the wavefunction. [S-B, p6]. </p>
<p>This approximation may also serve as a starting point for post Hartree Fock calculations.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-fock-matrix">The Fock matrix</h2>
<p>To obtain the HF reference, the Fock matrix may be derived by first expanding each constituent function in the SD in a single particle basis. </p>
<p>We then find the expression for the energy</p>
<p>$$E[{C}] = \sum_{\alpha \beta}^A \sum_i^N C_{\alpha i}^* C_{\beta i} \langle \phi_{\alpha i} | \hat{f}(x_i) | \phi_{\beta i} + \frac{1}{2} \sum_{\alpha \beta \gamma \delta}^A \sum_{ij, i \neq j} \langle \phi_{\alpha i} \phi_{\beta j} |\hat{v}(x_i, x_j) | \phi_{\gamma, i} \phi_{\delta j} \rangle_{AS} $$</p>
<p>We want to minimize the energy as a function of the coefficients, while constraining the orthogonality of the basis functions. This means we have to minimize the functional</p>
<p>$$ F[C, \lambda] = E[C] - \sum_i \lambda_i \sum_{\alpha}^A C_{i \alpha}^* C_{i \alpha} $$</p>
<p>So that</p>
<p>$$ \frac{\partial}{\partial C_{i \alpha}} F[C, \lambda] = 0$$</p>
<p>By performing the differentiation, we find the Fock matrix</p>
<p>$$h^{HF}_{\alpha \beta} = \langle \alpha | f | \beta \rangle + \sum_{\gamma \delta}^A \sum_j^N C_{\beta j}^* C_{\gamma i} C_{\delta j} \langle \alpha \beta |\hat{v} | \gamma \delta \rangle_{AS} $$</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="hartree-fock-the-mean-field-approximation">Hartree Fock - the Mean Field approximation</h2>
<p>Hartree Fock has also been called the Self-Consistent Field method, and the Mean Field approximation.</p>
<p>When minimizing the energy, we basically replace the interaction between each fermion with a <em>mean field</em>, so that each fermion interacts with this field. We may interpret the Fock matrix as</p>
<p>$$ h^{HF} = \hat{t}_{kin} + \hat{u}_{ext} + \hat{u}_{hf} $$</p>
<p>Where $\hat{u}_{hf}$ is the mean field.</p>
<p>[Slides, FYS-KJM4480]</p>
<hr>
<p><strong>Consequence</strong></p>
<ul>
<li>Even for a complete basis, Hartree Fock will only provide an approximation.</li>
</ul>
<p>By neglecting instantaneous interactions between the fermions, the Hartree Fock method will fail to account for parts of the correlation energy.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-hf-solution-process">The HF solution process</h2>
<p>The typical solution procedure is to</p>
<ol>
<li>Guess som initial coefficients.</li>
<li>Set up the Fock matrix.</li>
<li>Diagonalize the Fock matrix to obtain new coefficients.</li>
<li>Check for convergence, if not: calculate new Fock matrix, repeat 3.</li>
</ol>
<p>When it converges, we will have obtained a set of eigenvectors of the Fock matrix, representing the single particle states entering the SD. </p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="correlations-in-the-hf-method">Correlations in the HF method</h2>
<p>Only part of the correlations occuring in the exact system will be accounted for in the HF approximation:</p>
<ul>
<li>The Fermi Correlation (from the Pauli principle).</li>
<li>To some extent the coulomb interaction. (Mean field)</li>
</ul>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="restricted-hartree-fock">Restricted Hartree Fock</h2>
<p>For closed shell atoms and molecules, such as He, $H_2$ and Be, the fermions (in this case electrons), may be assumed to be paired with opposite spin particles. </p>
<p>In the restricted Hartree Fock method, we consider only systems where all fermions are paired with opposite spin particles.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="unrestricted-hartree-fock">Unrestricted Hartree Fock</h2>
<p>For systems with singly oocupied states (unpaired fermions, typically odd numbered) the restriction of spin-pairing is no longer valid. </p>
<p>To take this into account, we set up two Fock matrices; one for each spin orientation. The resulting system is</p>
<p>$$ F^{\alpha}(C^{\alpha}, C^{\beta}) C^{\alpha} = S C^{\alpha} \epsilon_{\alpha} $$
$$ F^{\beta}(C^{\alpha}, C^{\beta}) C^{\beta} = S C^{\beta} \epsilon_{\beta} $$</p>
<p>The ground state energy will be a function of the eigenvectors of these two matrices.</p>
<p>(The dependencie of opposite spin coefficients in the Fock matrices is due to the direct- or coulomb term from the two particle integrals)</p>
<p>[Modern Quantum Chemistry, Szabo, p214]</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="spin-contamination">Spin contamination</h2>
<p>The $\hat{S}^2$ operator commutes with the hamiltonian $\hat{H}$, meaning that they have a common set of eigenfunctions. </p>
<p>When performing UHF this might not always be the case, since we treat fermions that might otherwise occupy the same orbital differently.</p>
<p>[Modern Quantum Chemistry, Szabo]</p>
</div>
</div>
</div><div style=display:none>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Thouless theorem</li>
<li><p>Brillouins theorem</p>
</li>
<li><p>The disassosciation problem</p>
</li>
</ul>
<p>Advantages of coupled cluster</p>
<ul>
<li>Avoids spin contamination</li>
<li>Is size extensive</li>
<li>Takes into account instantaneous interactions</li>
</ul>
</div>
</div>
</div>
    </div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="motivation-for-post-hf-methods-summary">Motivation for post HF methods, Summary</h2>
<ul>
<li><p>A single determinant is not necessarily a good approximation to the true wavefunction.</p>
</li>
<li><p>The lack of instantaneous coulumb repulsion in HF</p>
</li>
<li><p>Spin contamination might occur in UHF and needs correction.</p>
</li>
</ul>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="deriving-the-coupled-cluster-method">Deriving The Coupled Cluster method</h1>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-exponential-ansatz">The exponential ansatz</h2>
<p>The exponential ansatz is an operator acting on the reference state:</p>
<p>$$ e^{\hat{T}} |\Psi_o \rangle $$</p>
<p>Where the cluster operators</p>
<p>$$ \hat{T} = 1 + \hat{T}_1 + \hat{T_2} + ... = 1 + \sum_{ai} t_i^a a_{a}^\dagger a_i + \sum_{ai} t_{ij}^{ab} a_{a}^\dagger a_{b}^\dagger a_i a_j + ...$$</p>
<p>The coefficients $t_i^a$ are called <em>amplitudes</em>, and will need to be solved for. As for any exponential function, we may expand it as</p>
<p>$$ e^{\hat{T}} = 1 + \hat{T} + \frac{1}{2!} \hat{T}^2 + \frac{1}{3!} \hat{T}^3 + ...$$</p>
<p>So that </p>
<p>$$ e^{\hat{T}} |\Psi_0 \rangle = (1 + \hat{T} + \frac{1}{2!} \hat{T}^2 + \frac{1}{3!} \hat{T}^3 + ...)|\Psi_0 \rangle $$ </p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-cluster-operator">The cluster operator</h2>
<p>As can be seen from the second quantized form of the cluster operators, when acting on the reference they will cause an excitation to n-particle n-hole state according to their order.</p>
<p>$$\hat{T}_1|\Psi_0\rangle = \sum_{ai} t_i^a a_{a}^\dagger a_i|\Psi_0\rangle = \sum_{ai} t_i^a|\Psi_i^a\rangle$$
$$\hat{T}_2|\Psi_0\rangle = \sum_{abij} t_{ij}^{ab} a_{a}^\dagger a_{b}^\dagger a_i a_j|\Psi_0\rangle = \sum_{abij} t_{ij}^{ab}|\Psi_{ij}^{ab}\rangle$$</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="extensivity-and-consistency">Extensivity and consistency</h2>
<p>A quantum mechanical model may be called <em>extensive</em> if the energy of this model scales correctly with the size of the system. [S-B, p11]</p>
<p>Size consistency means that the energy of two subsystems combined or apart should, for large separations, fulfill</p>
<p>$$E(AB) = E(A) + E(B)$$</p>
<p>[S-B, p12]</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="extensivity">Extensivity</h2>
<p>The extensivity property is built into the exponential ansatz.</p>
<p>IN S-B, p255, it is shown that if the zero-order wavefunction of a noninteracting system is separable</p>
<p>$$ \phi_0(A,B) = \phi_0(A)\psi_0(B) $$</p>
<p>And $\hat{T}$ for the system is additive</p>
<p>$$ \hat{T}(A,B) = \hat{T}(A) + \hat{T}(B) $$</p>
<p>It follows that the total wavefunction is multiplicatively separable:</p>
<p>$$\Psi(A,B) = e^{T(A) + T(B)}\phi_0(A,B) = e^{T(A)}\phi_0(A)e^{T(B)}\phi_0(B)  $$</p>
<p>And so the energy is additive</p>
<p>$$ \hat{H}(A,B)\Psi(A,B) = [E(A) + E(B)]\Psi(A,B) $$</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="size-consistency">Size consistency</h2>
<p>When comparing CC to CI, we see that the cluster operator corresponding to the 2p2h SD&#39;s in CI is</p>
<p>$$ \hat{C}_2 = \hat{T}_2 + \frac{1}{2}(\hat{T}_1)^2$$</p>
<p>The last term is commonly referred to as a <em>disconnected</em> cluster.</p>
<p>In a system for two particles A and B, but separated so that practically no interaction occurs, the coupled cluster energies for this system will yield</p>
<p>$$ E_{CC} = E_{A,CC} + E_{B,CC} $$</p>
<p>This is not the case for CI</p>
<p>$$ E_{CI} \neq E_{A,CI} + E_{B,CI} $$</p>
<p>[Crawford and Schaefer, p18]</p>
</div>
</div>
</div><div style=display:none>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Comparison with CI</li>
<li>Disconnected vs. connected cluster</li>
</ul>
</div>
</div>
</div>
    </div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-cc-equations-i">The CC equations I</h2>
<p>We now want to derive the equations that lets us find the amplitudes and the energy resulting from the exponential ansatz.</p>
<p>We begin by observing that the normal product form of the Schrödinger equation for the exponential ansatz can be written</p>
<p>$$(\hat{H}_N - \Delta e) e^{\hat{T}} |\Psi_0 \rangle = 0$$</p>
<p>We multiply by the inverse exponential to find</p>
<p>$$(e^{\hat{-T}} \hat{H}_N e^{\hat{T}} - \Delta e)  |\Psi_0 \rangle = 0$$</p>
<p>The non-Hermitian operator</p>
<p>$$e^{\hat{-T}} \hat{H}_N e^{\hat{T}}  \equiv \mathcal{H}$$</p>
<p>is a similarity transformed Hamiltonian, often called the <em>CC effective Hamiltonian</em>.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-cc-equations-ii">The CC equations II</h2>
<p>If we apply the Baker-Campbell-Hausdorff expansion [S-B, p293] to the CC effective hamiltionian, we may rewrite it as</p>
<p>$$\mathcal{H} = \hat{H}_N + [\hat{H}_N, \hat{T}] + \frac{1}{2} [[\hat{H}_N, \hat{T}], \hat{T}] +  \frac{1}{3!} [[[\hat{H}_N, \hat{T}], \hat{T}], \hat{T}] + \frac{1}{4!} [[[[\hat{H}_N, \hat{T}], \hat{T}], \hat{T}], \hat{T}].$$</p>
<p>The reason that this sum of nested operators truncates at the four-fold commutator, becomes apparent if we use Wicks generalized theorem to evaluate the expansion. </p>
<p>Following Shavitt and Bartlett (p.294) we have for the commutator of two operators with even number of creation and annihilation operators;</p>
<p>$$ [A,B] = AB - BA = np(A,B) + (\dot{A}\dot{B}) - np(B,A) - (\dot{B}\dot{A})  $$</p>
<p>Where $np$ indicates a normal ordered product of operators and dotted operators indicate a sum of all possible contractions between the normal ordered operators A and B.</p>
<p>This is simplified further since both A and B (H and T) contain an even number of creation and annihilation operators:</p>
<p>$$ np(A,B) = np(B,a)$$</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-cc-equations-iii">The CC equations III</h2>
<p>We end up with</p>
<p>$$ [A,B] = (\dot{A}\dot{B}) - (\dot{B}\dot{A})$$</p>
<p>Since the cluster operators $T_m$ commute, the nested operators will only have surviving terms where $\hat{H}_N$ contracts with one or more cluster operators.</p>
<p>The reason for the truncation of the Hausdorff expansion is then apparent; $\hat{H}_N$ is a sum of operators which at most contains four creation or annihilation operators. It is therefore not possible to contract any term in $\hat{H}_N$ to more than 4 cluster operators.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-cc-equations-iv">The CC equations IV</h2>
<p>We also have to take into account that particle creation operators can only produce a nonzero contraction with a particle annihilation operator to its left, and a hole annihilation operator may only produce a nonzero contraction with a hole creation operator to its left, so that the only contributing terms when unraveling the nested operator is terms that begin with the normal ordered hamiltonian:</p>
<p>$$ \mathcal{H} = e^{\hat{-T}} \hat{H}_N e^{\hat{T}} = \hat{H}_N + (\dot{\hat{H}_N}\dot{\hat{T}}) + \frac{1}{2}(\dot{\hat{H}_N}\dot{\hat{T}}\dot{\hat{T}}) + \frac{1}{3!}(\dot{\hat{H}_N}\dot{\hat{T}}\dot{\hat{T}}\dot{\hat{T}}) + \frac{1}{4!}(\dot{\hat{H}_N}\dot{\hat{T}}\dot{\hat{T}}\dot{\hat{T}}\dot{\hat{T}})\equiv (\hat{H}_Ne^{\hat{T}})_C $$</p>
<p>The dots indicate a sum over all terms in which the hamiltonian connect by at least one contraction to each of the cluster operators to its right. The subscript C indicates connected terms.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-cc-equations-v">The CC equations V</h2>
<p>We are finally in a position to derive explicit expressions for the energy and amplitudes.</p>
<p>We have the general equation </p>
<p>$$ (\hat{H}_Ne^{\hat{T}})_C |\Phi_0 \rangle = \Delta e |\Phi_0 \rangle $$</p>
<p>Finding the energy is now simply</p>
<p>$$ \langle \Phi_0 |(\hat{H}_Ne^{\hat{T}})_C |\Phi_0 \rangle = \Delta e  $$</p>
<p>The amplitudes may be found from the equations </p>
<p>$$ \langle \Phi_i^a |(\hat{H}_Ne^{\hat{T}})_C |\Phi_0 \rangle = 0  $$</p>
<p>$$ \langle \Phi_{ij}^{ab} |(\hat{H}_Ne^{\hat{T}})_C |\Phi_0 \rangle = 0  $$</p>
<p>...</p>
<p>What remains now is the tedious process of working out the explicit equations for a give truncation in the exponential ansatz.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="truncating-the-ansatz">Truncating the ansatz</h2>
<p>As previously stated, we have</p>
<p>$$ \hat{T} = \hat{T}_1 + \hat{T}_2 + \hat{T}_3 + ...$$</p>
<p>We truncate this ansatz by limiting the number of cluster operators entering the exponent. The standard truncations is</p>
<p>CCD: $\hat{T} = \hat{T}_2$ (doubles)</p>
<p>CCSD: $\hat{T} = \hat{T}_1 + \hat{T}_2$ (singles, doubles)</p>
<p>CCSDT: $\hat{T} = \hat{T}_1+ \hat{T}_2 + \hat{T}_3$ (singles, doubles, triples)</p>
<p>Thouless Theorem states that a CCS approach would only transform a single determinant into another single determinant, so this truncation does not occur. (In analogy to Brillouin&#39;s theorem in CI).</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-explicit-form-of-the-equation">The explicit form of the equation</h2>
<p>We could now proceed by working out the explicit equations for amplitudes and energy using Wick&#39;s theorem.</p>
<p>Another approach is however outlined in S-B (p.297) that makes the process much simpler and interesting, and it is based on the application of diagrams.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-diagrammatic-normal-ordered-hamiltonian">The diagrammatic normal ordered hamiltonian</h2>
<p><img src="HParts.png" alt="Hamiltonian"></p>
<p>(Illustration from S-B, p. 297)</p>
<p>The normal ordered hamiltonian is a sum of &quot;filaments&quot; that may be contracted with cluster operators to form diagrams.</p>
<p>The + and - signs below the interaction line indicates virtual particle annihilation operators. They will be helpful when we evaluate the different ways of contracting each diagrams.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-diagrammatic-cluster-operators">The diagrammatic cluster operators</h2>
<p><img src="TParts.png" alt="Tparts"></p>
<p>(Illustration from S-B, p. 298)</p>
<p>The diagrammatic cluster operators of different excitation levels.</p>
<p>Vertical lines between the + and - symbols may be used to denote repeated operators.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="connecting-operators">Connecting operators</h2>
<p><img src="example.png" alt=""></p>
<p>(Illustration from S-B, p.299)</p>
<p>In the example above, the contraction </p>
<p>$$ \langle \Phi_0 | \hat{H} \hat{T_2} \hat{T_2} | \Phi_0 \rangle $$</p>
<p>is evaluated.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="interpreting-diagrams">Interpreting diagrams</h2>
<p>In Shavitt Bartlett, 10 rules for intepreting coupled-cluster diagrams are given:</p>
<pre><code>(1)  Label internal and external lines with particle and hole labels
(2)  Assosciate f(i,a) with every 1-p operator vertex
(3)  Assosciate &lt;lout rout || lin rin&gt; with every 2-p operator ver
(4)  Assosciate t(ab,ij) for every amplitude
(5)  Sum over all internal lines
(6)  Multiply by 1/2 for each pair of equivalent internal lines
(7)  Multiply by 1/2 for each pair of equivalent T-vertices
(8)  Include a phase factor (-)**(holes-loops)
(9)  Sum over all distinct permutations of inequivalent external pairs
(10) Cancel each factor .5 in open diagrams with equivalent vertives arising from rule 7 with a permutation of the labels of a pair of external lines connected to the equivalent vertices.
</code></pre>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="implementing-diagrams">Implementing diagrams</h2>
<p>Although the diagrammatic rules greatly simplifies the process of deriving the equations, there is still a high possibility for errors due to human inaccuracy.</p>
<p>The CCSD T1 amplitude have for example 14 terms, making even the diagrammatic process quite tedious.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="in-the-words-of-h-g-k-mmel">In the words of H.G.Kümmel</h2>
<p><em>&quot;Because of the often large number of terms in all versions of the CCM it is rather hard work to obtain the explicit equations by hand. And after this is done one has to write a program to put them into the computer.&quot;</em> - H. G. Kümmel</p>
<p>[A biography of the coupled cluster method, June 2001]</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="one-more-simplification">One more simplification</h2>
<p>To simplify the process of deriving explicit CC equations, I have developed a python script called CCAlgebra (Coupled Cluster Algebra).</p>
<p>The intention is to use the diagrammatical approach in an object oriented context to automate the derivation of the equations involved. It is basically an attempt to teach the computer to derive and interpret diagrams, circumventing the use of wicks theorem or second quantization manipulations.</p>
<p>In the remaining slides I will give an overview of this script, and show how to use it in code developement.</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="defining-operators">Defining operators</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[40]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">H</span>   <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[])</span>      <span class="c"># The first list defines q-particle annihilations (below interaction),</span>
                               <span class="c"># while the second is creations. Particles and holes are indicated by 1 and -1 respectively.</span>
<span class="n">T_1</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>      <span class="c">#The T_1 cluster operator</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c">#The T_2 operator; all lists must be normal ordered</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following operators are defined above:</p>
<p><img src="h2.png" alt="">
<img src="t1t2.png" alt=""></p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="find-all-possible-contractions">Find all possible contractions</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[41]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">contraction</span> <span class="o">=</span> <span class="n">O</span><span class="p">(</span><span class="n">H</span><span class="p">,[</span><span class="n">T_1</span><span class="p">])</span> <span class="c">#The second argument must be a list of operators (T_1 * T_1 = [T_1, T_1])</span>
</pre></div>

</div>
</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="show-excitation-and-number-of-resulting-diagrams">Show excitation and number of resulting diagrams</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[42]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">print</span> <span class="s">&quot;Excitation:&quot;</span><span class="p">,</span> <span class="n">contraction</span><span class="o">.</span><span class="n">E</span><span class="p">()</span> <span class="c">#Excitation energy of connected operators</span>
<span class="k">print</span> <span class="s">&quot;Number of distinct diagrams:&quot;</span><span class="p">,</span> <span class="n">contraction</span><span class="o">.</span><span class="n">N</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Excitation: 0.0
Number of distinct diagrams: 1

</pre>
</div>
</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="show-a-mathematical-representation-latex-">Show a mathematical representation (latex)</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[43]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">c_tex</span> <span class="o">=</span> <span class="n">contraction</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c">#The first of possibly multiple distinct diagrams in latex format.</span>
<span class="n">Math</span><span class="p">(</span><span class="n">c_tex</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[43]:</div>


<div class="output_latex output_subarea output_pyout">
$$\frac{1}{1} \sum_{ck} \langle k || c \rangle t_{k}^{c}$$
</div>

</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="display-a-diagrammatic-representation">Display a diagrammatic representation</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[44]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">contraction</span><span class="o">.</span><span class="n">diagram</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="bp">True</span><span class="p">)</span> <span class="c">#Display diagram 0 at position x/y = [0,0] using internal show() function (matplotlib)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAABGCAYAAAAw9l1+AAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAABD9JREFUeJzt3E8obG8cx/HP8S8j0zAyQ2rKqJFkZcNGzSzOgoWUWIgN
TQo7VkrYiJ1S/idZqDlmN7NhFNmJjSWZ0mSkNDOMkPD8Frc7JXfxyz3P77m/O59XWTxzqO/o7Tln
/tGEEAJEkuSoHoD+bgyMpGJgJBUDI6kYGEnFwEgqBkZSMTCSioGRVAyMpGJgJBUDI6kYGEnFwCQy
DAO6rkPXdRiGoXocJfJUD/C3MgwDg4ODSCQSAIDT01NomobOzk7Fk/23uINJsrq6mokLABKJBFZW
VhROpAYDU2BychKTk5P/ev1/pvEdrXIYhoG+vj68vLwAAGw2G9bW1niKJHN4PB4UFBSgpaUFTqcT
vb29WRcXwMCkEEJgZGQEc3NzODw8xPDwMIqLi1WPpQQDkyAUCiGZTGJgYAAA4Ha7EY1GFU+lBgMz
yc9LWSEEpqenMTU1hdzcXABAVVUV4vG4yvGUYWAmGB0dxebmJgDg6OgIDw8PaG9vz0Rnt9uRTCZV
jqgMAzNBXV0ddnd3AQBLS0sYGhrCwsICxsfHAQCFhYWZR5NZR9Bvu7q6EuXl5SKVSgmbzSbC4bBw
OBwiGo0KIYQ4Pz8XNTU1iqdUgzuYCVwuF+x2OxYXF9HY2Ai/34+NjQ1UV1cDAJ6fn2GxWBRPqQZf
izSJrusIBAJIp9Po7+9Ha2tr5lgikUBpaanC6dThDmYSXddxdnaGiooKTExMfDoWj8dRWVmpaDK1
GJhJnE4n3t/fEQwGM09P/HR5eQm3261oMrUYmEkSiQR8Ph8cDseXY1tbWygpKVEwlXoMzCTn5+eo
ra39cvvBwQEuLi74PBj9nlgsBpfL9em26+trdHV1wWKxIBaLKZpMLT6KNMnd3R08Hk9m/fr6iq6u
LjQ3N0PTNEQiEXx8fCAnJ7v+prPr3kr0+PgIq9WaWY+NjaGsrAxPT0/o6emBzWbD2dmZwgnVYGAm
eXt7Q17ejxNCMBhEOBzG7OwsTk5O0NbWBl3XMy8nZRMGZpL8/Hy8vr4CALxeL0KhEAKBALq7u1FU
VJS1gfEazCRWqxXpdBrAj3dPWCwWLC4uYn9/HwDg8/k+nUKzBXcwkzidTtze3mbWy8vLaGpqQn19
PQCguLgYXq9X1XjKcAczicvlwvHxMQAglUphZmYGkUhE8VTqMTCT3NzcIBgMIhaLIScnBx0dHWho
aFA9lnIMzASGYWB+fh739/fY29uDpmlYX19XPdYfgddgJlhdXUUqlcqshRDY3t5WONGfgx+8/QZN
0779s9n26+YO9g1CiE9fgUAAdrs9c9xut8MwjC/fl21xAdzBTLOzs5P55yZ+vz8rP8X9KwyMpOIp
kqRiYCQVAyOpGBhJxcBIKgZGUjEwkoqBkVQMjKRiYCQVAyOpGBhJxcBIKgZGUjEwkoqBkVQMjKRi
YCQVAyOpGBhJxcBIKgZGUjEwkuofU4icSYsYSX4AAAAASUVORK5CYII=
"
>
</div>

</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="a-more-complex-example">A more complex example</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[45]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">H</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">contraction</span> <span class="o">=</span> <span class="n">O</span><span class="p">(</span><span class="n">H</span><span class="p">,[</span><span class="n">T_1</span><span class="p">,</span> <span class="n">T_2</span><span class="p">])</span> <span class="c">#The second argument must be a list of operators (T_1 * T_1 = [T_1, T_1])c_tex = contraction.latex(0) #The first of possibly multiple distinct diagrams in latex format.</span>
<span class="n">c_tex</span> <span class="o">=</span> <span class="n">contraction</span><span class="o">.</span><span class="n">latex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c">#The first of possibly multiple distinct diagrams in latex format.</span>
<span class="n">Math</span><span class="p">(</span><span class="n">c_tex</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[45]:</div>


<div class="output_latex output_subarea output_pyout">
$$P(ba)\frac{-1}{1} \sum_{ckd} \langle ak || cd \rangle t_{k}^{c} t_{ij}^{db}$$
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[46]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">plot</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">],[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mf">4.5</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&quot;white&quot;</span><span class="p">)</span> <span class="c">#just making the diagrams scale correctly</span>
<span class="n">contraction</span><span class="o">.</span><span class="n">diagram</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">contraction</span><span class="o">.</span><span class="n">diagram</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">contraction</span><span class="o">.</span><span class="n">diagram</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="bp">False</span><span class="p">)</span>
<span class="n">axis</span><span class="p">(</span><span class="s">&quot;off&quot;</span><span class="p">)</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="higher-level-functions">Higher level functions</h2>
<p>It is easy to develop higher level operations on top of this framework.</p>
<p>Considering that the exponent in the ansatz will typically be a sum of cluster operators, a neat function is to expand a list of operator objects:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[47]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">print</span> <span class="n">expand_ansatz</span><span class="p">([[</span><span class="s">&quot;a&quot;</span><span class="p">],[</span><span class="s">&quot;b&quot;</span><span class="p">]],</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
[[&apos;a&apos;], [&apos;b&apos;], [&apos;a&apos;, &apos;a&apos;], [&apos;a&apos;, &apos;b&apos;], [&apos;b&apos;, &apos;a&apos;], [&apos;b&apos;, &apos;b&apos;], [&apos;a&apos;, &apos;a&apos;, &apos;a&apos;], [&apos;a&apos;, &apos;a&apos;, &apos;b&apos;], [&apos;a&apos;, &apos;b&apos;, &apos;a&apos;], [&apos;a&apos;, &apos;b&apos;, &apos;b&apos;], [&apos;b&apos;, &apos;a&apos;, &apos;a&apos;], [&apos;b&apos;, &apos;a&apos;, &apos;b&apos;], [&apos;b&apos;, &apos;b&apos;, &apos;a&apos;], [&apos;b&apos;, &apos;b&apos;, &apos;b&apos;]]

</pre>
</div>
</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A predefined normal ordered hamiltonian will also come in handy</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[48]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">normal_ordered_hamiltonian</span><span class="p">():</span>
    <span class="c">#These elements corresponds to (9.105) in S-B:</span>
    <span class="n">F1</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>     <span class="c">#Excitation level: 0</span>
    <span class="n">F2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>   <span class="c">#E:0</span>
    <span class="n">F3</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>   <span class="c">#E:+1</span>
    <span class="n">F4</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[])</span>   <span class="c">#E:-1</span>
    
    <span class="c">#These elements correspond to (9.107) in S-B:</span>
    <span class="n">V1</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>     <span class="c">#E:0</span>
    <span class="n">V2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c">#E:0</span>
    <span class="n">V3</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>   <span class="c">#E:0</span>
    
    <span class="n">V4</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>    <span class="c">#E:+1</span>
    <span class="n">V5</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">])</span>    <span class="c">#E:-1</span>
    <span class="n">V7</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c">#E:-1</span>
    <span class="n">V6</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c">#E:+1</span>
    
    <span class="n">V9</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[])</span>  <span class="c">#E:-2</span>
    <span class="n">V8</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c">#E:+2</span>
    
    <span class="k">return</span> <span class="p">[</span><span class="n">F1</span><span class="p">,</span><span class="n">F2</span><span class="p">,</span><span class="n">F3</span><span class="p">,</span><span class="n">F4</span><span class="p">,</span><span class="n">V1</span><span class="p">,</span><span class="n">V2</span><span class="p">,</span><span class="n">V3</span><span class="p">,</span><span class="n">V4</span><span class="p">,</span><span class="n">V5</span><span class="p">,</span><span class="n">V6</span><span class="p">,</span><span class="n">V7</span><span class="p">,</span><span class="n">V8</span><span class="p">,</span><span class="n">V9</span><span class="p">]</span>   
</pre></div>

</div>
</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="cluster-operators">Cluster operators</h2>
<p>A cluster operator is also predefined</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[49]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">print</span> <span class="n">cluster_operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="c"># returns [T_1, T_2, T_3]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
[[&lt;__main__.Operator instance at 0x10c015e60&gt;], [&lt;__main__.Operator instance at 0x10c015440&gt;], [&lt;__main__.Operator instance at 0x10bd9b8c0&gt;]]

</pre>
</div>
</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="evaluating-sums-of-operators">Evaluating sums of operators</h2>
<p>The normal ordered hamiltonian and the cluster expansion is both sums of operators. We will need to combine these in all possible ways, at least find all combinations that correspond to a given energy level.</p>
<p>Below we derive the CC energy</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[50]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">H</span> <span class="o">=</span> <span class="n">normal_ordered_hamiltonian</span><span class="p">()</span>
<span class="n">T_1</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>      <span class="c">#The T_1 cluster operator</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c">#The T_2 operator; all lists must be normal ordered</span>
<span class="n">expT</span> <span class="o">=</span> <span class="n">expand_ansatz</span><span class="p">([[</span><span class="n">T_1</span><span class="p">],[</span><span class="n">T_2</span><span class="p">]],</span> <span class="mi">4</span><span class="p">)</span>

<span class="n">tx</span> <span class="o">=</span> <span class="n">combine_to_excitation</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">expT</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span> <span class="c">#All combinations that produce excitation level 1</span>
<span class="n">S</span> <span class="o">=</span> <span class="s">&quot;0 =&quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tx</span><span class="p">:</span>
    <span class="n">S</span><span class="o">+=</span> <span class="s">&quot;+&quot;</span><span class="o">+</span> <span class="n">i</span>
<span class="n">Math</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[50]:</div>


<div class="output_latex output_subarea output_pyout">
$$0 =+\frac{1}{1} \sum_{ck} \langle k || c \rangle t_{k}^{c}+\frac{1}{4} \sum_{cdkl} \langle kl || cd \rangle t_{kl}^{cd}+\frac{1}{2} \sum_{ckdl} \langle kl || cd \rangle t_{k}^{c} t_{l}^{d}$$
</div>

</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="evaluating-the-energy">Evaluating the energy</h2>
<p>It is easy to recognize the energy when viewed as diagrams</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[51]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">H</span> <span class="o">=</span> <span class="n">normal_ordered_hamiltonian</span><span class="p">()</span>
<span class="n">T_1</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>      <span class="c">#The T_1 cluster operator</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c">#The T_2 operator; all lists must be normal ordered</span>
<span class="n">expT</span> <span class="o">=</span> <span class="n">expand_ansatz</span><span class="p">([[</span><span class="n">T_1</span><span class="p">],[</span><span class="n">T_2</span><span class="p">]],</span> <span class="mi">4</span><span class="p">)</span>

<span class="n">tx</span> <span class="o">=</span> <span class="n">combine_to_excitation</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">expT</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span> <span class="c">#All combinations that produce excitation level 0</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAABGCAYAAAA0A41DAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAABERJREFUeJzt3EsofG8cx/HPGZeMTMOIITVlFElWNmwUi7NgIaWxEBua
FHaslLARO6VchiQLNcfs2LgU2YmNJVGajJSOcQkJz3/x63dK/ot//meeZzKfV1k8c6jv6O05Z240
IYQAUYI5VA9AqYGhkRQMjaRgaCQFQyMpGBpJwdBICoZGUjA0koKhkRQMjaRgaCQFQyMpGFoCGYYB
Xdeh6zoMw1A9jlLpqgf4rQzDQG9vL0zTBAAcHx9D0zS0tbUpnkwN7mgJEgqFrMgAwDRNLCwsKJxI
LYamwOjoKEZHR//z+jfQ+A7bxDAMA11dXXh9fQUAuN1uLC4u8tRJ9iovL0dmZibq6+vh9XrR2dmZ
spEBDC0hhBAYGBjA1NQU9vf30d/fj5ycHNVjKcXQEmBjYwN3d3fo6ekBAPj9flxcXCieSi2GZpO/
l7pCCIyPj2NsbAxpaWkAgJKSEsRiMZXjKcfQbDA4OIiVlRUAwMHBAR4eHtDS0mLF5/F4cHd3p3JE
5RiaDSorK7G1tQUAmJubQ19fH2ZmZjA8PAwAyMrKsh59pixB/9vl5aUoKCgQ8XhcuN1usbm5KQoL
C8XFxYUQQojT01NRVlameEq1uKPZwOfzwePxYHZ2FjU1NQgGg1heXkZpaSkA4OXlBU6nU/GUavG1
Tpvouo5wOIzHx0d0d3ejqanJOmaaJvLy8hROpx53NJvouo6TkxMUFRVhZGTky7FYLIbi4mJFkyUH
hmYTr9eLj48PRCIR62mNv87Pz+H3+xVNlhwYmk1M00RjYyMKCwu/HVtdXUVubq6CqZIHQ7PJ6ekp
Kioqvt2+t7eHs7MzPo+meoDfIhqNwufzfbnt6uoKgUAATqcT0WhU0WTJgY86bXJ7e4vy8nJr/fb2
hkAggLq6Omiahp2dHXx+fsLhSM2/7dS81wnw9PQEl8tlrYeGhpCfn4/n52d0dHTA7Xbj5ORE4YRq
MTSbvL+/Iz39zwkiEolgc3MTk5OTODo6QnNzM3Rdt16mSkUMzSYZGRl4e3sDADQ0NGBjYwPhcBjt
7e3Izs5O+dB4jWYTl8uFx8dHAH/ereF0OjE7O4vd3V0AQGNj45dTa6rhjmYTr9eLm5sbaz0/P4/a
2lpUVVUBAHJyctDQ0KBqPOW4o9nE5/Ph8PAQABCPxzExMYGdnR3FUyUPhmaT6+trRCIRRKNROBwO
tLa2orq6WvVYSYOh2cAwDExPT+P+/h7b29vQNA1LS0uqx0oqvEazQSgUQjwet9ZCCKytrSmcKPnw
A8Q/oGnaj382VX/d3NF+QAjx5SscDsPj8VjHPR4PDMP49n2pGhnAHc026+vr1j9xCQaDKf2p9H/D
0EgKnjpJCoZGUjA0koKhkRQMjaRgaCQFQyMpGBpJwdBICoZGUjA0koKhkRQMjaRgaCQFQyMpGBpJ
wdBICoZGUjA0koKhkRQMjaRgaCQFQyMp/gH5JaRBr62zYAAAAABJRU5ErkJggg==
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAABmCAYAAADcbeNLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAACepJREFUeJztnWtIlE8bxq+1NN2V/imaRtlBYxHTzCikA0WQW1DRyQ4i
QfUhCpI+lIEEIWQQFURE0YmKihK3AxQKFlkUZVhWa61GKSZmmZoG62l1d+//B3mX11fX1Hdn9rl1
frAfdmae4bp2r515DvM8qyMigkIhAT9fC1CMHlTYFNJQYVNIQ4VNIQ0VNoU0VNgU0lBhU0hDhU0h
DRU2hTRGZdjMZjNMJhNMJhPMZrOv5UjD575plJGXl0ehoaEEgABQaGgomc1mX8sSjhZ8j7qwpaSk
uD/w/7xSUlJ8LUs4WvA9KqdRT2RnZyM7O3vEvvc5UqOtAXJzc2ns2LHuX7fBYBgV06gWfI/1bdTl
U1dXh5iYGEyZMgXfv39HVFQUUlNTfS1LOJrwLTXaPubTp08UFhZGVVVVRET05s0bio+P97Eq8WjF
96gJm8PhoPnz59P58+fdZXa7nfR6PdlsNh8qE4uWfI+aA4QzZ87AYDBg165d7rKAgADExcWhrKzM
h8rEoiXfoyJsdXV1yMnJwYULF6DT6XrVJSYmwmKx+EiZWLTme1SELTMzE7t374bRaOxTN2vWLFit
Vh+oEo/WfI/4sBUXF+P58+fIysrqtz42NhZfvnyRrEo8WvQ9osNGRDhw4ABycnJgMBj6bRMTE4Oq
qirJysSiWd9SD0ck8/DhQ4qPjyeHw+GxTUdHBwUEBJDT6ZSoTCxa9T1iw+ZyuWju3Ll07969v7YN
Cwuj+vp6CarEo2XfI3YaLSgogMPhwLp16/7aNjIyEvX19RJUiUfLvkds2I4dO4asrKw+h/z9ERYW
hqamJgmqxKNl3yzD9uPHD7x9+9ZjfUlJCb5//z7oa38hISH48+ePt+QJg7tvlmGzWCzYv3+/x/rT
p08jIyMDY8cObp1BcHAwWltbvSVPGNx9swzbkiVLUFpaCpvN1qeuoaEBBQUF2LFjR69yl8vlsb+g
oCB0dHR4Xae34e6bZdgMBgOSk5Px7NmzPnXXr1/H2rVrERIS4i57/vw5VqxYAfLwwKaAgAB0dXWJ
kus1uPtmGTYAMJlMePz4ca8yIsLVq1exc+dOd9mPHz+QlpaGzMxMjzvNfn5+A44AWoKzb9Zhe/To
Ua+yDx8+oL29HYsXLwYAdHd3Y/Pmzdi9ezdMJpPHvpxOJ8aMGSNUr7fg7Jtt2BITE9Hc3Iyamhp3
WW5uLrZu3Qo/vx5bBw8exIQJE3Do0KEB++rq6oK/v79Qvd6Cs2+2YfPz88Py5cvdUwoR4e7du9i0
aROAni/gwYMHuHHjhvtL8ERHRwf0er1wzd6As2+2YQN6TylWqxXd3d1ISkpCeXk5MjIycPfu3V47
zJ6w2WwIDg4WLddrcPXNOmwpKSl48uQJnE4n8vPzsXr1athsNmzYsAEnTpzAnDlzBtVPS0vLoL4c
rcDVN+uwTZ48GZMmTcK7d+9QWFiIlStXYufOnVi6dCm2b98+6H4aGxsRHh4uTqiX4eqb/a18JpMJ
+fn5KCkpQVlZGWpqanDz5s0h9VFfX49JkyYJUigGlr6lrS8RREFBAc2ePZvi4uIoIiKCvn37NqTt
W1tbKTAwkFwulyCFYuDom33YWltbyd/fn/R6PRUWFg55e6vVSkajUYAysXD0zXqfDei5hKPT6TBv
3rwBT2B6orKyEjNnzhSgTCwcfbMPG9CzVObKlSvD2vbz58/93n3EAW6+2YetsbERdrsd0dHRw9re
arVi1qxZXlYlHo6+2YfNarUiPj5+UCtT+8NisWD27NleViUejr7Zh+3z58+IjY0d1ralpaWwWCyY
MWOGl1WJh6Nv9mEb7o5uR0cH0tLS4O/vj69fvwpQJhaOvtmH7du3b5g+ffqQt9u7dy+CgoIQHx/f
Z8kOBzj6Zh+22tpaREVFDWmby5cv4/Xr14iMjMSaNWtYho2lb6ln9QQQFRVF1dXVg27/9u1bCg8P
J4vFQuPHj6fa2loKDg6mlpYWcSIFwNE3+5Gtqalp0BeTf//+jdTUVJw7dw7Nzc0wGo2YMmUKFi5c
iKdPnwpW6l04+mYdts7OTjidzkEtAHQ6nUhPT8fGjRuRmpqK/Px8rFq1CkD/S621DFvf0sZQAfz6
9YvCwsIG1fbw4cO0ZMkS6u7uJpfLRTNnzqTS0lIiIiorK6Po6GiRUr0KV9+sw1ZdXU1Tp079a7v8
/HyaPHky/fz5k4iI3r9/T9OnT3eveHC5XBQZGUmVlZVC9XoLrr5ZT6N2ux3jxo0bsE11dTV27NiB
3NxcREZGAuhZp79lyxb32XedTtfvLXJaha1vKZEWRHl5OcXGxnqsb29vp6SkJDp16pS7zOFwUFRU
FJWVlfVqe+PGDVq/fr0wrd6Eq2/WI5tOp/N4tzcAHD9+HEajEfv27XOXPXnyBOHh4UhISOjVdvny
5SgqKoLD4RCm11uw9S0l0oL4+vXrgDu4bW1tfZ71v3HjRjp37ly/7RMTE+nly5de1SgCrr5Zj2yB
gYHo7Oz0WK/X63vdqlZXV4eioiKkp6f3257LKRCuvlnf8GIwGIb0yKezZ88iPT0d48eP77c+LS0N
1dXV3pInDK6+dUQDTP4ax+l0Yty4cbDb7X99ZoXNZkN0dDSKi4tZLgP/b7j6Zj2NjhkzBv/88w+a
m5v/2vbixYtYtmyZzz9wb8DVN+tpFAAmTpyIX79+DXidsL29HSdPnkRhYaFEZWLh6Jv1yAb03B1e
V1c3YJuzZ89i4cKFLJd/e4Kjb/Yj27Rp03o9Pup/aWlpwYkTJ/p9WiNnOPpmP7LNmDFjwL/FOXr0
KNatW4e4uDiJqsTD0Tf7kc1oNOL27dv91n358gXXrl3Dp0+fJKsSD0ff7Ee2uLg4VFRU9CknImRk
ZCArK8t9IXokwdK38GsUgrHb7RQUFERtbW29ym/dukUJCQnU1dXlI2Vi4eibfdiIiObOnUuvXr1y
v29oaKCIiAh6/fq1D1WJh5tv9tMoAMyfPx8lJSUAeqaRPXv2YNu2bUhOTvaxMrFw8z0iwrZgwQIU
FxcD6PnziYqKChw5csTHqsTDzTf7o1Gg5/rf/fv3sWjRInz8+BEvXrxAYGCgr2UJh51vX8/j/y95
eXkUEhJCAAgA6fV6MpvNvpYlHI6+2U+jly5dQktLi/t9e3s7Ll686ENFcuDoW1NLjIb7+Cdv4auP
YrT41tTIRj2nYob0ysvLQ2hoqLuP0NBQmM3mYfWlfItFUyPbcLlz5457Ctm1a9eg/0mYO9x8j4iw
KXigqWlUMbJRYVNIQ4VNIQ0VNoU0VNgU0lBhU0hDhU0hDRU2hTRU2BTSUGFTSEOFTSENFTaFNFTY
FNJQYVNIQ4VNIQ0VNoU0VNgU0lBhU0hDhU0hDRU2hTRU2BTSUGFTSEOFTSGNfwElYIZWTZIXZgAA
AABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-ccd-equations">The CCD equations</h2>
<p>To show some of the potential in such a code, we will now develop the full CCD equation.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[52]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">H</span> <span class="o">=</span> <span class="n">normal_ordered_hamiltonian</span><span class="p">()</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> 
<span class="n">expT</span> <span class="o">=</span> <span class="n">expand_ansatz</span><span class="p">([[</span><span class="n">T_2</span><span class="p">]],</span> <span class="mi">4</span><span class="p">)</span> <span class="c">#Natural truncation</span>
<span class="n">tx</span> <span class="o">=</span> <span class="n">combine_to_excitation</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">expT</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span> <span class="c">#The list is explained below</span>
<span class="n">S</span> <span class="o">=</span> <span class="s">&quot;0 = &quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tx</span><span class="p">:</span>
    <span class="n">S</span><span class="o">+=</span> <span class="s">&quot;+&quot;</span> <span class="o">+</span> <span class="n">i</span>
<span class="n">Math</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area"><div class="prompt output_prompt">
    Out[52]:</div>


<div class="output_latex output_subarea output_pyout">
$$0 = +\frac{1}{4} \sum_{cdkl} \langle kl || cd \rangle t_{kl}^{cd}$$
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[53]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">H</span> <span class="o">=</span> <span class="n">normal_ordered_hamiltonian</span><span class="p">()</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> 
<span class="n">expT</span> <span class="o">=</span> <span class="n">expand_ansatz</span><span class="p">([[</span><span class="n">T_2</span><span class="p">]],</span> <span class="mi">4</span><span class="p">)</span> <span class="c">#Natural truncation</span>
<span class="n">tx</span> <span class="o">=</span> <span class="n">combine_to_excitation</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">expT</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span> <span class="c">#The list is explained below</span>
<span class="n">S</span> <span class="o">=</span> <span class="s">&quot;0 = &quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tx</span><span class="p">:</span>
    <span class="n">S</span><span class="o">+=</span> <span class="s">&quot;+&quot;</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="n">Math</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
KDDCFQVGuPo/j7g+1f2j0F8AAAAASUVORK5CYII=
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
Cka4ooIRrv4BLqI6nCJK2JQAAAAASUVORK5CYII=
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
rkJggg==
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
mPoPSIZJcnoqBewAAAAASUVORK5CYII=
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
buAG2VRhAAAAAElFTkSuQmCC
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
cTFh/gdZRkEoLXg5WgAAAABJRU5ErkJggg==
"
>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

<div class="output_area"><div class="prompt output_prompt">
    Out[53]:</div>


<div class="output_latex output_subarea output_pyout">
$$0 = +P(ba)\frac{-1}{1} \sum_{c} \langle a || c \rangle t_{ij}^{cb}
+P(ij)\frac{1}{1} \sum_{k} \langle k || j \rangle t_{ik}^{ab}
+\frac{1}{2} \sum_{cd} \langle ab || cd \rangle t_{ij}^{cd}
+\frac{1}{2} \sum_{kl} \langle kl || ij \rangle t_{kl}^{ab}
+P(ba)P(ij)\frac{-1}{1} \sum_{ck} \langle ak || cj \rangle t_{ik}^{cb}
+P(ij)\frac{-1}{2} \sum_{cdkl} \langle kl || cd \rangle t_{ik}^{cd} t_{jl}^{ab}
+\frac{1}{4} \sum_{cdkl} \langle kl || cd \rangle t_{ij}^{cd} t_{kl}^{ab}
+P(ab)\frac{-1}{2} \sum_{ckld} \langle kl || cd \rangle t_{kl}^{ca} t_{ij}^{db}
+P(ab)P(ij)\frac{1}{2} \sum_{ckdl} \langle kl || cd \rangle t_{ik}^{ca} t_{jl}^{db}
$$
</div>

</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="generating-code">Generating code</h2>
<p>When the diagrammatic representation is understood by the computer, it is easy to translate it to latex, diagrams, text or even code.</p>
<p>In the example below, we generate a C++ code directly for the T2 CCD amplitude instead of diagrams or latex:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[54]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">H</span> <span class="o">=</span> <span class="n">normal_ordered_hamiltonian</span><span class="p">()</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> 
<span class="n">expT</span> <span class="o">=</span> <span class="n">expand_ansatz</span><span class="p">([[</span><span class="n">T_2</span><span class="p">]],</span> <span class="mi">4</span><span class="p">)</span> <span class="c">#Natural truncation</span>
<span class="n">tx</span> <span class="o">=</span> <span class="n">combine_to_excitation</span><span class="p">(</span><span class="n">H</span><span class="p">,</span><span class="n">expT</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="c">#The list is explained below</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>

double CC0_0a = 0.0;
for(int c = nElectrons; c &lt; nStates; c ++){
    CC0_0a += v1(a)(c)*tf2(c,b)(i,j)-(v1(b)(c)*tf2(c,a)(i,j));
}
CC0_0a *= -1.000000;


double CC1_0a = 0.0;
for(int k = 0; k &lt; nElectrons; k ++){
    CC1_0a += v1(k)(j)*tf2(a,b)(i,k)-(v1(k)(i)*tf2(a,b)(j,k));
}
CC1_0a *= 1.000000;


double CC4_0a = 0.0;
for(int d = nElectrons; d &lt; nStates; d ++){
    for(int c = nElectrons; c &lt; nStates; c ++){
        CC4_0a += v2(a,b)(c,d)*tf2(c,d)(i,j);
    }
}
CC4_0a *= 0.500000;


double CC5_0a = 0.0;
for(int l = 0; l &lt; nElectrons; l ++){
    for(int k = 0; k &lt; nElectrons; k ++){
        CC5_0a += v2(k,l)(i,j)*tf2(a,b)(k,l);
    }
}
CC5_0a *= 0.500000;


double CC6_0a = 0.0;
for(int k = 0; k &lt; nElectrons; k ++){
    for(int c = nElectrons; c &lt; nStates; c ++){
        CC6_0a += v2(a,k)(c,j)*tf2(c,b)(i,k)-(v2(b,k)(c,j)*tf2(c,a)(i,k))-(v2(a,k)(c,i)*tf2(c,b)(j,k)-(v2(b,k)(c,i)*tf2(c,a)(j,k)));
    }
}
CC6_0a *= -1.000000;


double CC12_1a = 0.0;
for(int l = 0; l &lt; nElectrons; l ++){
    for(int k = 0; k &lt; nElectrons; k ++){
        for(int d = nElectrons; d &lt; nStates; d ++){
            for(int c = nElectrons; c &lt; nStates; c ++){
                CC12_1a += v2(k,l)(c,d)*tf2(c,d)(i,k)*tf2(a,b)(j,l)-(v2(k,l)(c,d)*tf2(c,d)(j,k)*tf2(a,b)(i,l));
            }
        }
    }
}
CC12_1a *= -0.500000;


double CC12_1b = 0.0;
for(int l = 0; l &lt; nElectrons; l ++){
    for(int k = 0; k &lt; nElectrons; k ++){
        for(int d = nElectrons; d &lt; nStates; d ++){
            for(int c = nElectrons; c &lt; nStates; c ++){
                CC12_1b += v2(k,l)(c,d)*tf2(c,d)(i,j)*tf2(a,b)(k,l);
            }
        }
    }
}
CC12_1b *= 0.250000;


double CC12_1c = 0.0;
for(int d = nElectrons; d &lt; nStates; d ++){
    for(int l = 0; l &lt; nElectrons; l ++){
        for(int k = 0; k &lt; nElectrons; k ++){
            for(int c = nElectrons; c &lt; nStates; c ++){
                CC12_1c += v2(k,l)(c,d)*tf2(c,a)(k,l)*tf2(d,b)(i,j)-(v2(k,l)(c,d)*tf2(c,b)(k,l)*tf2(d,a)(i,j));
            }
        }
    }
}
CC12_1c *= -0.500000;


double CC12_1d = 0.0;
for(int l = 0; l &lt; nElectrons; l ++){
    for(int d = nElectrons; d &lt; nStates; d ++){
        for(int k = 0; k &lt; nElectrons; k ++){
            for(int c = nElectrons; c &lt; nStates; c ++){
                CC12_1d += v2(k,l)(c,d)*tf2(c,a)(i,k)*tf2(d,b)(j,l)-(v2(k,l)(c,d)*tf2(c,b)(i,k)*tf2(d,a)(j,l))-(v2(k,l)(c,d)*tf2(c,a)(j,k)*tf2(d,b)(i,l)-(v2(k,l)(c,d)*tf2(c,b)(j,k)*tf2(d,a)(i,l)));
            }
        }
    }
}
CC12_1d *= 0.500000;


</pre>
</div>
</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="three-body-interactions-">Three body interactions?</h2>
<p>In principle, extending the code to include three body interactions is trivial.</p>
<p>This functionality is however not yet implemented.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[60]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">H</span>   <span class="o">=</span> <span class="n">Operator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">],[])</span>      <span class="c"># The first list defines q-particle annihilations (below interaction),</span>
                               <span class="c"># while the second is creations. Particles and holes are indicated by 1 and -1 respectively.</span>
<span class="n">T_1</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>      <span class="c">#The T_1 cluster operator</span>
<span class="n">T_2</span> <span class="o">=</span> <span class="n">Operator</span><span class="p">([],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="c">#The T_2 operator; all lists must be normal ordered</span>
<span class="n">expT</span> <span class="o">=</span> <span class="n">expand_ansatz</span><span class="p">([[</span><span class="n">T_2</span><span class="p">]],</span> <span class="mi">4</span><span class="p">)</span> <span class="c">#Natural truncation</span>
<span class="n">tx</span> <span class="o">=</span> <span class="n">combine_to_excitation</span><span class="p">([</span><span class="n">H</span><span class="p">],</span><span class="n">expT</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="c">#All combinations that produce excitation level 1</span>
<span class="n">S</span> <span class="o">=</span> <span class="s">&quot;0 =&quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tx</span><span class="p">:</span>
    <span class="n">S</span><span class="o">+=</span> <span class="s">&quot;+&quot;</span><span class="o">+</span> <span class="n">i</span>
<span class="n">Math</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[60]:</div>


<div class="output_latex output_subarea output_pyout">
$$0 =$$
</div>

</div>

</div>
</div>

</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="how-ccalgebra-works">How CCAlgebra works</h2>
<ul>
<li>Operators are created as classes</li>
<li>The O() class will create a combined operator form two ore more operators.</li>
<li>Generating all distinct combinations is done by implementing <em>itertools</em>:<ul>
<li>Set up strings of symbols representing the cluster operators:<ul>
<li><ul>
<li>| + + - - </li>
</ul>
</li>
</ul>
</li>
<li>Create all permutations of this string</li>
<li>Sort out all non-contributing terms<ul>
<li>Cases where no contractions happen with certain clusters
| + - + + - - <ul>
<li>| | + + - - - </li>
</ul>
</li>
<li>Cases that do not connect to the hamiltonian</li>
<li>Indistinct permutations</li>
<li>And so on</li>
</ul>
</li>
<li>When only distinct diagrams remain, these are returned as a list of &quot;schemas&quot; (or blueprints).</li>
<li>These schemas may be passed to different classes, that sets up the desired representation:<ul>
<li>Diagrams</li>
<li>Latex</li>
<li>Code</li>
<li>... Other possibilities?</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="applying-the-coupled-cluster-method">Applying the Coupled Cluster method</h1>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="fermion-mingle">Fermion Mingle</h1>
<p>www.github.com/audunsh/FermionMingle</p>
<p>During this semester I have also written an CC extension to a Hartree Fock solver I wrote as part of the course FYS4411.</p>
<p>The solver is named &quot;Fermion Mingle&quot;, and currently supports</p>
<ul>
<li>Gaussian basis sets and integral calculations</li>
<li>Restricted Hartree-Fock</li>
<li>Unrestricted Hartree-Fock</li>
<li>Coupled Cluster (CCD, CCSD)</li>
<li>Electron density evaluation</li>
</ul>
<p>Some functions are implemented in python:</p>
<ul>
<li>CCalgebra - An environment for coupled cluster calculations and code generation</li>
<li>TurbomoleConverter - A script for generating C++ code from turbomole files</li>
</ul>
<p>While the solver in its current state is designed to do calculations on atoms and molecules, the intention is to make it more general and to include fermionic gas caluclations. (electron and neutron).</p>
<hr>
<p><strong>The code generated for CCD above was successfully copy-pasted into a function in this solver and reproduced exactly the handwritten code, which in turn have been benchmarked against the literature.</strong></p>
<hr>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="fermion-mingle-environment">Fermion Mingle environment</h2>
<p>A number of classes is written for flexible calculations on a variety of atomic and molecular systems:</p>
<pre><code>    cout &lt;&lt; &quot;Performing UHF on H2 using STO-6G set&quot; &lt;&lt; endl;
    vec3 corePos1 = {0,0,0};                       //setting up some position vectors for the cores
    vec3 corePos2 = {0,0,6.0};
    fmingle myparty;                               //creating the system
    myparty.add_nucleus(corePos1, 1);              //creating a nucleus with charge 1
    myparty.add_nucleus(corePos2, 1);               //creating a nucleus with charge 1
    myparty.fminglebasisbank.add_STO_3G_h(corePos1);//creating an electron at core 1 using STO-3G basis set
    myparty.fminglebasisbank.add_STO_6G_h(corePos2);//creating an electron at core 2 using STO-6G basis set
    //myparty.rhf_solve(2);                         //perform a rhf procedure for 2 electrons

    myparty.uhf_solve(1,1);                         //perform a uhf procedure for config 1 up, 1 down
    //myparty.ccsd_solve(2);                        //perform a CCSD procedure on the obtained reference state
    cout &lt;&lt; &quot;UHF energy:&quot; &lt;&lt; myparty.uhf_energy &lt;&lt; endl;
    cout &lt;&lt; &quot;Correlation energy:&quot; &lt;&lt; myparty.correlation_energy &lt;&lt; endl;
</code></pre>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="a-model-experiment-h2">A model experiment: H2</h1>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="dissosciation-energy">Dissosciation energy</h2>
<p>Studying the behaviour of the $H_2$ ground state energy with increasing bond lengths, will reveal some features of the methods discussed.</p>
<p>When the atoms (and electrons) are close together this system may be accurately described by RHF, since the two electrons will pair up with opposite spin in a single orbital.</p>
<p>Increasing the distance between the nucleuses will however make this description less accurate. For large distances, the artifical constraint of spin pairing will no longer be a good representation of the system, and we should expect the energy to diverge above the expected energy.</p>
<p>In reality the bond is expected to be broken for large distances, so that the energy should just be the sum of to separate systems.</p>
<p>I have done some calculations on this system using Fermion Mingle.</p>
<p>[Szabo, Modern Quantum Chemistry, p165]</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="method-comparison">Method comparison</h2>
<p><img src="uhf_rhf_ccsd_h2.png" alt="STO-6G"></p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-amplitude-coefficients">The amplitude coefficients</h2>
<p><img src="H2T2.png" alt="H2T2"></p>
<p>(Observation, 18.12.14: In regions with no T2 contribution, T1 amplitudes peaks to an order of $10^{-5}$ (from $10^{-15}$.)</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="general-result-comparison">General result comparison</h2>
<table>
<thead>
<tr>
<th>System</th>
<th>Total energy (a.u.)</th>
<th>Correlation (a.u.)</th>
<th>Parameters</th>
<th>Comparison</th>
</tr>
</thead>
<tbody>
<tr>
<td>H2</td>
<td>-1.13728</td>
<td>-0.0205616</td>
<td>Bond length: 1.4, STO-3G, RHF+CCSD</td>
<td>HF-limit: -1.132 (2), Exact correlation -0.03969 (1)</td>
</tr>
<tr>
<td>H2</td>
<td>-1.14593</td>
<td>-0.0206048</td>
<td>Bond length: 1.4, STO-6G, RHF+CCSD</td>
<td>HF-limit: -1.132 (2), Exact correlation -0.03969 (1)</td>
</tr>
<tr>
<td>O2</td>
<td>-147.696</td>
<td>-0.145003</td>
<td>Bond lenght: 2.287, STO-3G, RHF+CCSD</td>
<td>HF-limit: -, Exact correlation -0.37 (1)</td>
</tr>
<tr>
<td>O</td>
<td>-73.7092</td>
<td>-0.047385</td>
<td>STO-3G, RHF+CCSD</td>
<td>HF-limit-74.729 (2), Correlation: -0.262 (2)</td>
</tr>
<tr>
<td>Be</td>
<td>-14.4037</td>
<td>-0.0517703</td>
<td>STO-3G, RHF+CCSD</td>
<td>General HF: -14.67 (3)</td>
</tr>
<tr>
<td>Be</td>
<td>-14.5199</td>
<td>-0.00484722</td>
<td>Hydrogenlike (4 functions), RHF+CCSD</td>
<td>General HF: -14.67 (3)</td>
</tr>
<tr>
<td>He</td>
<td>-2.84228</td>
<td>-0.00868762</td>
<td>Hydrogenlike (4 functions), RHF+CCSD</td>
<td>General HF: -2.904 (3)</td>
</tr>
</tbody>
</table>
<p>(1) Results from Thijssen, p84, obtained from variational calculus</p>
<p>(2) results from 460performance.pdf (see text above)</p>
<p>(3) Source given in &quot;Report from FYS4411 - Gøran Brekke Svaland and Audun Skau Hansen&quot;</p>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="future-prospects">Future Prospects</h2>
<p>A number of future prospects for Fermion Mingle:</p>
<ul>
<li>Improving convergence, possibly using relaxation.</li>
<li>Full integration of CCAlgebra into Fermion Mingle (or the other way around)</li>
<li>Periodic fermion gas calculations (following the work of G.Baardsen)</li>
<li>Make calculation of properties using CC possible.</li>
<li>Support for parallellized calculations</li>
<li>Optimizing atomic-to-molecular transformation (following the work of O.T.Norli)</li>
<li>Support for UHF-CCSD</li>
<li>Optimizing the CC method using intermediates</li>
</ul>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="end-of-presentation">End of presentation</h1>
</div>
</div>
</div></section>
    </section><section>
    <section>
    
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="the-water-molecule">The water molecule</h2>
<p>We have previously done some calculations on H2O using RHF and STO-3G to determine geometry and ground state energy. The results corresponded rather nice to the ones presented in the literature (see Report from FYS4411 - Gøran Brekke Svaland and Audun Skau Hansen). </p>
<p>We now use the geometry and energy presented in the following document to compare our Coupled Cluster Singles Doubles (CCSD) solver to the corresponding calculations performed by NWChem: <url><a href="http://institute.loni.org/NWChem2012/documents/tce-session.pdf">http://institute.loni.org/NWChem2012/documents/tce-session.pdf</a></url>. </p>
<p>Prior to the CCSD calculation the different algorithms starts out with the following parameters:</p>
<p>HF-energy (NWChem) : -74.962663062148</p>
<p>HF-energy (CCSolve): -74.962677575226</p>
<p>HF-limit           : -76.067 (<url><a href="http://chemistry.illinoisstate.edu/standard/che460/handouts/460performance.pdf">http://chemistry.illinoisstate.edu/standard/che460/handouts/460performance.pdf</a></url>)</p>
<p>The results from each iteration is presented in the table below. The rightmost coulomn contains the results obtained by CCSolve.</p>
<table>
<thead>
<tr>
<th>Iter</th>
<th>Correlation(NWChem)</th>
<th>Correlation (CCsolve)</th>
<th>Rel.Error</th>
</tr>
</thead>
<tbody>
<tr>
<td> 1</td>
<td>-0.0358672469179</td>
<td>-0.035897626185118</td>
<td>0.0008469919</td>
</tr>
<tr>
<td> 2</td>
<td>-0.0454068882657</td>
<td>-0.04544804888198</td>
<td>0.000906484</td>
</tr>
<tr>
<td> 3</td>
<td>-0.0483870059027</td>
<td>-0.048432634274069</td>
<td>0.0009429881</td>
</tr>
<tr>
<td> 4</td>
<td>-0.0494370597647</td>
<td>-0.049484831256215</td>
<td>0.0009663093</td>
</tr>
<tr>
<td> 5</td>
<td>-0.0498391184890</td>
<td>-0.049888079084351</td>
<td>0.0009823728</td>
</tr>
<tr>
<td> 6</td>
<td>-0.0500021724029</td>
<td>-0.050051825093841</td>
<td>0.0009930107</td>
</tr>
<tr>
<td> 7</td>
<td>-0.0500711904756</td>
<td>-0.050121251581979</td>
<td>0.0009997986</td>
</tr>
<tr>
<td> 8</td>
<td>-0.0501014381364</td>
<td>-0.050151741527804</td>
<td>0.0010040309</td>
</tr>
<tr>
<td> 9</td>
<td>-0.0501150974135</td>
<td>-0.05016554465157</td>
<td>0.0010066276</td>
</tr>
<tr>
<td> 10</td>
<td>-0.0501214303300</td>
<td>-0.050171962746426</td>
<td>0.0010081998</td>
</tr>
<tr>
<td> 11</td>
<td>-0.0501244348663</td>
<td>-0.050175017473014</td>
<td>0.0010091407</td>
</tr>
<tr>
<td> 12</td>
<td>-0.0501258887096</td>
<td>-0.050176500709333</td>
<td>0.0010096978</td>
</tr>
<tr>
<td> 13</td>
<td>-0.0501266039080</td>
<td>-0.050177233008851</td>
<td>0.0010100246</td>
</tr>
<tr>
<td> 14</td>
<td>-0.0501269605251</td>
<td>-0.050177599511074</td>
<td>0.0010102146</td>
</tr>
<tr>
<td> 15</td>
<td>-0.0501271402835</td>
<td>-0.050177784948453</td>
<td>0.0010103242</td>
</tr>
<tr>
<td> 16</td>
<td>-0.0501272316751</td>
<td>-0.050177879584002</td>
<td>0.0010103871</td>
</tr>
<tr>
<td>17</td>
<td>-0.0501272784536</td>
<td>-0.05017792820593</td>
<td>0.0010104229</td>
</tr>
<tr>
<td> 18</td>
<td>-0.0501273025229</td>
<td>-0.050177953317881</td>
<td>0.0010104433</td>
</tr>
<tr>
<td> 19</td>
<td>-0.0501273149581</td>
<td>-0.050177966340254</td>
<td>0.0010104547</td>
</tr>
<tr>
<td> 20</td>
<td>-0.0501273214031</td>
<td>(converged)</td>
<td>(none)</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre> 
</pre></div>

</div>
</div>
</div>

</div>
</div>
</div>

<script src="reveal.js/lib/js/head.min.js"></script>

<script src="reveal.js/js/reveal.js"></script>

<script>

// Full list of configuration options available here: https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
controls: true,
progress: true,
history: true,

theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/none

// Optional libraries used to extend on reveal.js
dependencies: [
{ src: "reveal.js/lib/js/classList.js", condition: function() { return !document.body.classList; } },
{ src: "reveal.js/plugin/highlight/highlight.js", async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
{ src: "reveal.js/plugin/notes/notes.js", async: true, condition: function() { return !!document.body.classList; } }
]
});
</script>

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration -->

<script>
Reveal.addEventListener( 'slidechanged', function( event ) {
  window.scrollTo(0,0);
  MathJax.Hub.Rerender(event.currentSlide);
});
</script>

</body>

</html>
