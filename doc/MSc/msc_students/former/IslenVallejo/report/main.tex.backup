\documentclass[11pt, twosides, english]{book}
\usepackage[latin1]{inputenc}
\usepackage[dvips]{graphicx, epsfig}
\usepackage{amssymb, amsmath, a4}
\usepackage{babel,textcomp}
\usepackage{graphics,color}
\usepackage{mystyle}    % my commands
\usepackage{setspace}
%%%%\usepackage{palatino}
\usepackage{color}
\usepackage[T1]{fontenc}%[T1]
\usepackage{amsbsy} % itallics in mathmode
\usepackage{verbatim}
\usepackage{booktabs}
\usepackage{gnuplot-lua-tikz}
%%%%%%\usepackage[hscale=0.75, vscale=0.75, inner=3cm, outer=2cm, heightrounded]{geometry}



\usepackage{babel,textcomp,type1ec,pdfpages}
\usepackage{listings, bera}
\usepackage{color}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
 

% Default settings for code listings
% \lstnewenvironment{Python}[1]{
\lstset{%frame=tb,
  language=c++,
  alsolanguage=python,
  %aboveskip=3mm,
 % belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\footnotesize\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  frame=single,  
  breaklines=true,
  %%%% FOR PYTHON 
  otherkeywords={\ , \}, \{},
  keywordstyle=\color{blue},
  emph={void, ||, &&, break, class,continue, delete, else,
  for, if, include, return,try,while},
  emphstyle=\color{black}\bfseries,
  emph={[2]True, False, None, self},
  emphstyle=[2]\color{dkgreen},
  emphstyle=[2]\color{red},
  emph={[3]from, import, as},
  emphstyle=[3]\color{blue},
  upquote=true,
  morecomment=[s]{"""}{"""},
  commentstyle=\color{green}\slshape, %%% cambie gray por green
  emph={[4]1, 2, 3, 4, 5, 6, 7, 8, 9, 0},
  emphstyle=[4]\color{blue},
%   literate=*{:}{{\textcolor{blue}:}}{1}%
%   {=}{{\textcolor{blue}=}}{1}%
%   {-}{{\textcolor{blue}-}}{1}%
%   {+}{{\textcolor{blue}+}}{1}%
%   {*}{{\textcolor{blue}*}}{1}%
%   {!}{{\textcolor{blue}!}}{1}%
%   {(}{{\textcolor{blue}(}}{1}%
%   {)}{{\textcolor{blue})}}{1}%
%   {[}{{\textcolor{blue}[}}{1}%
%   {]}{{\textcolor{blue}]}}{1}%
%   {<}{{\textcolor{blue}<}}{1}%
%   {>}{{\textcolor{blue}>}}{1},%
  breakatwhitespace=true,
  tabsize=2
}
% % }{}


% % % % \lstnewenvironment{C++}[1]{
% % % % \lstset{language=c++,
% % % % \lstset{alsolanguage=[90]Fortran}
% % % % \lstset{basicstyle=\footnotesize}%\small}
% % % % \lstset{backgroundcolor=\color{white}}
% % % % \lstset{frame=single}
% % % % \lstset{stringstyle=\ttfamily}
% % % % \lstset{keywordstyle=\color{red}\bfseries}
% % % % \lstset{commentstyle=\itshape\color{blue}}
% % % % \lstset{showspaces=false}
% % % % \lstset{showstringspaces=false}
% % % % \lstset{showtabs=false}
% % % % \lstset{breaklines}
% % % % }}{}

\renewcommand{\lstlistlistingname}{Code Listings}
\renewcommand{\lstlistingname}{Code Listing}
\definecolor{gray}{gray}{0.5}
\definecolor{green}{rgb}{0,0.5,0}

\lstnewenvironment{Python}[1]{
\lstset{
language=python,
% basicstyle=\ttfamily\small\setstretch{1},
basicstyle=\footnotesize\setstretch{1},
stringstyle=\color{red},
showstringspaces=false,
alsoletter={1234567890},
otherkeywords={\ , \}, \{},
keywordstyle=\color{blue},
emph={access,and,break,class,continue,def,del,elif ,else,%
except,exec,finally,for,from,global,if,import,in,is,%
lambda,not,or,pass,print,raise,return,try,while},
emphstyle=\color{black}\bfseries,
emph={[2]True, False, None, self},
emphstyle=[2]\color{red},
emph={[3]from, import, as},
emphstyle=[3]\color{blue},
upquote=true,
morecomment=[s]{"""}{"""},
commentstyle=\color{dkgreen}\slshape, % el color era gray pero lo cambie a verde
emph={[4]1, 2, 3, 4, 5, 6, 7, 8, 9, 0},
emphstyle=[4]\color{blue},
% literate=*{:}{{\textcolor{blue}:}}{1}%
% {=}{{\textcolor{blue}=}}{1}%
% {-}{{\textcolor{blue}-}}{1}%
% {+}{{\textcolor{blue}+}}{1}%
% {*}{{\textcolor{blue}*}}{1}%
% {!}{{\textcolor{blue}!}}{1}%
% {(}{{\textcolor{blue}(}}{1}%
% {)}{{\textcolor{blue})}}{1}%
% {[}{{\textcolor{blue}[}}{1}%
% {]}{{\textcolor{blue}]}}{1}%
% {<}{{\textcolor{blue}<}}{1}%
% {>}{{\textcolor{blue}>}}{1},%
framexleftmargin=1mm, framextopmargin=1mm, rulesepcolor=\color{blue},
breakatwhitespace=true,
tabsize=2
}}{}


\lstnewenvironment{C++}[1]{
\lstset{
language=c++,
% basicstyle=\ttfamily\small\setstretch{1},
basicstyle=\footnotesize\setstretch{1},
stringstyle=\color{red},
showstringspaces=false,
alsoletter={1234567890},
otherkeywords={\ , \}, \{},
keywordstyle=\color{blue},
emph={access,and,break,class,continue,def,del,elif ,else,%
except,exec,finally,for,from,global,if,import,in,is,%
lambda,not,or,pass,print,raise,return,try,while},
emphstyle=\color{black}\bfseries,
emph={[2]True, False, None, self},
emphstyle=[2]\color{red},
emph={[3]from, import, as},
emphstyle=[3]\color{blue},
upquote=true,
morecomment=[s]{"""}{"""},
commentstyle=\color{dkgreen}\slshape, % el color era gray pero lo cambie a verde
emph={[4]1, 2, 3, 4, 5, 6, 7, 8, 9, 0},
emphstyle=[4]\color{blue},
% literate=*{:}{{\textcolor{blue}:}}{1}%
% {=}{{\textcolor{blue}=}}{1}%
% {-}{{\textcolor{blue}-}}{1}%
% {+}{{\textcolor{blue}+}}{1}%
% {*}{{\textcolor{blue}*}}{1}%
% {!}{{\textcolor{blue}!}}{1}%
% {(}{{\textcolor{blue}(}}{1}%
% {)}{{\textcolor{blue})}}{1}%
% {[}{{\textcolor{blue}[}}{1}%
% {]}{{\textcolor{blue}]}}{1}%
% {<}{{\textcolor{blue}<}}{1}%
% {>}{{\textcolor{blue}>}}{1},%
framexleftmargin=1mm, framextopmargin=1mm, rulesepcolor=\color{blue},
breakatwhitespace=true,
tabsize=2
}}{}




\usepackage{tikz}
\usetikzlibrary{shapes,arrows}

% Define block styles
\tikzstyle{decision} = [diamond, draw, fill=blue!20,
    text width=3.5em, text badly centered, node distance=2.5cm, inner sep=0pt]
\tikzstyle{block} = [rectangle, draw, fill=blue!20,
    text width=8em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, very thick, color=black!50, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=2.5cm,
    minimum height=2em]

\def\radius{.7mm} 
\tikzstyle{branch}=[fill,shape=circle,minimum size=3pt,inner sep=0pt]




%\setlength{\parindent}{0}
%\usepackage[breaklinks = true]{hyperref}

%\usepackage{makeidx} %If you want to generate an index, automatically 
\usepackage{shadow}
\usepackage{bezier}
\usepackage{pstricks}
\usepackage{float}
  
\floatstyle{ruled}
\newfloat{program}{thp}{lop}
\floatname{program}{Algorithm}
\usepackage{algorithmic}
\usepackage{algorithm2e}

%\usepackage{chapterbib}
\usepackage{cite} % [2,3,4] --> [2--4]

\usepackage{listings}
\usepackage{epic, eepic}
\usepackage{url}

%% Define a new 'leo' style for the package that will use a smaller font.
% \makeatletter
% \def\url@leostyle{%
%   \@ifundefined{selectfont}{\def\UrlFont{\sf}}{\def\UrlFont{\small\ttfamily}}}
% \makeatother
%% Now actually use the newly defined style.
%\urlstyle{leo}

\begin{large}\end{large}
% black hyperlinks
\usepackage[pdftex]{hyperref}
\hypersetup{
    colorlinks,%
    citecolor=black,%
    filecolor=black,%
    linkcolor=black,%
    urlcolor=black
}


\newenvironment{mylisting}
{\begin{list}{}{\setlength{\leftmargin}{1em}}\item\scriptsize\bfseries}
{\end{list}}

\newenvironment{mytinylisting}
{\begin{list}{}{\setlength{\leftmargin}{1em}}\item\tiny\bfseries}
{\end{list}}


%%%%% MODIFICAR PARA GENERALIZARLO CON PYTHON Y OTROS LENGUAGES. FUNDIR EN UNO SOLO 
%%%%% CON EL CODIGOO DE ABAJO
\setcounter{tocdepth}{2}



% redefine page style
\usepackage{fancyhdr}
% choose pagestyle fancy and define it
\pagestyle{fancy}
\fancyhead{} %clear everything
\fancyfoot{} %clear everything
\addtolength{\headheight}{1.5pt}
\addtolength{\headwidth}{2.5\marginparsep}
% \renewcommand{\chaptermark}[1]{\mymarkboth{#1}{}}
% \renewcommand{\sectionmark}[1]{\mymarkright{#1}}
\fancyfoot[EL,OR]{\bfseries\itshape\thepage}
\fancyhead[EL]{\nouppercase{\bfseries\itshape\leftmark}}
\fancyhead[OR]{\nouppercase{\bfseries\itshape\rightmark}}
\renewcommand{\headrulewidth}{1pt}
% redefine plain page style. used on first pages of chapters et.c.
\fancypagestyle{plain}{\fancyhf{}\fancyfoot[EL,OR]{\bfseries\itshape\thepage}%
  \renewcommand{\headrulewidth}{0pt}
}
%









% redefine bullet. looks better with an ndash.
%
\renewcommand{\labelitemi}{\bfseries--}
%
% define styles for section and subsection headings
%
%\font\tenhv  = phvb at 12pt
%\newcommand{\hvfont}{\fontfamily{phv}\selectfont}
%\newcommand{\hvfont}{\fontfamily{phv}\fontseries{bc}\selectfont}
\newcommand{\secstyle}{\normalfont\itshape\bfseries\large}
%\newcommand{\secstyle}{\hvfont\itshape\large}
\newcommand{\subsecstyle}{\normalfont\itshape\large}
\newcommand{\paragraphstyle}{\normalfont\itshape}
%
% redefine look of sections, subsections and paragraphs.
%
\makeatletter
\renewcommand{\section}{%
\@startsection
  {section}%   the name
  {1}%         the level
  {0pt} %{-\Myindent}%       the indent
  {-2\baselineskip}%   beforeskip
  {\baselineskip}%    afterskip
  {\secstyle}}%   style
\renewcommand{\subsection}{%
\@startsection
  {subsection}%   the name
  {2}%         the level
  {0pt}%{-\Myindent}%       the indent
  {-\baselineskip}%   beforeskip
  {0.5\baselineskip}%    afterskip
  {\subsecstyle}}%   style
\renewcommand{\paragraph}{%
\@startsection
  {paragraph}%   the name
  {4}%         the level
  {0pt}%{-\Myindent}%       the indent
  {-\baselineskip}%   beforeskip
  {-1em}%    afterskip
  {\paragraphstyle}}%   style
\makeatother
%%
%% modify margins...
%%
% % \addtolength{\oddsidemargin}{-0.5cm}
% % %\addtolength{\evensidemargin}{-0.5cm}
% % \addtolength{\textwidth}{0.5cm}


\begin{document}

%% Make the frontpage
\thispagestyle{empty}
\input frontmatter/frontpage/frontpage.tex  % include a frontpage

%*********************************************%
                  \frontmatter
%*********************************************%

\tableofcontents      % this is optional

%\input frontmatter/preface/preface.tex


%********************************************%
                  \mainmatter
%********************************************%
\input frontmatter/introduction/intro.tex
\input chapter1_Quantum_mechanics/QM.tex 
\input chapter2_Quantum_monte_Carlo/QMC2.tex 
\input chapter3_WaveFunction/TWF.tex
\input chapter4_Cases_of_study/Cases.tex
\input chapter5_Implementation/implementation.tex 
\input chapter6_Numerical_Experiments/NumExp.tex
\input chapter7_Conclusions/Conclusions.tex
\input appendix/appendix.tex	% file with the contents of appendix A



%*************************************/
               \backmatter
%*************************************/
%\input glossary.tex
\bibliographystyle{h-physrev3}
\bibliography{bibliography/bibliography.bib}
%\printindex  % make an index AUTOMATICALLY


\end{document}

