\documentclass[11pt,a4paper]{book}
\usepackage[inner=1.5in,outer=1in,bottom=1.5in]{geometry}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{graphicx}
\usepackage{float}
%\usepackage{a4wide}
\usepackage{color}
\usepackage{amsmath}
\usepackage{amssymb}
%\usepackage[dvips]{epsfig}
\usepackage[T1]{fontenc}
\usepackage{cite} % [2,3,4] --> [2--4]
\usepackage{shadow}
\usepackage[hyphens]{url}
\usepackage[breaklinks]{hyperref}
\usepackage{tcolorbox}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{tabularx}
%\usepackage[margin=1in]{geometry}
\usepackage{pdfpages}
\usepackage{setspace}
\usepackage[toc,page]{appendix}
\usepackage[nottoc,notlot,notlof]{tocbibind}
\usepackage{titlesec}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
%\usepackage[cm]{fullpage}		% Smalere marger.
%\captionsetup[subfigure]{labelformat = parens, labelsep = space, font = small}
%\usepackage{fancyhdr}

\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{3}
\setlength{\footskip}{1 in}%100pt}

\definecolor{light-gray}{gray}{0.95}
\definecolor{Ubuntu-purple}{RGB}{48, 10, 36}

\lstset{language=c++}
\lstset{alsolanguage=Python}
\lstset{basicstyle=\scriptsize}
\lstset{backgroundcolor=\color{light-gray}}
\lstset{frame=single}
\lstset{stringstyle=\ttfamily}
\lstset{keywordstyle=\color{red}\bfseries}
\lstset{commentstyle=\itshape\color{blue}}
\lstset{showspaces=false}
\lstset{showstringspaces=false}
\lstset{showtabs=false}
\lstset{breaklines}
\lstset{showlines=false}
\lstset{numbers=left}
\lstset{captionpos=b}
\usepackage[utf8]{inputenc}
%\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
%\usepackage{graphicx}
\graphicspath{{images/}{../images/}}

\usepackage{sectsty}
\partfont{\centering}
\numberwithin{equation}{section}

\def\changemargin#1#2{\list{}{\rightmargin#2\leftmargin#1}\item[]}
\let\endchangemargin=\endlist 

\lstdefinestyle{Bash}
{
    language={},
    backgroundcolor=\color{Ubuntu-purple},
    basicstyle=\small\color{white}\ttfamily
}

\let\origdoublepage\cleardoublepage
\newcommand{\clearemptydoublepage}{%
  \clearpage
  {\pagestyle{empty}\origdoublepage}%
}

\let\cleardoublepage\clearemptydoublepage

\usepackage[usestackEOL]{stackengine}
 
\usepackage{subfiles}
 
\usepackage{blindtext}

%\usepackage[parfill]{parskip}
 
%\title{Thesis}
%\author{Christian Fleischer}
%\date{ }
 
\begin{document}
 
\includepdf{sections/front-page.pdf}
\clearemptydoublepage
%\maketitle

%\chapter*{Abstract}
\frontmatter
\vspace*{\fill}
\thispagestyle{plain}
\begin{center}
\textbf{Abstract}
\end{center}
\subfile{sections/abstract}
\vspace*{\fill}

\chapter*{Preface}
\subfile{sections/preface}

\doublespacing
\tableofcontents
\singlespacing
 
\mainmatter
\chapter{Introduction}
\subfile{sections/introduction}
 

\part{Theory} 
\subfile{sections/theory}
 
\part{Implementation}
\subfile{sections/implementation}

\part{Results}
\subfile{sections/results}

\chapter{Conclusions}\label{sec: Conclusions}
\subfile{sections/conclusion}

\subfile{sections/appendix}

%\chapter{Bibliography}
\newpage\thispagestyle{empty}
\begin{changemargin}{0 cm}{4 cm}
\subfile{sections/bibliography}
\end{changemargin}

 
\end{document}
